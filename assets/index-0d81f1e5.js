(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function PN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var vP={exports:{}},Cf={},_P={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),RN=Symbol.for("react.portal"),bN=Symbol.for("react.fragment"),AN=Symbol.for("react.strict_mode"),kN=Symbol.for("react.profiler"),xN=Symbol.for("react.provider"),CN=Symbol.for("react.context"),ON=Symbol.for("react.forward_ref"),DN=Symbol.for("react.suspense"),NN=Symbol.for("react.memo"),LN=Symbol.for("react.lazy"),qE=Symbol.iterator;function VN(t){return t===null||typeof t!="object"?null:(t=qE&&t[qE]||t["@@iterator"],typeof t=="function"?t:null)}var wP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EP=Object.assign,IP={};function Ka(t,e,n){this.props=t,this.context=e,this.refs=IP,this.updater=n||wP}Ka.prototype.isReactComponent={};Ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TP(){}TP.prototype=Ka.prototype;function v_(t,e,n){this.props=t,this.context=e,this.refs=IP,this.updater=n||wP}var __=v_.prototype=new TP;__.constructor=v_;EP(__,Ka.prototype);__.isPureReactComponent=!0;var WE=Array.isArray,SP=Object.prototype.hasOwnProperty,w_={current:null},PP={key:!0,ref:!0,__self:!0,__source:!0};function RP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SP.call(e,r)&&!PP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yc,type:t,key:s,ref:o,props:i,_owner:w_.current}}function MN(t,e){return{$$typeof:yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function E_(t){return typeof t=="object"&&t!==null&&t.$$typeof===yc}function $N(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var HE=/\/+/g;function Rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$N(""+t.key):e.toString(36)}function Dd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yc:case RN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rm(o,0):r,WE(i)?(n="",t!=null&&(n=t.replace(HE,"$&/")+"/"),Dd(i,e,n,"",function(l){return l})):i!=null&&(E_(i)&&(i=MN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(HE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",WE(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Rm(s,a);o+=Dd(s,e,n,u,i)}else if(u=VN(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Rm(s,a++),o+=Dd(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],i=0;return Dd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Nd={transition:null},UN={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:w_};de.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!E_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ka;de.Fragment=bN;de.Profiler=kN;de.PureComponent=v_;de.StrictMode=AN;de.Suspense=DN;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=EP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=w_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)SP.call(e,u)&&!PP.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:yc,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:CN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xN,_context:t},t.Consumer=t};de.createElement=RP;de.createFactory=function(t){var e=RP.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:ON,render:t}};de.isValidElement=E_;de.lazy=function(t){return{$$typeof:LN,_payload:{_status:-1,_result:t},_init:FN}};de.memo=function(t,e){return{$$typeof:NN,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Nd.transition;Nd.transition={};try{t()}finally{Nd.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return nn.current.useCallback(t,e)};de.useContext=function(t){return nn.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};de.useEffect=function(t,e){return nn.current.useEffect(t,e)};de.useId=function(){return nn.current.useId()};de.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return nn.current.useMemo(t,e)};de.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};de.useRef=function(t){return nn.current.useRef(t)};de.useState=function(t){return nn.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return nn.current.useTransition()};de.version="18.2.0";_P.exports=de;var me=_P.exports;const le=xf(me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN=me,zN=Symbol.for("react.element"),BN=Symbol.for("react.fragment"),qN=Object.prototype.hasOwnProperty,WN=jN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HN={key:!0,ref:!0,__self:!0,__source:!0};function bP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qN.call(e,r)&&!HN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zN,type:t,key:s,ref:o,props:i,_owner:WN.current}}Cf.Fragment=BN;Cf.jsx=bP;Cf.jsxs=bP;vP.exports=Cf;var b=vP.exports,ry={},AP={exports:{}},bn={},kP={exports:{}},xP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,D){var x=L.length;L.push(D);e:for(;0<x;){var G=x-1>>>1,z=L[G];if(0<i(z,D))L[G]=D,L[x]=z,x=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var D=L[0],x=L.pop();if(x!==D){L[0]=x;e:for(var G=0,z=L.length,ae=z>>>1;G<ae;){var ue=2*(G+1)-1,Qe=L[ue],be=ue+1,Ae=L[be];if(0>i(Qe,x))be<z&&0>i(Ae,Qe)?(L[G]=Ae,L[be]=x,G=be):(L[G]=Qe,L[ue]=x,G=ue);else if(be<z&&0>i(Ae,x))L[G]=Ae,L[be]=x,G=be;else break e}}return D}function i(L,D){var x=L.sortIndex-D.sortIndex;return x!==0?x:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,h=3,f=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var D=n(l);D!==null;){if(D.callback===null)r(l);else if(D.startTime<=L)r(l),D.sortIndex=D.expirationTime,e(u,D);else break;D=n(l)}}function w(L){if(v=!1,y(L),!g)if(n(u)!==null)g=!0,Le(E);else{var D=n(l);D!==null&&je(w,D.startTime-L)}}function E(L,D){g=!1,v&&(v=!1,m(S),S=-1),f=!0;var x=h;try{for(y(D),d=n(u);d!==null&&(!(d.expirationTime>D)||L&&!U());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var z=G(d.expirationTime<=D);D=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(u)&&r(u),y(D)}else r(u);d=n(u)}if(d!==null)var ae=!0;else{var ue=n(l);ue!==null&&je(w,ue.startTime-D),ae=!1}return ae}finally{d=null,h=x,f=!1}}var I=!1,T=null,S=-1,k=5,A=-1;function U(){return!(t.unstable_now()-A<k)}function W(){if(T!==null){var L=t.unstable_now();A=L;var D=!0;try{D=T(!0,L)}finally{D?H():(I=!1,T=null)}}else I=!1}var H;if(typeof p=="function")H=function(){p(W)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,oe=Te.port2;Te.port1.onmessage=W,H=function(){oe.postMessage(null)}}else H=function(){_(W,0)};function Le(L){T=L,I||(I=!0,H())}function je(L,D){S=_(function(){L(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Le(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var x=h;h=D;try{return L()}finally{h=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var x=h;h=L;try{return D()}finally{h=x}},t.unstable_scheduleCallback=function(L,D,x){var G=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?G+x:G):x=G,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=x+z,L={id:c++,callback:D,priorityLevel:L,startTime:x,expirationTime:z,sortIndex:-1},x>G?(L.sortIndex=x,e(l,L),n(u)===null&&L===n(l)&&(v?(m(S),S=-1):v=!0,je(w,x-G))):(L.sortIndex=z,e(u,L),g||f||(g=!0,Le(E))),L},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(L){var D=h;return function(){var x=h;h=D;try{return L.apply(this,arguments)}finally{h=x}}}})(xP);kP.exports=xP;var GN=kP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=me,Tn=GN;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OP=new Set,_l={};function co(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(_l[t]=e,t=0;t<e.length;t++)OP.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iy=Object.prototype.hasOwnProperty,KN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GE={},KE={};function QN(t){return iy.call(KE,t)?!0:iy.call(GE,t)?!1:KN.test(t)?KE[t]=!0:(GE[t]=!0,!1)}function YN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XN(t,e,n,r){if(e===null||typeof e>"u"||YN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var I_=/[\-:]([a-z])/g;function T_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(I_,T_);Ot[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(I_,T_);Ot[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(I_,T_);Ot[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function S_(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XN(e,n,i,r)&&(n=null),r||i===null?QN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=CP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),R_=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ay=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),LP=Symbol.for("react.offscreen"),QE=Symbol.iterator;function gu(t){return t===null||typeof t!="object"?null:(t=QE&&t[QE]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,bm;function Mu(t){if(bm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bm=e&&e[1]||""}return`
`+bm+t}var Am=!1;function km(t,e){if(!t||Am)return"";Am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Am=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mu(t):""}function JN(t){switch(t.tag){case 5:return Mu(t.type);case 16:return Mu("Lazy");case 13:return Mu("Suspense");case 19:return Mu("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Vo:return"Portal";case sy:return"Profiler";case P_:return"StrictMode";case oy:return"Suspense";case ay:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NP:return(t.displayName||"Context")+".Consumer";case DP:return(t._context.displayName||"Context")+".Provider";case R_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b_:return e=t.displayName||null,e!==null?e:uy(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return uy(t(e))}catch{}}return null}function ZN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(e);case 8:return e===P_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eL(t){var e=VP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=eL(t))}function MP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ly(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $P(t,e){e=e.checked,e!=null&&S_(t,"checked",e,!1)}function cy(t,e){$P(t,e);var n=$i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dy(t,e.type,n):e.hasOwnProperty("defaultValue")&&dy(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dy(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $u=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if($u(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function FP(t,e){var n=$i(e.value),r=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ZE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,jP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tL=["Webkit","ms","Moz","O"];Object.keys(Yu).forEach(function(t){tL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yu[e]=Yu[t]})});function zP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yu.hasOwnProperty(t)&&Yu[t]?(""+e).trim():e+"px"}function BP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nL=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function py(t,e){if(e){if(nL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function my(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gy=null;function A_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yy=null,Jo=null,Zo=null;function eI(t){if(t=wc(t)){if(typeof yy!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Vf(e),yy(t.stateNode,t.type,e))}}function qP(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function WP(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,eI(t),e)for(t=0;t<e.length;t++)eI(e[t])}}function HP(t,e){return t(e)}function GP(){}var xm=!1;function KP(t,e,n){if(xm)return t(e,n);xm=!0;try{return HP(t,e,n)}finally{xm=!1,(Jo!==null||Zo!==null)&&(GP(),WP())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=Vf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var vy=!1;if(qr)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){vy=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{vy=!1}function rL(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Xu=!1,ch=null,dh=!1,_y=null,iL={onError:function(t){Xu=!0,ch=t}};function sL(t,e,n,r,i,s,o,a,u){Xu=!1,ch=null,rL.apply(iL,arguments)}function oL(t,e,n,r,i,s,o,a,u){if(sL.apply(this,arguments),Xu){if(Xu){var l=ch;Xu=!1,ch=null}else throw Error(N(198));dh||(dh=!0,_y=l)}}function ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tI(t){if(ho(t)!==t)throw Error(N(188))}function aL(t){var e=t.alternate;if(!e){if(e=ho(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return tI(i),t;if(s===r)return tI(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function YP(t){return t=aL(t),t!==null?XP(t):null}function XP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XP(t);if(e!==null)return e;t=t.sibling}return null}var JP=Tn.unstable_scheduleCallback,nI=Tn.unstable_cancelCallback,uL=Tn.unstable_shouldYield,lL=Tn.unstable_requestPaint,nt=Tn.unstable_now,cL=Tn.unstable_getCurrentPriorityLevel,k_=Tn.unstable_ImmediatePriority,ZP=Tn.unstable_UserBlockingPriority,hh=Tn.unstable_NormalPriority,dL=Tn.unstable_LowPriority,eR=Tn.unstable_IdlePriority,Of=null,wr=null;function hL(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Of,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:mL,fL=Math.log,pL=Math.LN2;function mL(t){return t>>>=0,t===0?32:31-(fL(t)/pL|0)|0}var nd=64,rd=4194304;function Fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fu(a):(s&=o,s!==0&&(r=Fu(s)))}else o=n&~i,o!==0?r=Fu(o):s!==0&&(r=Fu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function gL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=gL(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function wy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tR(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function vL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function x_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function nR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rR,C_,iR,sR,oR,Ey=!1,id=[],Ri=null,bi=null,Ai=null,Il=new Map,Tl=new Map,yi=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rI(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function vu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wc(e),e!==null&&C_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wL(t,e,n,r,i){switch(e){case"focusin":return Ri=vu(Ri,t,e,n,r,i),!0;case"dragenter":return bi=vu(bi,t,e,n,r,i),!0;case"mouseover":return Ai=vu(Ai,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Il.set(s,vu(Il.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tl.set(s,vu(Tl.get(s)||null,t,e,n,r,i)),!0}return!1}function aR(t){var e=Ts(t.target);if(e!==null){var n=ho(e);if(n!==null){if(e=n.tag,e===13){if(e=QP(n),e!==null){t.blockedOn=e,oR(t.priority,function(){iR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gy=r,n.target.dispatchEvent(r),gy=null}else return e=wc(n),e!==null&&C_(e),t.blockedOn=n,!1;e.shift()}return!0}function iI(t,e,n){Ld(t)&&n.delete(e)}function EL(){Ey=!1,Ri!==null&&Ld(Ri)&&(Ri=null),bi!==null&&Ld(bi)&&(bi=null),Ai!==null&&Ld(Ai)&&(Ai=null),Il.forEach(iI),Tl.forEach(iI)}function _u(t,e){t.blockedOn===e&&(t.blockedOn=null,Ey||(Ey=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,EL)))}function Sl(t){function e(i){return _u(i,t)}if(0<id.length){_u(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&_u(Ri,t),bi!==null&&_u(bi,t),Ai!==null&&_u(Ai,t),Il.forEach(e),Tl.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)aR(n),n.blockedOn===null&&yi.shift()}var ea=Zr.ReactCurrentBatchConfig,ph=!0;function IL(t,e,n,r){var i=_e,s=ea.transition;ea.transition=null;try{_e=1,O_(t,e,n,r)}finally{_e=i,ea.transition=s}}function TL(t,e,n,r){var i=_e,s=ea.transition;ea.transition=null;try{_e=4,O_(t,e,n,r)}finally{_e=i,ea.transition=s}}function O_(t,e,n,r){if(ph){var i=Iy(t,e,n,r);if(i===null)jm(t,e,r,mh,n),rI(t,r);else if(wL(i,t,e,n,r))r.stopPropagation();else if(rI(t,r),e&4&&-1<_L.indexOf(t)){for(;i!==null;){var s=wc(i);if(s!==null&&rR(s),s=Iy(t,e,n,r),s===null&&jm(t,e,r,mh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jm(t,e,r,null,n)}}var mh=null;function Iy(t,e,n,r){if(mh=null,t=A_(r),t=Ts(t),t!==null)if(e=ho(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mh=t,null}function uR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cL()){case k_:return 1;case ZP:return 4;case hh:case dL:return 16;case eR:return 536870912;default:return 16}default:return 16}}var Ii=null,D_=null,Vd=null;function lR(){if(Vd)return Vd;var t,e=D_,n=e.length,r,i="value"in Ii?Ii.value:Ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vd=i.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function sI(){return!1}function An(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:sI,this.isPropagationStopped=sI,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N_=An(Qa),_c=He({},Qa,{view:0,detail:0}),SL=An(_c),Om,Dm,wu,Df=He({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(Om=t.screenX-wu.screenX,Dm=t.screenY-wu.screenY):Dm=Om=0,wu=t),Om)},movementY:function(t){return"movementY"in t?t.movementY:Dm}}),oI=An(Df),PL=He({},Df,{dataTransfer:0}),RL=An(PL),bL=He({},_c,{relatedTarget:0}),Nm=An(bL),AL=He({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=An(AL),xL=He({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CL=An(xL),OL=He({},Qa,{data:0}),aI=An(OL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LL[t])?!!e[t]:!1}function L_(){return VL}var ML=He({},_c,{key:function(t){if(t.key){var e=DL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L_,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$L=An(ML),FL=He({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uI=An(FL),UL=He({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L_}),jL=An(UL),zL=He({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),BL=An(zL),qL=He({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WL=An(qL),HL=[9,13,27,32],V_=qr&&"CompositionEvent"in window,Ju=null;qr&&"documentMode"in document&&(Ju=document.documentMode);var GL=qr&&"TextEvent"in window&&!Ju,cR=qr&&(!V_||Ju&&8<Ju&&11>=Ju),lI=String.fromCharCode(32),cI=!1;function dR(t,e){switch(t){case"keyup":return HL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function KL(t,e){switch(t){case"compositionend":return hR(e);case"keypress":return e.which!==32?null:(cI=!0,lI);case"textInput":return t=e.data,t===lI&&cI?null:t;default:return null}}function QL(t,e){if($o)return t==="compositionend"||!V_&&dR(t,e)?(t=lR(),Vd=D_=Ii=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cR&&e.locale!=="ko"?null:e.data;default:return null}}var YL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YL[t.type]:e==="textarea"}function fR(t,e,n,r){qP(r),e=gh(e,"onChange"),0<e.length&&(n=new N_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zu=null,Pl=null;function XL(t){SR(t,0)}function Nf(t){var e=jo(t);if(MP(e))return t}function JL(t,e){if(t==="change")return e}var pR=!1;if(qr){var Lm;if(qr){var Vm="oninput"in document;if(!Vm){var hI=document.createElement("div");hI.setAttribute("oninput","return;"),Vm=typeof hI.oninput=="function"}Lm=Vm}else Lm=!1;pR=Lm&&(!document.documentMode||9<document.documentMode)}function fI(){Zu&&(Zu.detachEvent("onpropertychange",mR),Pl=Zu=null)}function mR(t){if(t.propertyName==="value"&&Nf(Pl)){var e=[];fR(e,Pl,t,A_(t)),KP(XL,e)}}function ZL(t,e,n){t==="focusin"?(fI(),Zu=e,Pl=n,Zu.attachEvent("onpropertychange",mR)):t==="focusout"&&fI()}function eV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(Pl)}function tV(t,e){if(t==="click")return Nf(e)}function nV(t,e){if(t==="input"||t==="change")return Nf(e)}function rV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:rV;function Rl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!iy.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function pI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mI(t,e){var n=pI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pI(n)}}function gR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yR(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function M_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iV(t){var e=yR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gR(n.ownerDocument.documentElement,n)){if(r!==null&&M_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=mI(n,s);var o=mI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sV=qr&&"documentMode"in document&&11>=document.documentMode,Fo=null,Ty=null,el=null,Sy=!1;function gI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sy||Fo==null||Fo!==lh(r)||(r=Fo,"selectionStart"in r&&M_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&Rl(el,r)||(el=r,r=gh(Ty,"onSelect"),0<r.length&&(e=new N_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},Mm={},vR={};qr&&(vR=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Lf(t){if(Mm[t])return Mm[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vR)return Mm[t]=e[n];return t}var _R=Lf("animationend"),wR=Lf("animationiteration"),ER=Lf("animationstart"),IR=Lf("transitionend"),TR=new Map,yI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){TR.set(t,e),co(e,[t])}for(var $m=0;$m<yI.length;$m++){var Fm=yI[$m],oV=Fm.toLowerCase(),aV=Fm[0].toUpperCase()+Fm.slice(1);es(oV,"on"+aV)}es(_R,"onAnimationEnd");es(wR,"onAnimationIteration");es(ER,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(IR,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function vI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oL(r,e,void 0,t),t.currentTarget=null}function SR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;vI(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;vI(i,a,l),s=u}}}if(dh)throw t=_y,dh=!1,_y=null,t}function ke(t,e){var n=e[ky];n===void 0&&(n=e[ky]=new Set);var r=t+"__bubble";n.has(r)||(PR(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),PR(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[ad]){t[ad]=!0,OP.forEach(function(n){n!=="selectionchange"&&(uV.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,Um("selectionchange",!1,e))}}function PR(t,e,n,r){switch(uR(e)){case 1:var i=IL;break;case 4:i=TL;break;default:i=O_}n=i.bind(null,e,n,t),i=void 0,!vy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KP(function(){var l=s,c=A_(n),d=[];e:{var h=TR.get(t);if(h!==void 0){var f=N_,g=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":f=$L;break;case"focusin":g="focus",f=Nm;break;case"focusout":g="blur",f=Nm;break;case"beforeblur":case"afterblur":f=Nm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=oI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=RL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jL;break;case _R:case wR:case ER:f=kL;break;case IR:f=BL;break;case"scroll":f=SL;break;case"wheel":f=WL;break;case"copy":case"cut":case"paste":f=CL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=uI}var v=(e&4)!==0,_=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var p=l,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=El(p,m),w!=null&&v.push(Al(p,w,y)))),_)break;p=p.return}0<v.length&&(h=new f(h,g,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==gy&&(g=n.relatedTarget||n.fromElement)&&(Ts(g)||g[Wr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=l,g=g?Ts(g):null,g!==null&&(_=ho(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=l),f!==g)){if(v=oI,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=uI,w="onPointerLeave",m="onPointerEnter",p="pointer"),_=f==null?h:jo(f),y=g==null?h:jo(g),h=new v(w,p+"leave",f,n,c),h.target=_,h.relatedTarget=y,w=null,Ts(c)===l&&(v=new v(m,p+"enter",g,n,c),v.target=y,v.relatedTarget=_,w=v),_=w,f&&g)t:{for(v=f,m=g,p=0,y=v;y;y=Io(y))p++;for(y=0,w=m;w;w=Io(w))y++;for(;0<p-y;)v=Io(v),p--;for(;0<y-p;)m=Io(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=Io(v),m=Io(m)}v=null}else v=null;f!==null&&_I(d,h,f,v,!1),g!==null&&_!==null&&_I(d,_,g,v,!0)}}e:{if(h=l?jo(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=JL;else if(dI(h))if(pR)E=nV;else{E=eV;var I=ZL}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=tV);if(E&&(E=E(t,l))){fR(d,E,n,c);break e}I&&I(t,h,l),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&dy(h,"number",h.value)}switch(I=l?jo(l):window,t){case"focusin":(dI(I)||I.contentEditable==="true")&&(Fo=I,Ty=l,el=null);break;case"focusout":el=Ty=Fo=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,gI(d,n,c);break;case"selectionchange":if(sV)break;case"keydown":case"keyup":gI(d,n,c)}var T;if(V_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else $o?dR(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(cR&&n.locale!=="ko"&&($o||S!=="onCompositionStart"?S==="onCompositionEnd"&&$o&&(T=lR()):(Ii=c,D_="value"in Ii?Ii.value:Ii.textContent,$o=!0)),I=gh(l,S),0<I.length&&(S=new aI(S,t,null,n,c),d.push({event:S,listeners:I}),T?S.data=T:(T=hR(n),T!==null&&(S.data=T)))),(T=GL?KL(t,n):QL(t,n))&&(l=gh(l,"onBeforeInput"),0<l.length&&(c=new aI("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=T))}SR(d,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=El(t,n),s!=null&&r.unshift(Al(t,s,i)),s=El(t,e),s!=null&&r.push(Al(t,s,i))),t=t.return}return r}function Io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _I(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=El(n,s),u!=null&&o.unshift(Al(n,u,a))):i||(u=El(n,s),u!=null&&o.push(Al(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lV=/\r\n?/g,cV=/\u0000|\uFFFD/g;function wI(t){return(typeof t=="string"?t:""+t).replace(lV,`
`).replace(cV,"")}function ud(t,e,n){if(e=wI(e),wI(t)!==e&&n)throw Error(N(425))}function yh(){}var Py=null,Ry=null;function by(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ay=typeof setTimeout=="function"?setTimeout:void 0,dV=typeof clearTimeout=="function"?clearTimeout:void 0,EI=typeof Promise=="function"?Promise:void 0,hV=typeof queueMicrotask=="function"?queueMicrotask:typeof EI<"u"?function(t){return EI.resolve(null).then(t).catch(fV)}:Ay;function fV(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function II(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),ur="__reactFiber$"+Ya,kl="__reactProps$"+Ya,Wr="__reactContainer$"+Ya,ky="__reactEvents$"+Ya,pV="__reactListeners$"+Ya,mV="__reactHandles$"+Ya;function Ts(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=II(t);t!==null;){if(n=t[ur])return n;t=II(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[ur]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Vf(t){return t[kl]||null}var xy=[],zo=-1;function ts(t){return{current:t}}function De(t){0>zo||(t.current=xy[zo],xy[zo]=null,zo--)}function Se(t,e){zo++,xy[zo]=t.current,t.current=e}var Fi={},Bt=ts(Fi),pn=ts(!1),zs=Fi;function ya(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function vh(){De(pn),De(Bt)}function TI(t,e,n){if(Bt.current!==Fi)throw Error(N(168));Se(Bt,e),Se(pn,n)}function RR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,ZN(t)||"Unknown",i));return He({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,zs=Bt.current,Se(Bt,t),Se(pn,pn.current),!0}function SI(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=RR(t,e,zs),r.__reactInternalMemoizedMergedChildContext=t,De(pn),De(Bt),Se(Bt,t)):De(pn),Se(pn,n)}var Or=null,Mf=!1,Bm=!1;function bR(t){Or===null?Or=[t]:Or.push(t)}function gV(t){Mf=!0,bR(t)}function ns(){if(!Bm&&Or!==null){Bm=!0;var t=0,e=_e;try{var n=Or;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,Mf=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),JP(k_,ns),i}finally{_e=e,Bm=!1}}return null}var Bo=[],qo=0,wh=null,Eh=0,Cn=[],On=0,Bs=null,Nr=1,Lr="";function fs(t,e){Bo[qo++]=Eh,Bo[qo++]=wh,wh=t,Eh=e}function AR(t,e,n){Cn[On++]=Nr,Cn[On++]=Lr,Cn[On++]=Bs,Bs=t;var r=Nr;t=Lr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nr=1<<32-Jn(e)+i|n<<i|r,Lr=s+t}else Nr=1<<s|n<<i|r,Lr=t}function $_(t){t.return!==null&&(fs(t,1),AR(t,1,0))}function F_(t){for(;t===wh;)wh=Bo[--qo],Bo[qo]=null,Eh=Bo[--qo],Bo[qo]=null;for(;t===Bs;)Bs=Cn[--On],Cn[On]=null,Lr=Cn[--On],Cn[On]=null,Nr=Cn[--On],Cn[On]=null}var In=null,_n=null,$e=!1,Qn=null;function kR(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,_n=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bs!==null?{id:Nr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,_n=null,!0):!1;default:return!1}}function Cy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oy(t){if($e){var e=_n;if(e){var n=e;if(!PI(t,e)){if(Cy(t))throw Error(N(418));e=ki(n.nextSibling);var r=In;e&&PI(t,e)?kR(r,n):(t.flags=t.flags&-4097|2,$e=!1,In=t)}}else{if(Cy(t))throw Error(N(418));t.flags=t.flags&-4097|2,$e=!1,In=t}}}function RI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function ld(t){if(t!==In)return!1;if(!$e)return RI(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!by(t.type,t.memoizedProps)),e&&(e=_n)){if(Cy(t))throw xR(),Error(N(418));for(;e;)kR(t,e),e=ki(e.nextSibling)}if(RI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=In?ki(t.stateNode.nextSibling):null;return!0}function xR(){for(var t=_n;t;)t=ki(t.nextSibling)}function va(){_n=In=null,$e=!1}function U_(t){Qn===null?Qn=[t]:Qn.push(t)}var yV=Zr.ReactCurrentBatchConfig;function Gn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ih=ts(null),Th=null,Wo=null,j_=null;function z_(){j_=Wo=Th=null}function B_(t){var e=Ih.current;De(Ih),t._currentValue=e}function Dy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){Th=t,j_=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(j_!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(Th===null)throw Error(N(308));Wo=t,Th.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Ss=null;function q_(t){Ss===null?Ss=[t]:Ss.push(t)}function CR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,q_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mi=!1;function W_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hr(t,n)}return i=r.interleaved,i===null?(e.next=e,q_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hr(t,n)}function $d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x_(t,n)}}function bI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sh(t,e,n,r){var i=t.updateQueue;mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=He({},d,h);break e;case 2:mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=f,u=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ws|=o,t.lanes=o,t.memoizedState=d}}function AI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var DR=new CP.Component().refs;function Ny(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?ho(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=Oi(t),s=Ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=xi(t,s,i),e!==null&&(Zn(e,t,i,r),$d(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=Oi(t),s=Ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xi(t,s,i),e!==null&&(Zn(e,t,i,r),$d(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Oi(t),i=Ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=xi(t,i,r),e!==null&&(Zn(e,t,r,n),$d(e,t,r))}};function kI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rl(n,r)||!Rl(i,s):!0}function NR(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=mn(e)?zs:Bt.current,r=e.contextTypes,s=(r=r!=null)?ya(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function Ly(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=DR,W_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=mn(e)?zs:Bt.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ny(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$f.enqueueReplaceState(i,i.state,null),Sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===DR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function cd(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CI(t){var e=t._init;return e(t._payload)}function LR(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Di(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,w){return p===null||p.tag!==6?(p=Ym(y,m.mode,w),p.return=m,p):(p=i(p,y),p.return=m,p)}function u(m,p,y,w){var E=y.type;return E===Mo?c(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pi&&CI(E)===p.type)?(w=i(p,y.props),w.ref=Eu(m,p,y),w.return=m,w):(w=qd(y.type,y.key,y.props,null,m.mode,w),w.ref=Eu(m,p,y),w.return=m,w)}function l(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Xm(y,m.mode,w),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,w,E){return p===null||p.tag!==7?(p=Ds(y,m.mode,w,E),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ym(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zc:return y=qd(p.type,p.key,p.props,null,m.mode,y),y.ref=Eu(m,null,p),y.return=m,y;case Vo:return p=Xm(p,m.mode,y),p.return=m,p;case pi:var w=p._init;return d(m,w(p._payload),y)}if($u(p)||gu(p))return p=Ds(p,m.mode,y,null),p.return=m,p;cd(m,p)}return null}function h(m,p,y,w){var E=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:return y.key===E?u(m,p,y,w):null;case Vo:return y.key===E?l(m,p,y,w):null;case pi:return E=y._init,h(m,p,E(y._payload),w)}if($u(y)||gu(y))return E!==null?null:c(m,p,y,w,null);cd(m,y)}return null}function f(m,p,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(p,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,E);case Vo:return m=m.get(w.key===null?y:w.key)||null,l(p,m,w,E);case pi:var I=w._init;return f(m,p,y,I(w._payload),E)}if($u(w)||gu(w))return m=m.get(y)||null,c(p,m,w,E,null);cd(p,w)}return null}function g(m,p,y,w){for(var E=null,I=null,T=p,S=p=0,k=null;T!==null&&S<y.length;S++){T.index>S?(k=T,T=null):k=T.sibling;var A=h(m,T,y[S],w);if(A===null){T===null&&(T=k);break}t&&T&&A.alternate===null&&e(m,T),p=s(A,p,S),I===null?E=A:I.sibling=A,I=A,T=k}if(S===y.length)return n(m,T),$e&&fs(m,S),E;if(T===null){for(;S<y.length;S++)T=d(m,y[S],w),T!==null&&(p=s(T,p,S),I===null?E=T:I.sibling=T,I=T);return $e&&fs(m,S),E}for(T=r(m,T);S<y.length;S++)k=f(T,m,S,y[S],w),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?S:k.key),p=s(k,p,S),I===null?E=k:I.sibling=k,I=k);return t&&T.forEach(function(U){return e(m,U)}),$e&&fs(m,S),E}function v(m,p,y,w){var E=gu(y);if(typeof E!="function")throw Error(N(150));if(y=E.call(y),y==null)throw Error(N(151));for(var I=E=null,T=p,S=p=0,k=null,A=y.next();T!==null&&!A.done;S++,A=y.next()){T.index>S?(k=T,T=null):k=T.sibling;var U=h(m,T,A.value,w);if(U===null){T===null&&(T=k);break}t&&T&&U.alternate===null&&e(m,T),p=s(U,p,S),I===null?E=U:I.sibling=U,I=U,T=k}if(A.done)return n(m,T),$e&&fs(m,S),E;if(T===null){for(;!A.done;S++,A=y.next())A=d(m,A.value,w),A!==null&&(p=s(A,p,S),I===null?E=A:I.sibling=A,I=A);return $e&&fs(m,S),E}for(T=r(m,T);!A.done;S++,A=y.next())A=f(T,m,S,A.value,w),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?S:A.key),p=s(A,p,S),I===null?E=A:I.sibling=A,I=A);return t&&T.forEach(function(W){return e(m,W)}),$e&&fs(m,S),E}function _(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Mo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:e:{for(var E=y.key,I=p;I!==null;){if(I.key===E){if(E=y.type,E===Mo){if(I.tag===7){n(m,I.sibling),p=i(I,y.props.children),p.return=m,m=p;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pi&&CI(E)===I.type){n(m,I.sibling),p=i(I,y.props),p.ref=Eu(m,I,y),p.return=m,m=p;break e}n(m,I);break}else e(m,I);I=I.sibling}y.type===Mo?(p=Ds(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=qd(y.type,y.key,y.props,null,m.mode,w),w.ref=Eu(m,p,y),w.return=m,m=w)}return o(m);case Vo:e:{for(I=y.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Xm(y,m.mode,w),p.return=m,m=p}return o(m);case pi:return I=y._init,_(m,p,I(y._payload),w)}if($u(y))return g(m,p,y,w);if(gu(y))return v(m,p,y,w);cd(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Ym(y,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return _}var _a=LR(!0),VR=LR(!1),Ec={},Er=ts(Ec),xl=ts(Ec),Cl=ts(Ec);function Ps(t){if(t===Ec)throw Error(N(174));return t}function H_(t,e){switch(Se(Cl,e),Se(xl,t),Se(Er,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fy(e,t)}De(Er),Se(Er,e)}function wa(){De(Er),De(xl),De(Cl)}function MR(t){Ps(Cl.current);var e=Ps(Er.current),n=fy(e,t.type);e!==n&&(Se(xl,t),Se(Er,n))}function G_(t){xl.current===t&&(De(Er),De(xl))}var Be=ts(0);function Ph(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function K_(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var Fd=Zr.ReactCurrentDispatcher,Wm=Zr.ReactCurrentBatchConfig,qs=0,qe=null,dt=null,mt=null,Rh=!1,tl=!1,Ol=0,vV=0;function Nt(){throw Error(N(321))}function Q_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Y_(t,e,n,r,i,s){if(qs=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?IV:TV,t=n(r,i),tl){s=0;do{if(tl=!1,Ol=0,25<=s)throw Error(N(301));s+=1,mt=dt=null,e.updateQueue=null,Fd.current=SV,t=n(r,i)}while(tl)}if(Fd.current=bh,e=dt!==null&&dt.next!==null,qs=0,mt=dt=qe=null,Rh=!1,e)throw Error(N(300));return t}function X_(){var t=Ol!==0;return Ol=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=t:mt=mt.next=t,mt}function Un(){if(dt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=mt===null?qe.memoizedState:mt.next;if(e!==null)mt=e,dt=t;else{if(t===null)throw Error(N(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},mt===null?qe.memoizedState=mt=t:mt=mt.next=t}return mt}function Dl(t,e){return typeof e=="function"?e(t):e}function Hm(t){var e=Un(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((qs&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,qe.lanes|=c,Ws|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,tr(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,Ws|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gm(t){var e=Un(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $R(){}function FR(t,e){var n=qe,r=Un(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,J_(zR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,jR.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(N(349));qs&30||UR(n,e,i)}return i}function UR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jR(t,e,n,r){e.value=n,e.getSnapshot=r,BR(e)&&qR(t)}function zR(t,e,n){return n(function(){BR(e)&&qR(t)})}function BR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function qR(t){var e=Hr(t,1);e!==null&&Zn(e,t,1,-1)}function OI(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=EV.bind(null,qe,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WR(){return Un().memoizedState}function Ud(t,e,n,r){var i=or();qe.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function Ff(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&Q_(r,o.deps)){i.memoizedState=Nl(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Nl(1|e,n,s,r)}function DI(t,e){return Ud(8390656,8,t,e)}function J_(t,e){return Ff(2048,8,t,e)}function HR(t,e){return Ff(4,2,t,e)}function GR(t,e){return Ff(4,4,t,e)}function KR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QR(t,e,n){return n=n!=null?n.concat([t]):null,Ff(4,4,KR.bind(null,e,t),n)}function Z_(){}function YR(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XR(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JR(t,e,n){return qs&21?(tr(n,e)||(n=tR(),qe.lanes|=n,Ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function _V(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Wm.transition;Wm.transition={};try{t(!1),e()}finally{_e=n,Wm.transition=r}}function ZR(){return Un().memoizedState}function wV(t,e,n){var r=Oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eb(t))tb(e,n);else if(n=CR(t,e,n,r),n!==null){var i=Xt();Zn(n,t,r,i),nb(n,e,r)}}function EV(t,e,n){var r=Oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eb(t))tb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var u=e.interleaved;u===null?(i.next=i,q_(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=CR(t,e,i,r),n!==null&&(i=Xt(),Zn(n,t,r,i),nb(n,e,r))}}function eb(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function tb(t,e){tl=Rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x_(t,n)}}var bh={readContext:Fn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},IV={readContext:Fn,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:DI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4194308,4,KR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ud(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wV.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:OI,useDebugValue:Z_,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=OI(!1),e=t[0];return t=_V.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=or();if($e){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),vt===null)throw Error(N(349));qs&30||UR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,DI(zR.bind(null,r,s,t),[t]),r.flags|=2048,Nl(9,jR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=or(),e=vt.identifierPrefix;if($e){var n=Lr,r=Nr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TV={readContext:Fn,useCallback:YR,useContext:Fn,useEffect:J_,useImperativeHandle:QR,useInsertionEffect:HR,useLayoutEffect:GR,useMemo:XR,useReducer:Hm,useRef:WR,useState:function(){return Hm(Dl)},useDebugValue:Z_,useDeferredValue:function(t){var e=Un();return JR(e,dt.memoizedState,t)},useTransition:function(){var t=Hm(Dl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:$R,useSyncExternalStore:FR,useId:ZR,unstable_isNewReconciler:!1},SV={readContext:Fn,useCallback:YR,useContext:Fn,useEffect:J_,useImperativeHandle:QR,useInsertionEffect:HR,useLayoutEffect:GR,useMemo:XR,useReducer:Gm,useRef:WR,useState:function(){return Gm(Dl)},useDebugValue:Z_,useDeferredValue:function(t){var e=Un();return dt===null?e.memoizedState=t:JR(e,dt.memoizedState,t)},useTransition:function(){var t=Gm(Dl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:$R,useSyncExternalStore:FR,useId:ZR,unstable_isNewReconciler:!1};function Ea(t,e){try{var n="",r=e;do n+=JN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PV=typeof WeakMap=="function"?WeakMap:Map;function rb(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,Hy=r),Vy(t,e)},n}function ib(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vy(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function NI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FV.bind(null,t,e,n),e.then(t,t))}function LI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,xi(n,e,1))),n.lanes|=1),t)}var RV=Zr.ReactCurrentOwner,ln=!1;function Ht(t,e,n,r){e.child=t===null?VR(e,null,n,r):_a(e,t.child,n,r)}function MI(t,e,n,r,i){n=n.render;var s=e.ref;return ta(e,i),r=Y_(t,e,n,r,s,i),n=X_(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):($e&&n&&$_(e),e.flags|=1,Ht(t,e,r,i),e.child)}function $I(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!aw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sb(t,e,s,r,i)):(t=qd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(o,r)&&t.ref===e.ref)return Gr(t,e,i)}return e.flags|=1,t=Di(s,r),t.ref=e.ref,t.return=e,e.child=t}function sb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rl(s,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Gr(t,e,i)}return My(t,e,n,r,i)}function ob(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Go,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Go,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Go,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Go,yn),yn|=r;return Ht(t,e,i,n),e.child}function ab(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function My(t,e,n,r,i){var s=mn(n)?zs:Bt.current;return s=ya(e,s),ta(e,i),n=Y_(t,e,n,r,s,i),r=X_(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):($e&&r&&$_(e),e.flags|=1,Ht(t,e,n,i),e.child)}function FI(t,e,n,r,i){if(mn(n)){var s=!0;_h(e)}else s=!1;if(ta(e,i),e.stateNode===null)jd(t,e),NR(e,n,r),Ly(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Fn(l):(l=mn(n)?zs:Bt.current,l=ya(e,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&xI(e,o,r,l),mi=!1;var h=e.memoizedState;o.state=h,Sh(e,r,o,i),u=e.memoizedState,a!==r||h!==u||pn.current||mi?(typeof c=="function"&&(Ny(e,n,c,r),u=e.memoizedState),(a=mi||kI(e,n,a,r,h,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OR(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Gn(e.type,a),o.props=l,d=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fn(u):(u=mn(n)?zs:Bt.current,u=ya(e,u));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==u)&&xI(e,o,r,u),mi=!1,h=e.memoizedState,o.state=h,Sh(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||pn.current||mi?(typeof f=="function"&&(Ny(e,n,f,r),g=e.memoizedState),(l=mi||kI(e,n,l,r,h,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $y(t,e,n,r,s,i)}function $y(t,e,n,r,i,s){ab(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&SI(e,n,!1),Gr(t,e,s);r=e.stateNode,RV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_a(e,t.child,null,s),e.child=_a(e,null,a,s)):Ht(t,e,a,s),e.memoizedState=r.state,i&&SI(e,n,!0),e.child}function ub(t){var e=t.stateNode;e.pendingContext?TI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TI(t,e.context,!1),H_(t,e.containerInfo)}function UI(t,e,n,r,i){return va(),U_(i),e.flags|=256,Ht(t,e,n,r),e.child}var Fy={dehydrated:null,treeContext:null,retryLane:0};function Uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function lb(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Be,i&1),t===null)return Oy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zf(o,r,0,null),t=Ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uy(n),e.memoizedState=Fy,t):ew(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Di(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Di(a,s):(s=Ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Uy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fy,r}return s=t.child,t=s.sibling,r=Di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ew(t,e){return e=zf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&U_(r),_a(e,t.child,null,n),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(N(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zf({mode:"visible",children:r.children},i,0,null),s=Ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_a(e,t.child,null,o),e.child.memoizedState=Uy(o),e.memoizedState=Fy,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Km(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hr(t,i),Zn(r,t,i,-1))}return ow(),r=Km(Error(N(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=ki(i.nextSibling),In=e,$e=!0,Qn=null,t!==null&&(Cn[On++]=Nr,Cn[On++]=Lr,Cn[On++]=Bs,Nr=t.id,Lr=t.overflow,Bs=e),e=ew(e,r.children),e.flags|=4096,e)}function jI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dy(t.return,e,n)}function Qm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jI(t,n,e);else if(t.tag===19)jI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ph(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ph(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qm(e,!0,n,null,s);break;case"together":Qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AV(t,e,n){switch(e.tag){case 3:ub(e),va();break;case 5:MR(e);break;case 1:mn(e.type)&&_h(e);break;case 4:H_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(Ih,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?lb(t,e,n):(Se(Be,Be.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);Se(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,ob(t,e,n)}return Gr(t,e,n)}var db,jy,hb,fb;db=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jy=function(){};hb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ps(Er.current);var s=null;switch(n){case"input":i=ly(t,i),r=ly(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=hy(t,i),r=hy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yh)}py(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_l.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_l.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ke("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};fb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Iu(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kV(t,e,n){var r=e.pendingProps;switch(F_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return mn(e.type)&&vh(),Lt(e),null;case 3:return r=e.stateNode,wa(),De(pn),De(Bt),K_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(Qy(Qn),Qn=null))),jy(t,e),Lt(e),null;case 5:G_(e);var i=Ps(Cl.current);if(n=e.type,t!==null&&e.stateNode!=null)hb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Lt(e),null}if(t=Ps(Er.current),ld(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[kl]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Uu.length;i++)ke(Uu[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":YE(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":JE(r,s),ke("invalid",r)}py(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,a,t),i=["children",""+a]):_l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":ed(r),XE(r,s,!0);break;case"textarea":ed(r),ZE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[kl]=r,db(t,e,!1,!1),e.stateNode=t;e:{switch(o=my(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uu.length;i++)ke(Uu[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":YE(t,r),i=ly(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),ke("invalid",t);break;case"textarea":JE(t,r),i=hy(t,r),ke("invalid",t);break;default:i=r}py(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?BP(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jP(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wl(t,u):typeof u=="number"&&wl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_l.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",t):u!=null&&S_(t,s,u,o))}switch(n){case"input":ed(t),XE(t,r,!1);break;case"textarea":ed(t),ZE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)fb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Ps(Cl.current),Ps(Er.current),ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ud(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Lt(e),null;case 13:if(De(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&_n!==null&&e.mode&1&&!(e.flags&128))xR(),va(),e.flags|=98560,s=!1;else if(s=ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[ur]=e}else va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Qn!==null&&(Qy(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?ht===0&&(ht=3):ow())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return wa(),jy(t,e),t===null&&bl(e.stateNode.containerInfo),Lt(e),null;case 10:return B_(e.type._context),Lt(e),null;case 17:return mn(e.type)&&vh(),Lt(e),null;case 19:if(De(Be),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Iu(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ph(t),o!==null){for(e.flags|=128,Iu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>Ia&&(e.flags|=128,r=!0,Iu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ph(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return Lt(e),null}else 2*nt()-s.renderingStartTime>Ia&&n!==1073741824&&(e.flags|=128,r=!0,Iu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=Be.current,Se(Be,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return sw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function xV(t,e){switch(F_(e),e.tag){case 1:return mn(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),De(pn),De(Bt),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G_(e),null;case 13:if(De(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Be),null;case 4:return wa(),null;case 10:return B_(e.type._context),null;case 22:case 23:return sw(),null;case 24:return null;default:return null}}var hd=!1,$t=!1,CV=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function zy(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var zI=!1;function OV(t,e){if(Py=ph,t=yR(),M_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++c===r&&(u=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ry={focusedElem:t,selectionRange:n},ph=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){Ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return g=zI,zI=!1,g}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zy(e,n,s)}i=i.next}while(i!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function By(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pb(t){var e=t.alternate;e!==null&&(t.alternate=null,pb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[kl],delete e[ky],delete e[pV],delete e[mV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mb(t){return t.tag===5||t.tag===3||t.tag===4}function BI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yh));else if(r!==4&&(t=t.child,t!==null))for(qy(t,e,n),t=t.sibling;t!==null;)qy(t,e,n),t=t.sibling}function Wy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wy(t,e,n),t=t.sibling;t!==null;)Wy(t,e,n),t=t.sibling}var Pt=null,Kn=!1;function ui(t,e,n){for(n=n.child;n!==null;)gb(t,e,n),n=n.sibling}function gb(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 5:$t||Ho(n,e);case 6:var r=Pt,i=Kn;Pt=null,ui(t,e,n),Pt=r,Kn=i,Pt!==null&&(Kn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Kn?(t=Pt,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),Sl(t)):zm(Pt,n.stateNode));break;case 4:r=Pt,i=Kn,Pt=n.stateNode.containerInfo,Kn=!0,ui(t,e,n),Pt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zy(n,e,o),i=i.next}while(i!==r)}ui(t,e,n);break;case 1:if(!$t&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,ui(t,e,n),$t=r):ui(t,e,n);break;default:ui(t,e,n)}}function qI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CV),e.forEach(function(r){var i=jV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Kn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Kn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Pt===null)throw Error(N(160));gb(s,o,i),Pt=null,Kn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ye(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yb(e,t),e=e.sibling}function yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),sr(t),r&4){try{nl(3,t,t.return),Uf(3,t)}catch(v){Ye(t,t.return,v)}try{nl(5,t,t.return)}catch(v){Ye(t,t.return,v)}}break;case 1:Hn(e,t),sr(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(Hn(e,t),sr(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(v){Ye(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$P(i,s),my(a,o);var l=my(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?BP(i,d):c==="dangerouslySetInnerHTML"?jP(i,d):c==="children"?wl(i,d):S_(i,c,d,l)}switch(a){case"input":cy(i,s);break;case"textarea":FP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Xo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(v){Ye(t,t.return,v)}}break;case 6:if(Hn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ye(t,t.return,v)}}break;case 3:if(Hn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(v){Ye(t,t.return,v)}break;case 4:Hn(e,t),sr(t);break;case 13:Hn(e,t),sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rw=nt())),r&4&&qI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($t=(l=$t)||c,Hn(e,t),$t=l):Hn(e,t),sr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(q=t,c=t.child;c!==null;){for(d=q=c;q!==null;){switch(h=q,f=h.child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Ho(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ye(r,n,v)}}break;case 5:Ho(h,h.return);break;case 22:if(h.memoizedState!==null){HI(d);continue}}f!==null?(f.return=h,q=f):HI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=zP("display",o))}catch(v){Ye(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){Ye(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hn(e,t),sr(t),r&4&&qI(t);break;case 21:break;default:Hn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mb(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=BI(t);Wy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=BI(t);qy(t,a,o);break;default:throw Error(N(161))}}catch(u){Ye(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DV(t,e,n){q=t,vb(t)}function vb(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||$t;a=hd;var l=$t;if(hd=o,($t=u)&&!l)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?GI(i):u!==null?(u.return=o,q=u):GI(i);for(;s!==null;)q=s,vb(s),s=s.sibling;q=i,hd=a,$t=l}WI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):WI(t)}}function WI(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Sl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}$t||e.flags&512&&By(e)}catch(h){Ye(e,e.return,h)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function HI(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function GI(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(u){Ye(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ye(e,i,u)}}var s=e.return;try{By(e)}catch(u){Ye(e,s,u)}break;case 5:var o=e.return;try{By(e)}catch(u){Ye(e,o,u)}}}catch(u){Ye(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var NV=Math.ceil,Ah=Zr.ReactCurrentDispatcher,tw=Zr.ReactCurrentOwner,Mn=Zr.ReactCurrentBatchConfig,pe=0,vt=null,lt=null,kt=0,yn=0,Go=ts(0),ht=0,Ll=null,Ws=0,jf=0,nw=0,rl=null,un=null,rw=0,Ia=1/0,xr=null,kh=!1,Hy=null,Ci=null,fd=!1,Ti=null,xh=0,il=0,Gy=null,zd=-1,Bd=0;function Xt(){return pe&6?nt():zd!==-1?zd:zd=nt()}function Oi(t){return t.mode&1?pe&2&&kt!==0?kt&-kt:yV.transition!==null?(Bd===0&&(Bd=tR()),Bd):(t=_e,t!==0||(t=window.event,t=t===void 0?16:uR(t.type)),t):1}function Zn(t,e,n,r){if(50<il)throw il=0,Gy=null,Error(N(185));vc(t,n,r),(!(pe&2)||t!==vt)&&(t===vt&&(!(pe&2)&&(jf|=n),ht===4&&vi(t,kt)),gn(t,r),n===1&&pe===0&&!(e.mode&1)&&(Ia=nt()+500,Mf&&ns()))}function gn(t,e){var n=t.callbackNode;yL(t,e);var r=fh(t,t===vt?kt:0);if(r===0)n!==null&&nI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nI(n),e===1)t.tag===0?gV(KI.bind(null,t)):bR(KI.bind(null,t)),hV(function(){!(pe&6)&&ns()}),n=null;else{switch(nR(r)){case 1:n=k_;break;case 4:n=ZP;break;case 16:n=hh;break;case 536870912:n=eR;break;default:n=hh}n=Rb(n,_b.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _b(t,e){if(zd=-1,Bd=0,pe&6)throw Error(N(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=fh(t,t===vt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ch(t,r);else{e=r;var i=pe;pe|=2;var s=Eb();(vt!==t||kt!==e)&&(xr=null,Ia=nt()+500,Os(t,e));do try{MV();break}catch(a){wb(t,a)}while(1);z_(),Ah.current=s,pe=i,lt!==null?e=0:(vt=null,kt=0,e=ht)}if(e!==0){if(e===2&&(i=wy(t),i!==0&&(r=i,e=Ky(t,i))),e===1)throw n=Ll,Os(t,0),vi(t,r),gn(t,nt()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!LV(i)&&(e=Ch(t,r),e===2&&(s=wy(t),s!==0&&(r=s,e=Ky(t,s))),e===1))throw n=Ll,Os(t,0),vi(t,r),gn(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:ps(t,un,xr);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=rw+500-nt(),10<e)){if(fh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ay(ps.bind(null,t,un,xr),e);break}ps(t,un,xr);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NV(r/1960))-r,10<r){t.timeoutHandle=Ay(ps.bind(null,t,un,xr),r);break}ps(t,un,xr);break;case 5:ps(t,un,xr);break;default:throw Error(N(329))}}}return gn(t,nt()),t.callbackNode===n?_b.bind(null,t):null}function Ky(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=Ch(t,e),t!==2&&(e=un,un=n,e!==null&&Qy(e)),t}function Qy(t){un===null?un=t:un.push.apply(un,t)}function LV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~nw,e&=~jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function KI(t){if(pe&6)throw Error(N(327));na();var e=fh(t,0);if(!(e&1))return gn(t,nt()),null;var n=Ch(t,e);if(t.tag!==0&&n===2){var r=wy(t);r!==0&&(e=r,n=Ky(t,r))}if(n===1)throw n=Ll,Os(t,0),vi(t,e),gn(t,nt()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,un,xr),gn(t,nt()),null}function iw(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Ia=nt()+500,Mf&&ns())}}function Hs(t){Ti!==null&&Ti.tag===0&&!(pe&6)&&na();var e=pe;pe|=1;var n=Mn.transition,r=_e;try{if(Mn.transition=null,_e=1,t)return t()}finally{_e=r,Mn.transition=n,pe=e,!(pe&6)&&ns()}}function sw(){yn=Go.current,De(Go)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dV(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(F_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:wa(),De(pn),De(Bt),K_();break;case 5:G_(r);break;case 4:wa();break;case 13:De(Be);break;case 19:De(Be);break;case 10:B_(r.type._context);break;case 22:case 23:sw()}n=n.return}if(vt=t,lt=t=Di(t.current,null),kt=yn=e,ht=0,Ll=null,nw=jf=Ws=0,un=rl=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ss=null}return t}function wb(t,e){do{var n=lt;try{if(z_(),Fd.current=bh,Rh){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rh=!1}if(qs=0,mt=dt=qe=null,tl=!1,Ol=0,tw.current=null,n===null||n.return===null){ht=1,Ll=e,lt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=kt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=LI(o);if(f!==null){f.flags&=-257,VI(f,o,a,s,e),f.mode&1&&NI(s,l,e),e=f,u=l;var g=e.updateQueue;if(g===null){var v=new Set;v.add(u),e.updateQueue=v}else g.add(u);break e}else{if(!(e&1)){NI(s,l,e),ow();break e}u=Error(N(426))}}else if($e&&a.mode&1){var _=LI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),VI(_,o,a,s,e),U_(Ea(u,a));break e}}s=u=Ea(u,a),ht!==4&&(ht=2),rl===null?rl=[s]:rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=rb(s,u,e);bI(s,m);break e;case 1:a=u;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ci===null||!Ci.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=ib(s,a,e);bI(s,w);break e}}s=s.return}while(s!==null)}Tb(n)}catch(E){e=E,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(1)}function Eb(){var t=Ah.current;return Ah.current=bh,t===null?bh:t}function ow(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(Ws&268435455)&&!(jf&268435455)||vi(vt,kt)}function Ch(t,e){var n=pe;pe|=2;var r=Eb();(vt!==t||kt!==e)&&(xr=null,Os(t,e));do try{VV();break}catch(i){wb(t,i)}while(1);if(z_(),pe=n,Ah.current=r,lt!==null)throw Error(N(261));return vt=null,kt=0,ht}function VV(){for(;lt!==null;)Ib(lt)}function MV(){for(;lt!==null&&!uL();)Ib(lt)}function Ib(t){var e=Pb(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?Tb(t):lt=e,tw.current=null}function Tb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xV(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,lt=null;return}}else if(n=kV(n,e,yn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ht===0&&(ht=5)}function ps(t,e,n){var r=_e,i=Mn.transition;try{Mn.transition=null,_e=1,$V(t,e,n,r)}finally{Mn.transition=i,_e=r}return null}function $V(t,e,n,r){do na();while(Ti!==null);if(pe&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vL(t,s),t===vt&&(lt=vt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,Rb(hh,function(){return na(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var o=_e;_e=1;var a=pe;pe|=4,tw.current=null,OV(t,n),yb(n,t),iV(Ry),ph=!!Py,Ry=Py=null,t.current=n,DV(n),lL(),pe=a,_e=o,Mn.transition=s}else t.current=n;if(fd&&(fd=!1,Ti=t,xh=i),s=t.pendingLanes,s===0&&(Ci=null),hL(n.stateNode),gn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kh)throw kh=!1,t=Hy,Hy=null,t;return xh&1&&t.tag!==0&&na(),s=t.pendingLanes,s&1?t===Gy?il++:(il=0,Gy=t):il=0,ns(),null}function na(){if(Ti!==null){var t=nR(xh),e=Mn.transition,n=_e;try{if(Mn.transition=null,_e=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,xh=0,pe&6)throw Error(N(331));var i=pe;for(pe|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(q=l;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:nl(8,c,s)}var d=c.child;if(d!==null)d.return=c,q=d;else for(;q!==null;){c=q;var h=c.sibling,f=c.return;if(pb(c),c===l){q=null;break}if(h!==null){h.return=f,q=h;break}q=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,q=m;break e}q=s.return}}var p=t.current;for(q=p;q!==null;){o=q;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,q=y;else e:for(o=p;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(E){Ye(a,a.return,E)}if(a===o){q=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,q=w;break e}q=a.return}}if(pe=i,ns(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Of,t)}catch{}r=!0}return r}finally{_e=n,Mn.transition=e}}return!1}function QI(t,e,n){e=Ea(n,e),e=rb(t,e,1),t=xi(t,e,1),e=Xt(),t!==null&&(vc(t,1,e),gn(t,e))}function Ye(t,e,n){if(t.tag===3)QI(t,t,n);else for(;e!==null;){if(e.tag===3){QI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Ea(n,t),t=ib(e,t,1),e=xi(e,t,1),t=Xt(),e!==null&&(vc(e,1,t),gn(e,t));break}}e=e.return}}function FV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(kt&n)===n&&(ht===4||ht===3&&(kt&130023424)===kt&&500>nt()-rw?Os(t,0):nw|=n),gn(t,e)}function Sb(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Xt();t=Hr(t,e),t!==null&&(vc(t,e,n),gn(t,n))}function UV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sb(t,n)}function jV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Sb(t,n)}var Pb;Pb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,AV(t,e,n);ln=!!(t.flags&131072)}else ln=!1,$e&&e.flags&1048576&&AR(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jd(t,e),t=e.pendingProps;var i=ya(e,Bt.current);ta(e,n),i=Y_(null,e,r,t,i,n);var s=X_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W_(e),i.updater=$f,e.stateNode=i,i._reactInternals=e,Ly(e,r,t,n),e=$y(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&$_(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BV(r),t=Gn(r,t),i){case 0:e=My(null,e,r,t,n);break e;case 1:e=FI(null,e,r,t,n);break e;case 11:e=MI(null,e,r,t,n);break e;case 14:e=$I(null,e,r,Gn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),My(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),FI(t,e,r,i,n);case 3:e:{if(ub(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OR(t,e),Sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ea(Error(N(423)),e),e=UI(t,e,r,n,i);break e}else if(r!==i){i=Ea(Error(N(424)),e),e=UI(t,e,r,n,i);break e}else for(_n=ki(e.stateNode.containerInfo.firstChild),In=e,$e=!0,Qn=null,n=VR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),r===i){e=Gr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return MR(e),t===null&&Oy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,by(r,i)?o=null:s!==null&&by(r,s)&&(e.flags|=32),ab(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Oy(e),null;case 13:return lb(t,e,n);case 4:return H_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),MI(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(Ih,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!pn.current){e=Gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ur(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Dy(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ta(e,n),i=Fn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),$I(t,e,r,i,n);case 15:return sb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),jd(t,e),e.tag=1,mn(r)?(t=!0,_h(e)):t=!1,ta(e,n),NR(e,r,i),Ly(e,r,i,n),$y(null,e,r,!0,t,n);case 19:return cb(t,e,n);case 22:return ob(t,e,n)}throw Error(N(156,e.tag))};function Rb(t,e){return JP(t,e)}function zV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,r){return new zV(t,e,n,r)}function aw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BV(t){if(typeof t=="function")return aw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R_)return 11;if(t===b_)return 14}return 2}function Di(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")aw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mo:return Ds(n.children,i,s,e);case P_:o=8,i|=8;break;case sy:return t=Nn(12,n,e,i|2),t.elementType=sy,t.lanes=s,t;case oy:return t=Nn(13,n,e,i),t.elementType=oy,t.lanes=s,t;case ay:return t=Nn(19,n,e,i),t.elementType=ay,t.lanes=s,t;case LP:return zf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DP:o=10;break e;case NP:o=9;break e;case R_:o=11;break e;case b_:o=14;break e;case pi:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=Nn(7,t,r,e),t.lanes=n,t}function zf(t,e,n,r){return t=Nn(22,t,r,e),t.elementType=LP,t.lanes=n,t.stateNode={isHidden:!1},t}function Ym(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Xm(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uw(t,e,n,r,i,s,o,a,u){return t=new qV(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W_(s),t}function WV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bb(t){if(!t)return Fi;t=t._reactInternals;e:{if(ho(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(mn(n))return RR(t,n,e)}return e}function Ab(t,e,n,r,i,s,o,a,u){return t=uw(n,r,!0,t,i,s,o,a,u),t.context=bb(null),n=t.current,r=Xt(),i=Oi(n),s=Ur(r,i),s.callback=e??null,xi(n,s,i),t.current.lanes=i,vc(t,i,r),gn(t,r),t}function Bf(t,e,n,r){var i=e.current,s=Xt(),o=Oi(i);return n=bb(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xi(i,e,o),t!==null&&(Zn(t,i,o,s),$d(t,i,o)),o}function Oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lw(t,e){YI(t,e),(t=t.alternate)&&YI(t,e)}function HV(){return null}var kb=typeof reportError=="function"?reportError:function(t){console.error(t)};function cw(t){this._internalRoot=t}qf.prototype.render=cw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Bf(t,e,null,null)};qf.prototype.unmount=cw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Bf(null,t,null,null)}),e[Wr]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=sR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&aR(t)}};function dw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XI(){}function GV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Oh(o);s.call(l)}}var o=Ab(e,r,t,0,null,!1,!1,"",XI);return t._reactRootContainer=o,t[Wr]=o.current,bl(t.nodeType===8?t.parentNode:t),Hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Oh(u);a.call(l)}}var u=uw(t,0,!1,null,null,!1,!1,"",XI);return t._reactRootContainer=u,t[Wr]=u.current,bl(t.nodeType===8?t.parentNode:t),Hs(function(){Bf(e,u,n,r)}),u}function Hf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Oh(o);a.call(u)}}Bf(e,o,t,i)}else o=GV(n,e,t,i,r);return Oh(o)}rR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fu(e.pendingLanes);n!==0&&(x_(e,n|1),gn(e,nt()),!(pe&6)&&(Ia=nt()+500,ns()))}break;case 13:Hs(function(){var r=Hr(t,1);if(r!==null){var i=Xt();Zn(r,t,1,i)}}),lw(t,1)}};C_=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=Xt();Zn(e,t,134217728,n)}lw(t,134217728)}};iR=function(t){if(t.tag===13){var e=Oi(t),n=Hr(t,e);if(n!==null){var r=Xt();Zn(n,t,e,r)}lw(t,e)}};sR=function(){return _e};oR=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};yy=function(t,e,n){switch(e){case"input":if(cy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vf(r);if(!i)throw Error(N(90));MP(r),cy(r,i)}}}break;case"textarea":FP(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};HP=iw;GP=Hs;var KV={usingClientEntryPoint:!1,Events:[wc,jo,Vf,qP,WP,iw]},Tu={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QV={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YP(t),t===null?null:t.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Of=pd.inject(QV),wr=pd}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KV;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dw(e))throw Error(N(200));return WV(t,e,null,n)};bn.createRoot=function(t,e){if(!dw(t))throw Error(N(299));var n=!1,r="",i=kb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uw(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,bl(t.nodeType===8?t.parentNode:t),new cw(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=YP(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Hs(t)};bn.hydrate=function(t,e,n){if(!Wf(e))throw Error(N(200));return Hf(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!dw(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ab(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qf(e)};bn.render=function(t,e,n){if(!Wf(e))throw Error(N(200));return Hf(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Wf(t))throw Error(N(40));return t._reactRootContainer?(Hs(function(){Hf(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};bn.unstable_batchedUpdates=iw;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wf(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Hf(t,e,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),AP.exports=bn;var Cb=AP.exports,JI=Cb;ry.createRoot=JI.createRoot,ry.hydrateRoot=JI.hydrateRoot;var Ob={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=me;function YV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XV=typeof Object.is=="function"?Object.is:YV,JV=Ta.useState,ZV=Ta.useEffect,e2=Ta.useLayoutEffect,t2=Ta.useDebugValue;function n2(t,e){var n=e(),r=JV({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return e2(function(){i.value=n,i.getSnapshot=e,Jm(i)&&s({inst:i})},[t,n,e]),ZV(function(){return Jm(i)&&s({inst:i}),t(function(){Jm(i)&&s({inst:i})})},[t]),t2(n),n}function Jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!XV(t,n)}catch{return!0}}function r2(t,e){return e()}var i2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r2:n2;Db.useSyncExternalStore=Ta.useSyncExternalStore!==void 0?Ta.useSyncExternalStore:i2;Ob.exports=Db;var s2=Ob.exports,Nb={exports:{}},Lb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=me,o2=s2;function a2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var u2=typeof Object.is=="function"?Object.is:a2,l2=o2.useSyncExternalStore,c2=Gf.useRef,d2=Gf.useEffect,h2=Gf.useMemo,f2=Gf.useDebugValue;Lb.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=c2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=h2(function(){function u(f){if(!l){if(l=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return d=g}return d=f}if(g=d,u2(c,f))return g;var v=r(f);return i!==void 0&&i(g,v)?g:(c=f,d=v)}var l=!1,c,d,h=n===void 0?null:n;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,n,r,i]);var a=l2(t,s[0],s[1]);return d2(function(){o.hasValue=!0,o.value=a},[a]),f2(a),a};Nb.exports=Lb;var p2=Nb.exports;function m2(t){t()}let Vb=m2;const g2=t=>Vb=t,y2=()=>Vb,ZI=Symbol.for("react-redux-context"),eT=typeof globalThis<"u"?globalThis:{};function v2(){var t;if(!me.createContext)return{};const e=(t=eT[ZI])!=null?t:eT[ZI]=new Map;let n=e.get(me.createContext);return n||(n=me.createContext(null),e.set(me.createContext,n)),n}const Ui=v2();function hw(t=Ui){return function(){return me.useContext(t)}}const Mb=hw(),_2=()=>{throw new Error("uSES not initialized!")};let $b=_2;const w2=t=>{$b=t},E2=(t,e)=>t===e;function I2(t=Ui){const e=t===Ui?Mb:hw(t);return function(r,i={}){const{equalityFn:s=E2,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:d,noopCheck:h}=e();me.useRef(!0);const f=me.useCallback({[r.name](v){return r(v)}}[r.name],[r,d,o]),g=$b(l.addNestedSub,u.getState,c||u.getState,f,s);return me.useDebugValue(g),g}}const Gs=I2();function en(){return en=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},en.apply(this,arguments)}function Kf(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fb={exports:{}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,fw=Et?Symbol.for("react.element"):60103,pw=Et?Symbol.for("react.portal"):60106,Qf=Et?Symbol.for("react.fragment"):60107,Yf=Et?Symbol.for("react.strict_mode"):60108,Xf=Et?Symbol.for("react.profiler"):60114,Jf=Et?Symbol.for("react.provider"):60109,Zf=Et?Symbol.for("react.context"):60110,mw=Et?Symbol.for("react.async_mode"):60111,ep=Et?Symbol.for("react.concurrent_mode"):60111,tp=Et?Symbol.for("react.forward_ref"):60112,np=Et?Symbol.for("react.suspense"):60113,T2=Et?Symbol.for("react.suspense_list"):60120,rp=Et?Symbol.for("react.memo"):60115,ip=Et?Symbol.for("react.lazy"):60116,S2=Et?Symbol.for("react.block"):60121,P2=Et?Symbol.for("react.fundamental"):60117,R2=Et?Symbol.for("react.responder"):60118,b2=Et?Symbol.for("react.scope"):60119;function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fw:switch(t=t.type,t){case mw:case ep:case Qf:case Xf:case Yf:case np:return t;default:switch(t=t&&t.$$typeof,t){case Zf:case tp:case ip:case rp:case Jf:return t;default:return e}}case pw:return e}}}function Ub(t){return kn(t)===ep}Ee.AsyncMode=mw;Ee.ConcurrentMode=ep;Ee.ContextConsumer=Zf;Ee.ContextProvider=Jf;Ee.Element=fw;Ee.ForwardRef=tp;Ee.Fragment=Qf;Ee.Lazy=ip;Ee.Memo=rp;Ee.Portal=pw;Ee.Profiler=Xf;Ee.StrictMode=Yf;Ee.Suspense=np;Ee.isAsyncMode=function(t){return Ub(t)||kn(t)===mw};Ee.isConcurrentMode=Ub;Ee.isContextConsumer=function(t){return kn(t)===Zf};Ee.isContextProvider=function(t){return kn(t)===Jf};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fw};Ee.isForwardRef=function(t){return kn(t)===tp};Ee.isFragment=function(t){return kn(t)===Qf};Ee.isLazy=function(t){return kn(t)===ip};Ee.isMemo=function(t){return kn(t)===rp};Ee.isPortal=function(t){return kn(t)===pw};Ee.isProfiler=function(t){return kn(t)===Xf};Ee.isStrictMode=function(t){return kn(t)===Yf};Ee.isSuspense=function(t){return kn(t)===np};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qf||t===ep||t===Xf||t===Yf||t===np||t===T2||typeof t=="object"&&t!==null&&(t.$$typeof===ip||t.$$typeof===rp||t.$$typeof===Jf||t.$$typeof===Zf||t.$$typeof===tp||t.$$typeof===P2||t.$$typeof===R2||t.$$typeof===b2||t.$$typeof===S2)};Ee.typeOf=kn;Fb.exports=Ee;var A2=Fb.exports,jb=A2,k2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},x2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zb={};zb[jb.ForwardRef]=k2;zb[jb.Memo]=x2;var Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=Symbol.for("react.element"),yw=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),lp=Symbol.for("react.context"),C2=Symbol.for("react.server_context"),cp=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),hp=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),pp=Symbol.for("react.lazy"),O2=Symbol.for("react.offscreen"),Bb;Bb=Symbol.for("react.module.reference");function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gw:switch(t=t.type,t){case sp:case ap:case op:case dp:case hp:return t;default:switch(t=t&&t.$$typeof,t){case C2:case lp:case cp:case pp:case fp:case up:return t;default:return e}}case yw:return e}}}Ie.ContextConsumer=lp;Ie.ContextProvider=up;Ie.Element=gw;Ie.ForwardRef=cp;Ie.Fragment=sp;Ie.Lazy=pp;Ie.Memo=fp;Ie.Portal=yw;Ie.Profiler=ap;Ie.StrictMode=op;Ie.Suspense=dp;Ie.SuspenseList=hp;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(t){return qn(t)===lp};Ie.isContextProvider=function(t){return qn(t)===up};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gw};Ie.isForwardRef=function(t){return qn(t)===cp};Ie.isFragment=function(t){return qn(t)===sp};Ie.isLazy=function(t){return qn(t)===pp};Ie.isMemo=function(t){return qn(t)===fp};Ie.isPortal=function(t){return qn(t)===yw};Ie.isProfiler=function(t){return qn(t)===ap};Ie.isStrictMode=function(t){return qn(t)===op};Ie.isSuspense=function(t){return qn(t)===dp};Ie.isSuspenseList=function(t){return qn(t)===hp};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sp||t===ap||t===op||t===dp||t===hp||t===O2||typeof t=="object"&&t!==null&&(t.$$typeof===pp||t.$$typeof===fp||t.$$typeof===up||t.$$typeof===lp||t.$$typeof===cp||t.$$typeof===Bb||t.getModuleId!==void 0)};Ie.typeOf=qn;function D2(){const t=y2();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const tT={notify(){},get:()=>[]};function N2(t,e){let n,r=tT;function i(d){return u(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=D2())}function l(){n&&(n(),n=void 0,r.clear(),r=tT)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const L2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V2=L2?me.useLayoutEffect:me.useEffect;function M2({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=me.useMemo(()=>{const l=N2(t);return{store:t,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=me.useMemo(()=>t.getState(),[t]);V2(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=e||Ui;return me.createElement(u.Provider,{value:o},n)}function qb(t=Ui){const e=t===Ui?Mb:hw(t);return function(){const{store:r}=e();return r}}const $2=qb();function F2(t=Ui){const e=t===Ui?$2:qb(t);return function(){return e().dispatch}}const Wb=F2();w2(p2.useSyncExternalStoreWithSelector);g2(Cb.unstable_batchedUpdates);function Yy(t,e){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yy(t,e)}function Pr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Yy(t,e)}var Hb={exports:{}},U2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j2=U2,z2=j2;function Gb(){}function Kb(){}Kb.resetWarningCache=Gb;var B2=function(){function t(r,i,s,o,a,u){if(u!==z2){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Kb,resetWarningCache:Gb};return n.PropTypes=n,n};Hb.exports=B2();var q2=Hb.exports;const nT=xf(q2);function md(t){return t.charAt(0)==="/"}function Zm(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function W2(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&md(t),s=e&&md(e),o=i||s;if(t&&md(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var l=0,c=r.length;c>=0;c--){var d=r[c];d==="."?Zm(r,c):d===".."?(Zm(r,c),l++):l&&(Zm(r,c),l--)}if(!o)for(;l--;l)r.unshift("..");o&&r[0]!==""&&(!r[0]||!md(r[0]))&&r.unshift("");var h=r.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}var H2=!0,eg="Invariant failed";function fo(t,e){if(!t){if(H2)throw new Error(eg);var n=typeof e=="function"?e():e,r=n?"".concat(eg,": ").concat(n):eg;throw new Error(r)}}function sl(t){return t.charAt(0)==="/"?t:"/"+t}function rT(t){return t.charAt(0)==="/"?t.substr(1):t}function G2(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Qb(t,e){return G2(t,e)?t.substr(e.length):t}function Yb(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function K2(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function xn(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function wn(t,e,n,r){var i;typeof t=="string"?(i=K2(t),i.state=e):(i=en({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=W2(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function vw(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,u,l){if(t!=null){var c=typeof t=="function"?t(o,a):t;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var r=[];function i(o){var a=!0;function u(){a&&o.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(l){return l!==u})}}function s(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var Xb=!!(typeof window<"u"&&window.document&&window.document.createElement);function Jb(t,e){e(window.confirm(t))}function Q2(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Y2(){return window.navigator.userAgent.indexOf("Trident")===-1}function X2(){return window.navigator.userAgent.indexOf("Firefox")===-1}function J2(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var iT="popstate",sT="hashchange";function oT(){try{return window.history.state||{}}catch{return{}}}function Z2(t){t===void 0&&(t={}),Xb||fo(!1);var e=window.history,n=Q2(),r=!Y2(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,u=a===void 0?Jb:a,l=i.keyLength,c=l===void 0?6:l,d=t.basename?Yb(sl(t.basename)):"";function h(D){var x=D||{},G=x.key,z=x.state,ae=window.location,ue=ae.pathname,Qe=ae.search,be=ae.hash,Ae=ue+Qe+be;return d&&(Ae=Qb(Ae,d)),wn(Ae,z,G)}function f(){return Math.random().toString(36).substr(2,c)}var g=vw();function v(D){en(L,D),L.length=e.length,g.notifyListeners(L.location,L.action)}function _(D){J2(D)||y(h(D.state))}function m(){y(h(oT()))}var p=!1;function y(D){if(p)p=!1,v();else{var x="POP";g.confirmTransitionTo(D,x,u,function(G){G?v({action:x,location:D}):w(D)})}}function w(D){var x=L.location,G=I.indexOf(x.key);G===-1&&(G=0);var z=I.indexOf(D.key);z===-1&&(z=0);var ae=G-z;ae&&(p=!0,A(ae))}var E=h(oT()),I=[E.key];function T(D){return d+xn(D)}function S(D,x){var G="PUSH",z=wn(D,x,f(),L.location);g.confirmTransitionTo(z,G,u,function(ae){if(ae){var ue=T(z),Qe=z.key,be=z.state;if(n)if(e.pushState({key:Qe,state:be},null,ue),o)window.location.href=ue;else{var Ae=I.indexOf(L.location.key),Wn=I.slice(0,Ae+1);Wn.push(z.key),I=Wn,v({action:G,location:z})}else window.location.href=ue}})}function k(D,x){var G="REPLACE",z=wn(D,x,f(),L.location);g.confirmTransitionTo(z,G,u,function(ae){if(ae){var ue=T(z),Qe=z.key,be=z.state;if(n)if(e.replaceState({key:Qe,state:be},null,ue),o)window.location.replace(ue);else{var Ae=I.indexOf(L.location.key);Ae!==-1&&(I[Ae]=z.key),v({action:G,location:z})}else window.location.replace(ue)}})}function A(D){e.go(D)}function U(){A(-1)}function W(){A(1)}var H=0;function Te(D){H+=D,H===1&&D===1?(window.addEventListener(iT,_),r&&window.addEventListener(sT,m)):H===0&&(window.removeEventListener(iT,_),r&&window.removeEventListener(sT,m))}var oe=!1;function Le(D){D===void 0&&(D=!1);var x=g.setPrompt(D);return oe||(Te(1),oe=!0),function(){return oe&&(oe=!1,Te(-1)),x()}}function je(D){var x=g.appendListener(D);return Te(1),function(){Te(-1),x()}}var L={length:e.length,action:"POP",location:E,createHref:T,push:S,replace:k,go:A,goBack:U,goForward:W,block:Le,listen:je};return L}var aT="hashchange",eM={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+rT(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:rT,decodePath:sl},slash:{encodePath:sl,decodePath:sl}};function Zb(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Su(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function tM(t){window.location.hash=t}function tg(t){window.location.replace(Zb(window.location.href)+"#"+t)}function nM(t){t===void 0&&(t={}),Xb||fo(!1);var e=window.history;X2();var n=t,r=n.getUserConfirmation,i=r===void 0?Jb:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?Yb(sl(t.basename)):"",u=eM[o],l=u.encodePath,c=u.decodePath;function d(){var x=c(Su());return a&&(x=Qb(x,a)),wn(x)}var h=vw();function f(x){en(D,x),D.length=e.length,h.notifyListeners(D.location,D.action)}var g=!1,v=null;function _(x,G){return x.pathname===G.pathname&&x.search===G.search&&x.hash===G.hash}function m(){var x=Su(),G=l(x);if(x!==G)tg(G);else{var z=d(),ae=D.location;if(!g&&_(ae,z)||v===xn(z))return;v=null,p(z)}}function p(x){if(g)g=!1,f();else{var G="POP";h.confirmTransitionTo(x,G,i,function(z){z?f({action:G,location:x}):y(x)})}}function y(x){var G=D.location,z=T.lastIndexOf(xn(G));z===-1&&(z=0);var ae=T.lastIndexOf(xn(x));ae===-1&&(ae=0);var ue=z-ae;ue&&(g=!0,U(ue))}var w=Su(),E=l(w);w!==E&&tg(E);var I=d(),T=[xn(I)];function S(x){var G=document.querySelector("base"),z="";return G&&G.getAttribute("href")&&(z=Zb(window.location.href)),z+"#"+l(a+xn(x))}function k(x,G){var z="PUSH",ae=wn(x,void 0,void 0,D.location);h.confirmTransitionTo(ae,z,i,function(ue){if(ue){var Qe=xn(ae),be=l(a+Qe),Ae=Su()!==be;if(Ae){v=Qe,tM(be);var Wn=T.lastIndexOf(xn(D.location)),ds=T.slice(0,Wn+1);ds.push(Qe),T=ds,f({action:z,location:ae})}else f()}})}function A(x,G){var z="REPLACE",ae=wn(x,void 0,void 0,D.location);h.confirmTransitionTo(ae,z,i,function(ue){if(ue){var Qe=xn(ae),be=l(a+Qe),Ae=Su()!==be;Ae&&(v=Qe,tg(be));var Wn=T.indexOf(xn(D.location));Wn!==-1&&(T[Wn]=Qe),f({action:z,location:ae})}})}function U(x){e.go(x)}function W(){U(-1)}function H(){U(1)}var Te=0;function oe(x){Te+=x,Te===1&&x===1?window.addEventListener(aT,m):Te===0&&window.removeEventListener(aT,m)}var Le=!1;function je(x){x===void 0&&(x=!1);var G=h.setPrompt(x);return Le||(oe(1),Le=!0),function(){return Le&&(Le=!1,oe(-1)),G()}}function L(x){var G=h.appendListener(x);return oe(1),function(){oe(-1),G()}}var D={length:e.length,action:"POP",location:I,createHref:S,push:k,replace:A,go:U,goBack:W,goForward:H,block:je,listen:L};return D}function uT(t,e,n){return Math.min(Math.max(t,e),n)}function rM(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,u=a===void 0?6:a,l=vw();function c(S){en(T,S),T.length=T.entries.length,l.notifyListeners(T.location,T.action)}function d(){return Math.random().toString(36).substr(2,u)}var h=uT(o,0,i.length-1),f=i.map(function(S){return typeof S=="string"?wn(S,void 0,d()):wn(S,void 0,S.key||d())}),g=xn;function v(S,k){var A="PUSH",U=wn(S,k,d(),T.location);l.confirmTransitionTo(U,A,n,function(W){if(W){var H=T.index,Te=H+1,oe=T.entries.slice(0);oe.length>Te?oe.splice(Te,oe.length-Te,U):oe.push(U),c({action:A,location:U,index:Te,entries:oe})}})}function _(S,k){var A="REPLACE",U=wn(S,k,d(),T.location);l.confirmTransitionTo(U,A,n,function(W){W&&(T.entries[T.index]=U,c({action:A,location:U}))})}function m(S){var k=uT(T.index+S,0,T.entries.length-1),A="POP",U=T.entries[k];l.confirmTransitionTo(U,A,n,function(W){W?c({action:A,location:U,index:k}):c()})}function p(){m(-1)}function y(){m(1)}function w(S){var k=T.index+S;return k>=0&&k<T.entries.length}function E(S){return S===void 0&&(S=!1),l.setPrompt(S)}function I(S){return l.appendListener(S)}var T={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:g,push:v,replace:_,go:m,goBack:p,goForward:y,canGo:w,block:E,listen:I};return T}var ng=1073741823,lT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function iM(){var t="__global_unique_id__";return lT[t]=(lT[t]||0)+1}function sM(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function oM(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function aM(t){return Array.isArray(t)?t[0]:t}function uM(t,e){var n,r,i="__create-react-context-"+iM()+"__",s=function(a){Pr(u,a);function u(){var c;return c=a.apply(this,arguments)||this,c.emitter=oM(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},l.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,g;sM(h,f)?g=0:(g=typeof e=="function"?e(h,f):ng,g|=0,g!==0&&this.emitter.set(d.value,g))}},l.render=function(){return this.props.children},u}(me.Component);s.childContextTypes=(n={},n[i]=nT.object.isRequired,n);var o=function(a){Pr(u,a);function u(){var c;return c=a.apply(this,arguments)||this,c.state={value:c.getValue()},c.onUpdate=function(d,h){var f=c.observedBits|0;f&h&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h??ng},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??ng},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():t},l.render=function(){return aM(this.props.children)(this.state.value)},u}(me.Component);return o.contextTypes=(r={},r[i]=nT.object,r),{Provider:s,Consumer:o}}var eA=le.createContext||uM,Xa={exports:{}},lM=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Dh=lM;Xa.exports=rA;Xa.exports.parse=_w;Xa.exports.compile=dM;Xa.exports.tokensToFunction=tA;Xa.exports.tokensToRegExp=nA;var cM=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function _w(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=cM.exec(t))!=null;){var u=a[0],l=a[1],c=a.index;if(s+=t.slice(i,c),i=c+u.length,l){s+=l[1];continue}var d=t[i],h=a[2],f=a[3],g=a[4],v=a[5],_=a[6],m=a[7];s&&(n.push(s),s="");var p=h!=null&&d!=null&&d!==h,y=_==="+"||_==="*",w=_==="?"||_==="*",E=a[2]||o,I=g||v;n.push({name:f||r++,prefix:h||"",delimiter:E,optional:w,repeat:y,partial:p,asterisk:!!m,pattern:I?pM(I):m?".*":"[^"+Wd(E)+"]+?"})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function dM(t,e){return tA(_w(t,e),e)}function hM(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function fM(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function tA(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",Ew(e)));return function(i,s){for(var o="",a=i||{},u=s||{},l=u.pretty?hM:encodeURIComponent,c=0;c<t.length;c++){var d=t[c];if(typeof d=="string"){o+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Dh(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var g=0;g<h.length;g++){if(f=l(h[g]),!n[c].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(g===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?fM(h):l(h),!n[c].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');o+=d.prefix+f}return o}}function Wd(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function pM(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function ww(t,e){return t.keys=e,t}function Ew(t){return t&&t.sensitive?"":"i"}function mM(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ww(t,e)}function gM(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(rA(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",Ew(n));return ww(s,e)}function yM(t,e,n){return nA(_w(t,n),e,n)}function nA(t,e,n){Dh(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Wd(a);else{var u=Wd(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+u+l+")*"),a.optional?a.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",s+=l}}var c=Wd(n.delimiter||"/"),d=s.slice(-c.length)===c;return r||(s=(d?s.slice(0,-c.length):s)+"(?:"+c+"(?=$))?"),i?s+="$":s+=r&&d?"":"(?="+c+"|$)",ww(new RegExp("^"+s,Ew(n)),e)}function rA(t,e,n){return Dh(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?mM(t,e):Dh(t)?gM(t,e,n):yM(t,e,n)}var vM=Xa.exports;const _M=xf(vM);var wM=function(e){var n=eA();return n.displayName=e,n},iA=wM("Router-History"),EM=function(e){var n=eA();return n.displayName=e,n},Ks=EM("Router"),mp=function(t){Pr(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._isMounted?i.setState({location:s}):i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return le.createElement(Ks.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},le.createElement(iA.Provider,{children:this.props.children||null,value:this.props.history}))},e}(le.Component);le.Component;le.Component;var cT={},IM=1e4,dT=0;function TM(t,e){var n=""+e.end+e.strict+e.sensitive,r=cT[n]||(cT[n]={});if(r[t])return r[t];var i=[],s=_M(t,i,e),o={regexp:s,keys:i};return dT<IM&&(r[t]=o,dT++),o}function Iw(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(r);return c.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=TM(h,{end:s,strict:a,sensitive:l}),g=f.regexp,v=f.keys,_=g.exec(t);if(!_)return null;var m=_[0],p=_.slice(1),y=t===m;return s&&!y?null:{path:h,url:h==="/"&&m===""?"/":m,isExact:y,params:v.reduce(function(w,E,I){return w[E.name]=p[I],w},{})}},null)}var rg=function(t){Pr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return le.createElement(Ks.Consumer,null,function(s){s||fo(!1);var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?Iw(o.pathname,i.props):s.match,u=en({},s,{location:o,match:a}),l=i.props,c=l.children,d=l.component,h=l.render;return Array.isArray(c)&&c.length===0&&(c=null),le.createElement(Ks.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:d?le.createElement(d,u):h?h(u):null:typeof c=="function"?c(u):null)})},e}(le.Component);function Tw(t){return t.charAt(0)==="/"?t:"/"+t}function SM(t,e){return t?en({},e,{pathname:Tw(t)+e.pathname}):e}function PM(t,e){if(!t)return e;var n=Tw(t);return e.pathname.indexOf(n)!==0?e:en({},e,{pathname:e.pathname.substr(n.length)})}function hT(t){return typeof t=="string"?t:xn(t)}function ig(t){return function(){fo(!1)}}function fT(){}le.Component;var RM=function(t){Pr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return le.createElement(Ks.Consumer,null,function(s){s||fo(!1);var o=i.props.location||s.location,a,u;return le.Children.forEach(i.props.children,function(l){if(u==null&&le.isValidElement(l)){a=l;var c=l.props.path||l.props.from;u=c?Iw(o.pathname,en({},l.props,{path:c})):s.match}}),u?le.cloneElement(a,{location:o,computedMatch:u}):null})},e}(le.Component),sA=le.useContext;function bM(){return sA(iA)}function AM(){var t=sA(Ks).match;return t?t.params:{}}var kM=function(t){Pr(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.history=Z2(r.props),r}var n=e.prototype;return n.render=function(){return le.createElement(mp,{history:this.history,children:this.props.children})},e}(le.Component);le.Component;var Xy=function(e,n){return typeof e=="function"?e(n):e},oA=function(e,n){return typeof e=="string"?wn(e,null,null,n):e},Sw=function(e){return e},Sa=le.forwardRef;typeof Sa>"u"&&(Sa=Sw);function xM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var CM=Sa(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=Kf(t,["innerRef","navigate","onClick"]),o=s.target,a=en({},s,{onClick:function(l){try{i&&i(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!o||o==="_self")&&!xM(l)&&(l.preventDefault(),r())}});return Sw!==Sa?a.ref=e||n:a.ref=n,le.createElement("a",a)}),Ic=Sa(function(t,e){var n=t.component,r=n===void 0?CM:n,i=t.replace,s=t.to,o=t.innerRef,a=Kf(t,["component","replace","to","innerRef"]);return le.createElement(Ks.Consumer,null,function(u){u||fo(!1);var l=u.history,c=oA(Xy(s,u.location),u.location),d=c?l.createHref(c):"",h=en({},a,{href:d,navigate:function(){var g=Xy(s,u.location),v=i?l.replace:l.push;v(g)}});return Sw!==Sa?h.ref=e||o:h.innerRef=o,le.createElement(r,h)})}),aA=function(e){return e},Nh=le.forwardRef;typeof Nh>"u"&&(Nh=aA);function OM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}Nh(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,a=t.className,u=t.exact,l=t.isActive,c=t.location,d=t.sensitive,h=t.strict,f=t.style,g=t.to,v=t.innerRef,_=Kf(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return le.createElement(Ks.Consumer,null,function(m){m||fo(!1);var p=c||m.location,y=oA(Xy(g,p),p),w=y.pathname,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=E?Iw(p.pathname,{path:E,exact:u,sensitive:d,strict:h}):null,T=!!(l?l(I,p):I),S=T?OM(a,s):a,k=T?en({},f,{},o):f,A=en({"aria-current":T&&r||null,className:S,style:k,to:y},_);return aA!==Nh?A.ref=e||v:A.innerRef=v,le.createElement(Ic,A)})});var cn=function(){return cn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cn.apply(this,arguments)};function Pw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var xe="-ms-",ol="-moz-",ye="-webkit-",uA="comm",gp="rule",Rw="decl",DM="@import",lA="@keyframes",NM="@layer",LM=Math.abs,bw=String.fromCharCode,Jy=Object.assign;function VM(t,e){return gt(t,0)^45?(((e<<2^gt(t,0))<<2^gt(t,1))<<2^gt(t,2))<<2^gt(t,3):0}function cA(t){return t.trim()}function Cr(t,e){return(t=e.exec(t))?t[0]:t}function ne(t,e,n){return t.replace(e,n)}function Hd(t,e){return t.indexOf(e)}function gt(t,e){return t.charCodeAt(e)|0}function Pa(t,e,n){return t.slice(e,n)}function ar(t){return t.length}function dA(t){return t.length}function ju(t,e){return e.push(t),t}function MM(t,e){return t.map(e).join("")}function pT(t,e){return t.filter(function(n){return!Cr(n,e)})}var yp=1,Ra=1,hA=0,jn=0,ut=0,Ja="";function vp(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:yp,column:Ra,length:o,return:"",siblings:a}}function fi(t,e){return Jy(vp("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function To(t){for(;t.root;)t=fi(t.root,{children:[t]});ju(t,t.siblings)}function $M(){return ut}function FM(){return ut=jn>0?gt(Ja,--jn):0,Ra--,ut===10&&(Ra=1,yp--),ut}function er(){return ut=jn<hA?gt(Ja,jn++):0,Ra++,ut===10&&(Ra=1,yp++),ut}function Ns(){return gt(Ja,jn)}function Gd(){return jn}function _p(t,e){return Pa(Ja,t,e)}function Zy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UM(t){return yp=Ra=1,hA=ar(Ja=t),jn=0,[]}function jM(t){return Ja="",t}function sg(t){return cA(_p(jn-1,ev(t===91?t+2:t===40?t+1:t)))}function zM(t){for(;(ut=Ns())&&ut<33;)er();return Zy(t)>2||Zy(ut)>3?"":" "}function BM(t,e){for(;--e&&er()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return _p(t,Gd()+(e<6&&Ns()==32&&er()==32))}function ev(t){for(;er();)switch(ut){case t:return jn;case 34:case 39:t!==34&&t!==39&&ev(ut);break;case 40:t===41&&ev(t);break;case 92:er();break}return jn}function qM(t,e){for(;er()&&t+ut!==47+10;)if(t+ut===42+42&&Ns()===47)break;return"/*"+_p(e,jn-1)+"*"+bw(t===47?t:er())}function WM(t){for(;!Zy(Ns());)er();return _p(t,jn)}function HM(t){return jM(Kd("",null,null,null,[""],t=UM(t),0,[0],t))}function Kd(t,e,n,r,i,s,o,a,u){for(var l=0,c=0,d=o,h=0,f=0,g=0,v=1,_=1,m=1,p=0,y="",w=i,E=s,I=r,T=y;_;)switch(g=p,p=er()){case 40:if(g!=108&&gt(T,d-1)==58){Hd(T+=ne(sg(p),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=sg(p);break;case 9:case 10:case 13:case 32:T+=zM(g);break;case 92:T+=BM(Gd()-1,7);continue;case 47:switch(Ns()){case 42:case 47:ju(GM(qM(er(),Gd()),e,n,u),u);break;default:T+="/"}break;case 123*v:a[l++]=ar(T)*m;case 125*v:case 59:case 0:switch(p){case 0:case 125:_=0;case 59+c:m==-1&&(T=ne(T,/\f/g,"")),f>0&&ar(T)-d&&ju(f>32?gT(T+";",r,n,d-1,u):gT(ne(T," ","")+";",r,n,d-2,u),u);break;case 59:T+=";";default:if(ju(I=mT(T,e,n,l,c,i,a,y,w=[],E=[],d,s),s),p===123)if(c===0)Kd(T,e,I,I,w,s,d,a,E);else switch(h===99&&gt(T,3)===110?100:h){case 100:case 108:case 109:case 115:Kd(t,I,I,r&&ju(mT(t,I,I,0,0,i,a,y,i,w=[],d,E),E),i,E,d,a,r?w:E);break;default:Kd(T,I,I,I,[""],E,0,a,E)}}l=c=f=0,v=m=1,y=T="",d=o;break;case 58:d=1+ar(T),f=g;default:if(v<1){if(p==123)--v;else if(p==125&&v++==0&&FM()==125)continue}switch(T+=bw(p),p*v){case 38:m=c>0?1:(T+="\f",-1);break;case 44:a[l++]=(ar(T)-1)*m,m=1;break;case 64:Ns()===45&&(T+=sg(er())),h=Ns(),c=d=ar(y=T+=WM(Gd())),p++;break;case 45:g===45&&ar(T)==2&&(v=0)}}return s}function mT(t,e,n,r,i,s,o,a,u,l,c,d){for(var h=i-1,f=i===0?s:[""],g=dA(f),v=0,_=0,m=0;v<r;++v)for(var p=0,y=Pa(t,h+1,h=LM(_=o[v])),w=t;p<g;++p)(w=cA(_>0?f[p]+" "+y:ne(y,/&\f/g,f[p])))&&(u[m++]=w);return vp(t,e,n,i===0?gp:a,u,l,c,d)}function GM(t,e,n,r){return vp(t,e,n,uA,bw($M()),Pa(t,2,-2),0,r)}function gT(t,e,n,r,i){return vp(t,e,n,Rw,Pa(t,0,r),Pa(t,r+1,-1),r,i)}function fA(t,e,n){switch(VM(t,e)){case 5103:return ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ye+t+t;case 4789:return ol+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ye+t+ol+t+xe+t+t;case 5936:switch(gt(t,e+11)){case 114:return ye+t+xe+ne(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ye+t+xe+ne(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ye+t+xe+ne(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ye+t+xe+t+t;case 6165:return ye+t+xe+"flex-"+t+t;case 5187:return ye+t+ne(t,/(\w+).+(:[^]+)/,ye+"box-$1$2"+xe+"flex-$1$2")+t;case 5443:return ye+t+xe+"flex-item-"+ne(t,/flex-|-self/g,"")+(Cr(t,/flex-|baseline/)?"":xe+"grid-row-"+ne(t,/flex-|-self/g,""))+t;case 4675:return ye+t+xe+"flex-line-pack"+ne(t,/align-content|flex-|-self/g,"")+t;case 5548:return ye+t+xe+ne(t,"shrink","negative")+t;case 5292:return ye+t+xe+ne(t,"basis","preferred-size")+t;case 6060:return ye+"box-"+ne(t,"-grow","")+ye+t+xe+ne(t,"grow","positive")+t;case 4554:return ye+ne(t,/([^-])(transform)/g,"$1"+ye+"$2")+t;case 6187:return ne(ne(ne(t,/(zoom-|grab)/,ye+"$1"),/(image-set)/,ye+"$1"),t,"")+t;case 5495:case 3959:return ne(t,/(image-set\([^]*)/,ye+"$1$`$1");case 4968:return ne(ne(t,/(.+:)(flex-)?(.*)/,ye+"box-pack:$3"+xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ye+t+t;case 4200:if(!Cr(t,/flex-|baseline/))return xe+"grid-column-align"+Pa(t,e)+t;break;case 2592:case 3360:return xe+ne(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Cr(r.props,/grid-\w+-end/)})?~Hd(t+(n=n[e].value),"span")?t:xe+ne(t,"-start","")+t+xe+"grid-row-span:"+(~Hd(n,"span")?Cr(n,/\d+/):+Cr(n,/\d+/)-+Cr(t,/\d+/))+";":xe+ne(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Cr(r.props,/grid-\w+-start/)})?t:xe+ne(ne(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ne(t,/(.+)-inline(.+)/,ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(t)-1-e>6)switch(gt(t,e+1)){case 109:if(gt(t,e+4)!==45)break;case 102:return ne(t,/(.+:)(.+)-([^]+)/,"$1"+ye+"$2-$3$1"+ol+(gt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Hd(t,"stretch")?fA(ne(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ne(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,u,l){return xe+i+":"+s+l+(o?xe+i+"-span:"+(a?u:+u-+s)+l:"")+t});case 4949:if(gt(t,e+6)===121)return ne(t,":",":"+ye)+t;break;case 6444:switch(gt(t,gt(t,14)===45?18:11)){case 120:return ne(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ye+(gt(t,14)===45?"inline-":"")+"box$3$1"+ye+"$2$3$1"+xe+"$2box$3")+t;case 100:return ne(t,":",":"+xe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ne(t,"scroll-","scroll-snap-")+t}return t}function Vh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function KM(t,e,n,r){switch(t.type){case NM:if(t.children.length)break;case DM:case Rw:return t.return=t.return||t.value;case uA:return"";case lA:return t.return=t.value+"{"+Vh(t.children,r)+"}";case gp:if(!ar(t.value=t.props.join(",")))return""}return ar(n=Vh(t.children,r))?t.return=t.value+"{"+n+"}":""}function QM(t){var e=dA(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function YM(t){return function(e){e.root||(e=e.return)&&t(e)}}function XM(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Rw:t.return=fA(t.value,t.length,n);return;case lA:return Vh([fi(t,{value:ne(t.value,"@","@"+ye)})],r);case gp:if(t.length)return MM(n=t.props,function(i){switch(Cr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":To(fi(t,{props:[ne(i,/:(read-\w+)/,":"+ol+"$1")]})),To(fi(t,{props:[i]})),Jy(t,{props:pT(n,r)});break;case"::placeholder":To(fi(t,{props:[ne(i,/:(plac\w+)/,":"+ye+"input-$1")]})),To(fi(t,{props:[ne(i,/:(plac\w+)/,":"+ol+"$1")]})),To(fi(t,{props:[ne(i,/:(plac\w+)/,xe+"input-$1")]})),To(fi(t,{props:[i]})),Jy(t,{props:pT(n,r)});break}return""})}}var JM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ba=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Aw=typeof window<"u"&&"HTMLElement"in window,ZM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),wp=Object.freeze([]),Aa=Object.freeze({});function e$(t,e,n){return n===void 0&&(n=Aa),t.theme!==n.theme&&t.theme||e||n.theme}var pA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),t$=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,n$=/(^-|-$)/g;function yT(t){return t.replace(t$,"-").replace(n$,"")}var r$=/(a)(d)/gi,vT=function(t){return String.fromCharCode(t+(t>25?39:97))};function tv(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=vT(e%52)+n;return(vT(e%52)+n).replace(r$,"$1-$2")}var og,Ko=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},mA=function(t){return Ko(5381,t)};function i$(t){return tv(mA(t)>>>0)}function s$(t){return t.displayName||t.name||"Component"}function ag(t){return typeof t=="string"&&!0}var gA=typeof Symbol=="function"&&Symbol.for,yA=gA?Symbol.for("react.memo"):60115,o$=gA?Symbol.for("react.forward_ref"):60112,a$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l$=((og={})[o$]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},og[yA]=vA,og);function _T(t){return("type"in(e=t)&&e.type.$$typeof)===yA?vA:"$$typeof"in t?l$[t.$$typeof]:a$;var e}var c$=Object.defineProperty,d$=Object.getOwnPropertyNames,wT=Object.getOwnPropertySymbols,h$=Object.getOwnPropertyDescriptor,f$=Object.getPrototypeOf,ET=Object.prototype;function _A(t,e,n){if(typeof e!="string"){if(ET){var r=f$(e);r&&r!==ET&&_A(t,r,n)}var i=d$(e);wT&&(i=i.concat(wT(e)));for(var s=_T(t),o=_T(e),a=0;a<i.length;++a){var u=i[a];if(!(u in u$||n&&n[u]||o&&u in o||s&&u in s)){var l=h$(e,u);try{c$(t,u,l)}catch{}}}}return t}function ka(t){return typeof t=="function"}function kw(t){return typeof t=="object"&&"styledComponentId"in t}function Rs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function IT(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Vl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function nv(t,e,n){if(n===void 0&&(n=!1),!n&&!Vl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=nv(t[r],e[r]);else if(Vl(e))for(var r in e)t[r]=nv(t[r],e[r]);return t}function xw(t,e){Object.defineProperty(t,"toString",{value:e})}function Tc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var p$=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Tc(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},t}(),Qd=new Map,Mh=new Map,ug=1,gd=function(t){if(Qd.has(t))return Qd.get(t);for(;Mh.has(ug);)ug++;var e=ug++;return Qd.set(t,e),Mh.set(e,t),e},m$=function(t,e){Qd.set(t,e),Mh.set(e,t)},g$="style[".concat(ba,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),y$=new RegExp("^".concat(ba,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),v$=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},_$=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var u=a.match(y$);if(u){var l=0|parseInt(u[1],10),c=u[2];l!==0&&(m$(c,l),v$(t,c,u[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}};function w$(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var wA=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var u=Array.from(a.querySelectorAll("style[".concat(ba,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(ba,"active"),r.setAttribute("data-styled-version","6.0.7");var o=w$();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},E$=function(){function t(e){this.element=wA(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Tc(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),I$=function(){function t(e){this.element=wA(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),T$=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),TT=Aw,S$={isServer:!Aw,useCSSOMInjection:!ZM},EA=function(){function t(e,n,r){e===void 0&&(e=Aa),n===void 0&&(n={});var i=this;this.options=cn(cn({},S$),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Aw&&TT&&(TT=!1,function(s){for(var o=document.querySelectorAll(g$),a=0,u=o.length;a<u;a++){var l=o[a];l&&l.getAttribute(ba)!=="active"&&(_$(s,l),l.parentNode&&l.parentNode.removeChild(l))}}(this)),xw(this,function(){return function(s){for(var o=s.getTag(),a=o.length,u="",l=function(d){var h=function(m){return Mh.get(m)}(d);if(h===void 0)return"continue";var f=s.names.get(h),g=o.getGroup(d);if(f===void 0||g.length===0)return"continue";var v="".concat(ba,".g").concat(d,'[id="').concat(h,'"]'),_="";f!==void 0&&f.forEach(function(m){m.length>0&&(_+="".concat(m,","))}),u+="".concat(g).concat(v,'{content:"').concat(_,'"}').concat(`/*!sc*/
`)},c=0;c<a;c++)l(c);return u}(i)})}return t.registerId=function(e){return gd(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(cn(cn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new T$(i):r?new E$(i):new I$(i)}(this.options),new p$(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(gd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(gd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(gd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),P$=/&/g,R$=/^\s*\/\/.*$/gm;function IA(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=IA(n.children,e)),n})}function b$(t){var e,n,r,i=t===void 0?Aa:t,s=i.options,o=s===void 0?Aa:s,a=i.plugins,u=a===void 0?wp:a,l=function(h,f,g){return g===n||g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):h},c=u.slice();c.push(function(h){h.type===gp&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(P$,n).replace(r,l))}),o.prefix&&c.push(XM),c.push(KM);var d=function(h,f,g,v){f===void 0&&(f=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var _=h.replace(R$,""),m=HM(g||f?"".concat(g," ").concat(f," { ").concat(_," }"):_);o.namespace&&(m=IA(m,o.namespace));var p=[];return Vh(m,QM(c.concat(YM(function(y){return p.push(y)})))),p};return d.hash=u.length?u.reduce(function(h,f){return f.name||Tc(15),Ko(h,f.name)},5381).toString():"",d}var A$=new EA,rv=b$(),TA=le.createContext({shouldForwardProp:void 0,styleSheet:A$,stylis:rv});TA.Consumer;le.createContext(void 0);function ST(){return me.useContext(TA)}var k$=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=rv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,xw(this,function(){throw Tc(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=rv),this.name+e.hash},t}(),x$=function(t){return t>="A"&&t<="Z"};function PT(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;x$(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var SA=function(t){return t==null||t===!1||t===""},PA=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!SA(s)&&(Array.isArray(s)&&s.isCss||ka(s)?r.push("".concat(PT(i),":"),s,";"):Vl(s)?r.push.apply(r,Lh(Lh(["".concat(i," {")],PA(s),!1),["}"],!1)):r.push("".concat(PT(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in JM||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ls(t,e,n,r){if(SA(t))return[];if(kw(t))return[".".concat(t.styledComponentId)];if(ka(t)){if(!ka(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ls(i,e,n,r)}var s;return t instanceof k$?n?(t.inject(n,r),[t.getName(r)]):[t]:Vl(t)?PA(t):Array.isArray(t)?Array.prototype.concat.apply(wp,t.map(function(o){return Ls(o,e,n,r)})):[t.toString()]}function C$(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ka(n)&&!kw(n))return!1}return!0}var O$=mA("6.0.7"),D$=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&C$(e),this.componentId=n,this.baseHash=Ko(O$,n),this.baseStyle=r,EA.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Rs(i,this.staticRulesId);else{var s=IT(Ls(this.rules,e,n,r)),o=tv(Ko(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Rs(i,o),this.staticRulesId=o}else{for(var u=Ko(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")l+=d;else if(d){var h=IT(Ls(d,e,n,r));u=Ko(u,h),l+=h}}if(l){var f=tv(u>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(l,".".concat(f),void 0,this.componentId)),i=Rs(i,f)}}return i},t}(),RA=le.createContext(void 0);RA.Consumer;var lg={};function N$(t,e,n){var r=kw(t),i=t,s=!ag(t),o=e.attrs,a=o===void 0?wp:o,u=e.componentId,l=u===void 0?function(y,w){var E=typeof y!="string"?"sc":yT(y);lg[E]=(lg[E]||0)+1;var I="".concat(E,"-").concat(i$("6.0.7"+E+lg[E]));return w?"".concat(w,"-").concat(I):I}(e.displayName,e.parentComponentId):u,c=e.displayName;c===void 0&&function(y){return ag(y)?"styled.".concat(y):"Styled(".concat(s$(y),")")}(t);var d=e.displayName&&e.componentId?"".concat(yT(e.displayName),"-").concat(e.componentId):e.componentId||l,h=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,f=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;f=function(y,w){return g(y,w)&&v(y,w)}}else f=g}var _=new D$(n,d,r?i.componentStyle:void 0);function m(y,w){return function(E,I,T){var S=E.attrs,k=E.componentStyle,A=E.defaultProps,U=E.foldedComponentIds,W=E.styledComponentId,H=E.target,Te=le.useContext(RA),oe=ST(),Le=E.shouldForwardProp||oe.shouldForwardProp,je=function(ae,ue,Qe){for(var be,Ae=cn(cn({},ue),{className:void 0,theme:Qe}),Wn=0;Wn<ae.length;Wn+=1){var ds=ka(be=ae[Wn])?be(Ae):be;for(var ai in ds)Ae[ai]=ai==="className"?Rs(Ae[ai],ds[ai]):ai==="style"?cn(cn({},Ae[ai]),ds[ai]):ds[ai]}return ue.className&&(Ae.className=Rs(Ae.className,ue.className)),Ae}(S,I,e$(I,Te,A)||Aa),L=je.as||H,D={};for(var x in je)je[x]===void 0||x[0]==="$"||x==="as"||x==="theme"||(x==="forwardedAs"?D.as=je.forwardedAs:Le&&!Le(x,L)||(D[x]=je[x]));var G=function(ae,ue){var Qe=ST(),be=ae.generateAndInjectStyles(ue,Qe.styleSheet,Qe.stylis);return be}(k,je),z=Rs(U,W);return G&&(z+=" "+G),je.className&&(z+=" "+je.className),D[ag(L)&&!pA.has(L)?"class":"className"]=z,D.ref=T,me.createElement(L,D)}(p,y,w)}var p=le.forwardRef(m);return p.attrs=h,p.componentStyle=_,p.shouldForwardProp=f,p.foldedComponentIds=r?Rs(i.foldedComponentIds,i.styledComponentId):"",p.styledComponentId=d,p.target=r?i.target:t,Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=r?function(w){for(var E=[],I=1;I<arguments.length;I++)E[I-1]=arguments[I];for(var T=0,S=E;T<S.length;T++)nv(w,S[T],!0);return w}({},i.defaultProps,y):y}}),xw(p,function(){return".".concat(p.styledComponentId)}),s&&_A(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),p}function RT(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var bT=function(t){return Object.assign(t,{isCss:!0})};function L$(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ka(t)||Vl(t)){var r=t;return bT(Ls(RT(wp,Lh([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Ls(i):bT(Ls(RT(i,e)))}function iv(t,e,n){if(n===void 0&&(n=Aa),!e)throw Tc(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,L$.apply(void 0,Lh([i],s,!1)))};return r.attrs=function(i){return iv(t,e,cn(cn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return iv(t,e,cn(cn({},n),i))},r}var bA=function(t){return iv(N$,t)},Z=bA;pA.forEach(function(t){Z[t]=bA(t)});const V$=t=>b.jsx(M$,{children:b.jsxs($$,{children:[b.jsxs(U$,{children:[b.jsx(j$,{src:"/images/cta-logo-one.svg",alt:"CTA Logo One"}),b.jsx(z$,{children:"GET ALL THERE"}),b.jsx(B$,{children:"Get Premier Access to Raya and the Last Dragon for an additional fee with a Disney+ subscription. As of 08/17/2023, the price of Disney+ and The Disney Bundle will increase by $1."}),b.jsx(q$,{src:"/images/cta-logo-two.png",alt:"CTA Logo Two"})]}),b.jsx(F$,{})]})}),M$=Z.section`
	overflow: hidden;
	display: flex;
	flex-direction: column;
	text-align: center;
	height: 100vh;
`,$$=Z.div`
	margin-bottom: 100vw;
	width: 100%;
	position: relative;
	min-height: 100vh;
	box-sizing: border-box;
	display: flex;
	justify-content: center;
	text-align: center;
	flex-direction: column;
	padding: 80px 40px;
	height
`,F$=Z.div`
	height: 100%;
	background-position: top;
	background-size: cover;
	background-repeat: no-repeat;
	background-image: url("/images/login-background.jpg");
	position: absolute;
	top: 0;
	right: 0;
	left: 0;
	z-index: -1;
`,U$=Z.div`
	margin-bottom: 2vw;
	max-width: 650px;
	flex-wrap: wrap;
	display: flex;
	flex-direction: column;
	justify-content: center;
	margin-top: 0;
	align-items: center;
	text-align: center;
	margin-right: auto;
	margin-left: auto;
	transition-timing-funtion: ease-out;
	transition: opacity 0.2s;
	width: 100%;
`,j$=Z.img`
	margin-bottom: 12px;
	max-width: 600px;
	min-height: 1px;
	display: block;
	width: 100%;
`,z$=Z.a`
	font-weight: bold;
	color: #f9f9f9;
	background-color: #0063e5;
	margin-bottom: 12px;
	width: 100%;
	letter-spacing: 1.5px;
	font-size: 18px;
	padding: 16.5px 0;
	border: 1px solid transparent;
	border-radius: 4px;

	&:hover {
		background-color: #0483ee;
	}
`,B$=Z.p`
	color: hsla(0, 0%, 95.3%, 1);
	font-size: 11px;
	margin: 0 0 24px;
	line-height: 1.5;
	letter-spacing: 1.5px;
`,q$=Z.img`
	max-width: 600px;
	margin-bottom: 20px;
	display: inline-block;
	vertical-align: bottom;
	width: 100%;
`;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},W$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|l>>6,f=l&63;u||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new H$;const h=s<<2|a>>4;if(r.push(h),l!==64){const f=a<<4&240|l>>2;if(r.push(f),d!==64){const g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G$=function(t){const e=AA(t);return kA.encodeByteArray(e,!0)},$h=function(t){return G$(t).replace(/\./g,"")},xA=function(t){try{return kA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!K$(n)||(t[n]=Fh(t[n],e[n]));return t}function K$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=()=>Q$().__FIREBASE_DEFAULTS__,X$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xA(t[1]);return e&&JSON.parse(e)},Cw=()=>{try{return Y$()||X$()||J$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CA=()=>{var t;return(t=Cw())===null||t===void 0?void 0:t.config},Z$=t=>{var e;return(e=Cw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$h(JSON.stringify(n)),$h(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ep(){var t;const e=(t=Cw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nF(){return typeof self=="object"&&self.self===self}function DA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rF(){return!Ep()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ml(){try{return typeof indexedDB=="object"}catch{return!1}}function iF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="FirebaseError";class Ut extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sF,Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,po.prototype.create)}}class po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ut(i,a,r)}}function oF(t,e){return t.replace(aF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function uF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kT(s)&&kT(o)){if(!sv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LA(t,e){const n=new lF(t,e);return n.subscribe.bind(n)}class lF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cg),i.error===void 0&&(i.error=cg),i.complete===void 0&&(i.complete=cg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t){return t&&t._delegate?t._delegate:t}class zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fF(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hF(t){return t===ms?void 0:t}function fF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=[];var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const VA={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},mF=se.INFO,gF={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},yF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=mF,this._logHandler=yF,this._userLogHandler=null,Dw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}function vF(t){Dw.forEach(e=>{e.setLogLevel(t)})}function _F(t,e){for(const n of Dw){let r=null;e&&e.level&&(r=VA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:se[s].toLowerCase(),message:a,args:o,type:i.name})}}}const wF=(t,e)=>e.some(n=>t instanceof n);let xT,CT;function EF(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IF(){return CT||(CT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MA=new WeakMap,ov=new WeakMap,$A=new WeakMap,dg=new WeakMap,Nw=new WeakMap;function TF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MA.set(n,t)}).catch(()=>{}),Nw.set(e,t),e}function SF(t){if(ov.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ov.set(t,e)}let av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$A.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PF(t){av=t(av)}function RF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hg(this),e,...n);return $A.set(r,e.sort?e.sort():[e]),Ni(r)}:IF().includes(t)?function(...e){return t.apply(hg(this),e),Ni(MA.get(this))}:function(...e){return Ni(t.apply(hg(this),e))}}function bF(t){return typeof t=="function"?RF(t):(t instanceof IDBTransaction&&SF(t),wF(t,EF())?new Proxy(t,av):t)}function Ni(t){if(t instanceof IDBRequest)return TF(t);if(dg.has(t))return dg.get(t);const e=bF(t);return e!==t&&(dg.set(t,e),Nw.set(e,t)),e}const hg=t=>Nw.get(t);function AF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ni(o.result),u.oldVersion,u.newVersion,Ni(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const kF=["get","getKey","getAll","getAllKeys","count"],xF=["put","add","delete","clear"],fg=new Map;function OT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kF.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return fg.set(e,s),s}PF(t=>({...t,get:(e,n,r)=>OT(e,n)||t.get(e,n,r),has:(e,n)=>!!OT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uv="@firebase/app",DT="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Ip("@firebase/app"),DF="@firebase/app-compat",NF="@firebase/analytics-compat",LF="@firebase/analytics",VF="@firebase/app-check-compat",MF="@firebase/app-check",$F="@firebase/auth",FF="@firebase/auth-compat",UF="@firebase/database",jF="@firebase/database-compat",zF="@firebase/functions",BF="@firebase/functions-compat",qF="@firebase/installations",WF="@firebase/installations-compat",HF="@firebase/messaging",GF="@firebase/messaging-compat",KF="@firebase/performance",QF="@firebase/performance-compat",YF="@firebase/remote-config",XF="@firebase/remote-config-compat",JF="@firebase/storage",ZF="@firebase/storage-compat",eU="@firebase/firestore",tU="@firebase/firestore-compat",nU="firebase",rU="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]",iU={[uv]:"fire-core",[DF]:"fire-core-compat",[LF]:"fire-analytics",[NF]:"fire-analytics-compat",[MF]:"fire-app-check",[VF]:"fire-app-check-compat",[$F]:"fire-auth",[FF]:"fire-auth-compat",[UF]:"fire-rtdb",[jF]:"fire-rtdb-compat",[zF]:"fire-fn",[BF]:"fire-fn-compat",[qF]:"fire-iid",[WF]:"fire-iid-compat",[HF]:"fire-fcm",[GF]:"fire-fcm-compat",[KF]:"fire-perf",[QF]:"fire-perf-compat",[YF]:"fire-rc",[XF]:"fire-rc-compat",[JF]:"fire-gcs",[ZF]:"fire-gcs-compat",[eU]:"fire-fst",[tU]:"fire-fst-compat","fire-js":"fire-js",[nU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Map,$l=new Map;function Uh(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function FA(t,e){t.container.addOrOverwriteComponent(e)}function Kr(t){const e=t.name;if($l.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;$l.set(e,t);for(const n of zi.values())Uh(n,t);return!0}function UA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sU(t,e,n=ji){UA(t,e).clearInstance(n)}function oU(){$l.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jr=new po("app","Firebase",aU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uU=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=rU;function Lw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ji,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=CA()),!n)throw jr.create("no-options");const s=zi.get(i);if(s){if(sv(n,s.options)&&sv(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}const o=new pF(i);for(const u of $l.values())o.addComponent(u);const a=new uU(n,r,o);return zi.set(i,a),a}function lU(t=ji){const e=zi.get(t);if(!e&&t===ji&&CA())return Lw();if(!e)throw jr.create("no-app",{appName:t});return e}function cU(){return Array.from(zi.values())}async function jA(t){const e=t.name;zi.has(e)&&(zi.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function $n(t,e,n){var r;let i=(r=iU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(a.join(" "));return}Kr(new zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function zA(t,e){if(t!==null&&typeof t!="function")throw jr.create("invalid-log-argument");_F(t,e)}function BA(t){vF(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="firebase-heartbeat-database",hU=1,Fl="firebase-heartbeat-store";let pg=null;function qA(){return pg||(pg=AF(dU,hU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fl)}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),pg}async function fU(t){try{return await(await qA()).transaction(Fl).objectStore(Fl).get(WA(t))}catch(e){if(e instanceof Ut)Qs.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qs.warn(n.message)}}}async function NT(t,e){try{const r=(await qA()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,WA(t)),await r.done}catch(n){if(n instanceof Ut)Qs.warn(n.message);else{const r=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qs.warn(r.message)}}}function WA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=1024,mU=30*24*60*60*1e3;class gU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=LT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=mU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LT(),{heartbeatsToSend:n,unsentEntries:r}=yU(this._heartbeatsCache.heartbeats),i=$h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function LT(){return new Date().toISOString().substring(0,10)}function yU(t,e=pU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ml()?iF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VT(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){Kr(new zn("platform-logger",e=>new CF(e),"PRIVATE")),Kr(new zn("heartbeat",e=>new gU(e),"PRIVATE")),$n(uv,DT,t),$n(uv,DT,"esm2017"),$n("fire-js","")}_U("");const wU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ut,SDK_VERSION:ei,_DEFAULT_ENTRY_NAME:ji,_addComponent:Uh,_addOrOverwriteComponent:FA,_apps:zi,_clearComponents:oU,_components:$l,_getProvider:UA,_registerComponent:Kr,_removeServiceInstance:sU,deleteApp:jA,getApp:lU,getApps:cU,initializeApp:Lw,onLog:zA,registerVersion:$n,setLogLevel:BA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this._delegate=e,this.firebase=n,Uh(e,new zn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),jA(this._delegate)))}_getService(e,n=ji){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ji){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Uh(this._delegate,e)}_addOrOverwriteComponent(e){FA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},MT=new po("app-compat","Firebase",IU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:$n,setLogLevel:BA,onLog:zA,apps:null,SDK_VERSION:ei,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:wU}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||ji,!AT(e,l))throw MT.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const d=Lw(l,c);if(AT(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,d=c.replace("-compat","");if(Kr(l)&&l.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw MT.create("invalid-app-argument",{appName:c});return f[d]()};l.serviceProps!==void 0&&Fh(h,l.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,l.multipleInstances?f:[])}}return l.type==="PUBLIC"?n[d]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){const t=TU(EU);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:HA,extendNamespace:e,createSubscribe:LA,ErrorFactory:po,deepExtend:Fh});function e(n){Fh(t,n)}return t}const SU=HA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Ip("@firebase/app-compat"),PU="@firebase/app-compat",RU="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){$n(PU,RU,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(nF()&&self.firebase!==void 0){$T.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&$T.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const kr=SU;bU();var AU="firebase",kU="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.registerVersion(AU,kU,"app-compat");var xU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Vw=Vw||{},J=xU||self;function Tp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function CU(t){return Object.prototype.hasOwnProperty.call(t,mg)&&t[mg]||(t[mg]=++OU)}var mg="closure_uid_"+(1e9*Math.random()>>>0),OU=0;function DU(t,e,n){return t.call.apply(t.bind,arguments)}function NU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=DU:jt=NU,jt.apply(null,arguments)}function yd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function rs(){this.s=this.s,this.o=this.o}var LU=0;rs.prototype.s=!1;rs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),LU!=0)&&CU(this)};rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function FT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Tp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var VU=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function Ul(t){return/^[\s\xa0]*$/.test(t)}function Sp(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function lr(t){return Sp().indexOf(t)!=-1}function $w(t){return $w[" "](t),t}$w[" "]=function(){};function MU(t,e){var n=k4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $U=lr("Opera"),xa=lr("Trident")||lr("MSIE"),KA=lr("Edge"),lv=KA||xa,QA=lr("Gecko")&&!(Sp().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge"))&&!(lr("Trident")||lr("MSIE"))&&!lr("Edge"),FU=Sp().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge");function YA(){var t=J.document;return t?t.documentMode:void 0}var cv;e:{var gg="",yg=function(){var t=Sp();if(QA)return/rv:([^\);]+)(\)|;)/.exec(t);if(KA)return/Edge\/([\d\.]+)/.exec(t);if(xa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FU)return/WebKit\/(\S+)/.exec(t);if($U)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yg&&(gg=yg?yg[1]:""),xa){var vg=YA();if(vg!=null&&vg>parseFloat(gg)){cv=String(vg);break e}}cv=gg}var dv;if(J.document&&xa){var UT=YA();dv=UT||parseInt(cv,10)||void 0}else dv=void 0;var UU=dv;function jl(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QA){e:{try{$w(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jl.$.h.call(this)}}It(jl,zt);var jU={2:"touch",3:"pen",4:"mouse"};jl.prototype.h=function(){jl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pc="closure_listenable_"+(1e6*Math.random()|0),zU=0;function BU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++zU,this.fa=this.ia=!1}function Pp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Fw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function XA(t){const e={};for(const n in t)e[n]=t[n];return e}const jT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<jT.length;s++)n=jT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rp(t){this.src=t,this.g={},this.h=0}Rp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=fv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new BU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function hv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=GA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Uw="closure_lm_"+(1e6*Math.random()|0),_g={};function ZA(t,e,n,r,i){if(r&&r.once)return tk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZA(t,e[s],n,r,i);return null}return n=Bw(n),t&&t[Pc]?t.O(e,n,Sc(r)?!!r.capture:!!r,i):ek(t,e,n,!1,r,i)}function ek(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Sc(i)?!!i.capture:!!i,a=zw(t);if(a||(t[Uw]=a=new Rp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=WU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)VU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function WU(){function t(n){return e.call(t.src,t.listener,n)}const e=HU;return t}function tk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)tk(t,e[s],n,r,i);return null}return n=Bw(n),t&&t[Pc]?t.P(e,n,Sc(r)?!!r.capture:!!r,i):ek(t,e,n,!0,r,i)}function nk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)nk(t,e[s],n,r,i);else r=Sc(r)?!!r.capture:!!r,n=Bw(n),t&&t[Pc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=fv(s,n,r,i),-1<n&&(Pp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=zw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fv(e,n,r,i)),(n=-1<t?e[t]:null)&&jw(n))}function jw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pc])hv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zw(e))?(hv(n,t),n.h==0&&(n.src=null,e[Uw]=null)):Pp(t)}}}function rk(t){return t in _g?_g[t]:_g[t]="on"+t}function HU(t,e){if(t.fa)t=!0;else{e=new jl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jw(t),t=n.call(r,e)}return t}function zw(t){return t=t[Uw],t instanceof Rp?t:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bw(t){return typeof t=="function"?t:(t[wg]||(t[wg]=function(e){return t.handleEvent(e)}),t[wg])}function wt(){rs.call(this),this.i=new Rp(this),this.S=this,this.J=null}It(wt,rs);wt.prototype[Pc]=!0;wt.prototype.removeEventListener=function(t,e,n,r){nk(this,t,e,n,r)};function xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),JA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vd(o,r,!0,e)&&i}if(o=e.g=t,i=vd(o,r,!0,e)&&i,i=vd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vd(o,r,!1,e)&&i}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pp(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&hv(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var qw=J.JSON.stringify;class GU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function KU(){var t=Ww;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class QU{constructor(){this.h=this.g=null}add(e,n){const r=ik.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ik=new GU(()=>new YU,t=>t.reset());class YU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function JU(t){J.setTimeout(()=>{throw t},0)}let zl,Bl=!1,Ww=new QU,sk=()=>{const t=J.Promise.resolve(void 0);zl=()=>{t.then(ZU)}};var ZU=()=>{for(var t;t=KU();){try{t.h.call(t.g)}catch(n){JU(n)}var e=ik;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bl=!1};function bp(t,e){wt.call(this),this.h=t||1,this.g=e||J,this.j=jt(this.qb,this),this.l=Date.now()}It(bp,wt);F=bp.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xt(this,"tick"),this.ga&&(Hw(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}F.N=function(){bp.$.N.call(this),Hw(this),delete this.g};function Gw(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function ok(t){t.g=Gw(()=>{t.g=null,t.i&&(t.i=!1,ok(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class e4 extends rs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ok(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ql(t){rs.call(this),this.h=t,this.g={}}It(ql,rs);var zT=[];function ak(t,e,n,r){Array.isArray(n)||(n&&(zT[0]=n.toString()),n=zT);for(var i=0;i<n.length;i++){var s=ZA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function uk(t){Fw(t.g,function(e,n){this.g.hasOwnProperty(n)&&jw(e)},t),t.g={}}ql.prototype.N=function(){ql.$.N.call(this),uk(this)};ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ap(){this.g=!0}Ap.prototype.Ea=function(){this.g=!1};function t4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function n4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i4(t,n)+(r?" "+r:"")})}function r4(t,e){t.info(function(){return"TIMEOUT: "+e})}Ap.prototype.info=function(){};function i4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return qw(n)}catch{return e}}var mo={},BT=null;function kp(){return BT=BT||new wt}mo.Ta="serverreachability";function lk(t){zt.call(this,mo.Ta,t)}It(lk,zt);function Wl(t){const e=kp();xt(e,new lk(e))}mo.STAT_EVENT="statevent";function ck(t,e){zt.call(this,mo.STAT_EVENT,t),this.stat=e}It(ck,zt);function Yt(t){const e=kp();xt(e,new ck(e,t))}mo.Ua="timingevent";function dk(t,e){zt.call(this,mo.Ua,t),this.size=e}It(dk,zt);function Rc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var xp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kw(){}Kw.prototype.h=null;function qT(t){return t.h||(t.h=t.i())}function fk(){}var bc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qw(){zt.call(this,"d")}It(Qw,zt);function Yw(){zt.call(this,"c")}It(Yw,zt);var pv;function Cp(){}It(Cp,Kw);Cp.prototype.g=function(){return new XMLHttpRequest};Cp.prototype.i=function(){return{}};pv=new Cp;function Ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ql(this),this.P=s4,t=lv?125:void 0,this.V=new bp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pk}function pk(){this.i=null,this.g="",this.h=!1}var s4=45e3,mv={},jh={};F=Ac.prototype;F.setTimeout=function(t){this.P=t};function gv(t,e,n){t.L=1,t.v=Dp(Qr(e)),t.s=n,t.S=!0,mk(t,null)}function mk(t,e){t.G=Date.now(),kc(t),t.A=Qr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Tk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new pk,t.g=qk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new e4(jt(t.Pa,t,t.g),t.O)),ak(t.U,t.g,"readystatechange",t.nb),e=t.I?XA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wl(),t4(t.j,t.u,t.A,t.m,t.W,t.s)}F.nb=function(t){t=t.target;const e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};F.Pa=function(t){try{if(t==this.g)e:{const c=mr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||lv||this.g&&(this.h.h||this.g.ja()||KT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Wl(3):Wl(2)),Op(this);var n=this.g.da();this.ca=n;t:if(gk(this)){var r=KT(this.g);t="";var i=r.length,s=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),al(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,n4(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ul(a)){var l=a;break t}}l=null}if(n=l)Yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yv(this,n);else{this.i=!1,this.o=3,Yt(12),bs(this),al(this);break e}}this.S?(yk(this,c,o),lv&&this.i&&c==3&&(ak(this.U,this.V,"tick",this.mb),this.V.start())):(Yo(this.j,this.m,o,null),yv(this,o)),c==4&&bs(this),this.i&&!this.J&&(c==4?Uk(this.l,this):(this.i=!1,kc(this)))}else R4(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Yt(12)):(this.o=0,Yt(13)),bs(this),al(this)}}}catch{}finally{}};function gk(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function yk(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=o4(t,n),i==jh){e==4&&(t.o=4,Yt(14),r=!1),Yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==mv){t.o=4,Yt(15),Yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yo(t.j,t.m,i,null),yv(t,i);gk(t)&&i!=jh&&i!=mv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),n0(e),e.M=!0,Yt(11))):(Yo(t.j,t.m,n,"[Invalid Chunked Response]"),bs(t),al(t))}F.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.C<e.length&&(Op(this),yk(this,t,e),this.i&&t!=4&&kc(this))}};function o4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?jh:(n=Number(e.substring(n,r)),isNaN(n)?mv:(r+=1,r+n>e.length?jh:(e=e.slice(r,r+n),t.C=r+n,e)))}F.cancel=function(){this.J=!0,bs(this)};function kc(t){t.Y=Date.now()+t.P,vk(t,t.P)}function vk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rc(jt(t.lb,t),e)}function Op(t){t.B&&(J.clearTimeout(t.B),t.B=null)}F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(r4(this.j,this.A),this.L!=2&&(Wl(),Yt(17)),bs(this),this.o=2,al(this)):vk(this,this.Y-t)};function al(t){t.l.H==0||t.J||Uk(t.l,t)}function bs(t){Op(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Hw(t.V),uk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vv(n.i,t))){if(!t.K&&vv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qh(n),Mp(n);else break e;t0(n),Yt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rc(jt(n.ib,n),6e3));if(1>=Rk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else As(n,11)}else if((t.K||n.g==t)&&qh(n),!Ul(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Xw(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ce(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Bk(r,r.J?r.pa:null,r.Y),o.K){bk(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Op(a),kc(a)),r.g=o}else $k(r);0<n.j.length&&$p(n)}else l[0]!="stop"&&l[0]!="close"||As(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?As(n,7):e0(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Wl(4)}catch{}}function a4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Tp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function u4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _k(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Tp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=u4(t),r=a4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var wk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vs){this.h=t.h,zh(this,t.j),this.s=t.s,this.g=t.g,Bh(this,t.m),this.l=t.l;var e=t.i,n=new Hl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),WT(this,n),this.o=t.o}else t&&(e=String(t).match(wk))?(this.h=!1,zh(this,e[1]||"",!0),this.s=Bu(e[2]||""),this.g=Bu(e[3]||"",!0),Bh(this,e[4]),this.l=Bu(e[5]||"",!0),WT(this,e[6]||"",!0),this.o=Bu(e[7]||"")):(this.h=!1,this.i=new Hl(null,this.h))}Vs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qu(e,HT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qu(e,HT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qu(n,n.charAt(0)=="/"?h4:d4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qu(n,p4)),t.join("")};function Qr(t){return new Vs(t)}function zh(t,e,n){t.j=n?Bu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function WT(t,e,n){e instanceof Hl?(t.i=e,m4(t.i,t.h)):(n||(e=qu(e,f4)),t.i=new Hl(e,t.h))}function Ce(t,e,n){t.i.set(e,n)}function Dp(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,c4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function c4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var HT=/[#\/\?@]/g,d4=/[#\?:]/g,h4=/[#\?]/g,f4=/[#\?@]/g,p4=/#/g;function Hl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function is(t){t.g||(t.g=new Map,t.h=0,t.i&&l4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=Hl.prototype;F.add=function(t,e){is(this),this.i=null,t=eu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ek(t,e){is(t),e=eu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ik(t,e){return is(t),e=eu(t,e),t.g.has(e)}F.forEach=function(t,e){is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};F.ta=function(){is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};F.Z=function(t){is(this);let e=[];if(typeof t=="string")Ik(this,t)&&(e=e.concat(this.g.get(eu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return is(this),this.i=null,t=eu(this,t),Ik(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Tk(t,e,n){Ek(t,e),0<n.length&&(t.i=null,t.g.set(eu(t,e),Mw(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function m4(t,e){e&&!t.j&&(is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ek(this,r),Tk(this,i,n))},t)),t.j=e}var g4=class{constructor(t,e){this.g=t,this.map=e}};function Sk(t){this.l=t||y4,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var y4=10;function Pk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Rk(t){return t.h?1:t.g?t.g.size:0}function vv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xw(t,e){t.g?t.g.add(e):t.h=e}function bk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Sk.prototype.cancel=function(){if(this.i=Ak(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ak(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Mw(t.i)}var v4=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function _4(){this.g=new v4}function w4(t,e,n){const r=n||"";try{_k(t,function(i,s){let o=i;Sc(i)&&(o=qw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function E4(t,e){const n=new Ap;if(J.Image){const r=new Image;r.onload=yd(_d,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yd(_d,n,r,"TestLoadImage: error",!1,e),r.onabort=yd(_d,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yd(_d,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _d(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Np(t){this.l=t.ec||null,this.j=t.ob||!1}It(Np,Kw);Np.prototype.g=function(){return new Lp(this.l,this.j)};Np.prototype.i=function(t){return function(){return t}}({});function Lp(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Lp,wt);var Jw=0;F=Lp.prototype;F.open=function(t,e){if(this.readyState!=Jw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=Jw};F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xc(this):Gl(this),this.readyState==3&&kk(this)}};F.Za=function(t){this.g&&(this.response=this.responseText=t,xc(this))};F.Ya=function(t){this.g&&(this.response=t,xc(this))};F.ka=function(){this.g&&xc(this)};function xc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var I4=J.JSON.parse;function Ze(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xk,this.L=this.M=!1}It(Ze,wt);var xk="",T4=/^https?$/i,S4=["POST","PUT"];F=Ze.prototype;F.Oa=function(t){this.M=t};F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pv.g(),this.C=this.u?qT(this.u):qT(pv),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){GT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=GA(S4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Dk(this),0<this.B&&((this.L=P4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=Gw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){GT(this,s)}};function P4(t){return xa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.ua=function(){typeof Vw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))};function GT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ck(t),Vp(t)}function Ck(t){t.F||(t.F=!0,xt(t,"complete"),xt(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),Vp(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vp(this,!0)),Ze.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?Ok(this):this.kb())};F.kb=function(){Ok(this)};function Ok(t){if(t.h&&typeof Vw<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)Gw(t.La,0,t);else if(xt(t,"readystatechange"),mr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(wk)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!T4.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var s=2<mr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Ck(t)}}finally{Vp(t)}}}}function Vp(t,e){if(t.g){Dk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Dk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}F.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}F.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),I4(e)}};function KT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function R4(t){const e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ul(t[r]))continue;var n=XU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}qU(e,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Nk(t){let e="";return Fw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ce(t,e,n))}function Pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Lk(t){this.Ga=0,this.j=[],this.l=new Ap,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pu("baseRetryDelayMs",5e3,t),this.hb=Pu("retryDelaySeedMs",1e4,t),this.eb=Pu("forwardChannelMaxRetries",2,t),this.xa=Pu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Sk(t&&t.concurrentRequestLimit),this.Ja=new _4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=Lk.prototype;F.ra=8;F.H=1;function e0(t){if(Vk(t),t.H==3){var e=t.W++,n=Qr(t.I);if(Ce(n,"SID",t.K),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),Cc(t,n),e=new Ac(t,t.l,e),e.L=2,e.v=Dp(Qr(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=qk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kc(e)}zk(t)}function Mp(t){t.g&&(n0(t),t.g.cancel(),t.g=null)}function Vk(t){Mp(t),t.u&&(J.clearTimeout(t.u),t.u=null),qh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function $p(t){if(!Pk(t.i)&&!t.m){t.m=!0;var e=t.Na;zl||sk(),Bl||(zl(),Bl=!0),Ww.add(e,t),t.C=0}}function b4(t,e){return Rk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rc(jt(t.Na,t,e),jk(t,t.C)),t.C++,!0)}F.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ac(this,this.l,t);let s=this.s;if(this.U&&(s?(s=XA(s),JA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Mk(this,i,e),n=Qr(this.I),Ce(n,"RID",t),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),Cc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Nk(s)))+"&"+e:this.o&&Zw(n,this.o,s)),Xw(this.i,i),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",e),Ce(n,"SID","null"),i.aa=!0,gv(i,n,null)):gv(i,n,e),this.H=2}}else this.H==3&&(t?QT(this,t):this.j.length==0||Pk(this.i)||QT(this))};function QT(t,e){var n;e?n=e.m:n=t.W++;const r=Qr(t.I);Ce(r,"SID",t.K),Ce(r,"RID",n),Ce(r,"AID",t.V),Cc(t,r),t.o&&t.s&&Zw(r,t.o,t.s),n=new Ac(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Mk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xw(t.i,n),gv(n,r,e)}function Cc(t,e){t.na&&Fw(t.na,function(n,r){Ce(e,r,n)}),t.h&&_k({},function(n,r){Ce(e,r,n)})}function Mk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{w4(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $k(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zl||sk(),Bl||(zl(),Bl=!0),Ww.add(e,t),t.A=0}}function t0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rc(jt(t.Ma,t),jk(t,t.A)),t.A++,!0)}F.Ma=function(){if(this.u=null,Fk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rc(jt(this.jb,this),t)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yt(10),Mp(this),Fk(this))};function n0(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function Fk(t){t.g=new Ac(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);Ce(e,"RID","rpc"),Ce(e,"SID",t.K),Ce(e,"AID",t.V),Ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ce(e,"TO",t.qa),Ce(e,"TYPE","xmlhttp"),Cc(t,e),t.o&&t.s&&Zw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Dp(Qr(e)),n.s=null,n.S=!0,mk(n,t)}F.ib=function(){this.v!=null&&(this.v=null,Mp(this),t0(this),Yt(19))};function qh(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function Uk(t,e){var n=null;if(t.g==e){qh(t),n0(t),t.g=null;var r=2}else if(vv(t.i,e))n=e.F,bk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=kp(),xt(r,new dk(r,n)),$p(t)}else $k(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&b4(t,e)||r==2&&t0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:As(t,5);break;case 4:As(t,10);break;case 3:As(t,6);break;default:As(t,2)}}}function jk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function As(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new Vs("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||zh(n,"https"),Dp(n)),E4(n.toString(),r)}else Yt(2);t.H=0,t.h&&t.h.za(e),zk(t),Vk(t)}F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Yt(2)):(this.l.info("Failed to ping google.com"),Yt(1))};function zk(t){if(t.H=0,t.ma=[],t.h){const e=Ak(t.i);(e.length!=0||t.j.length!=0)&&(FT(t.ma,e),FT(t.ma,t.j),t.i.i.length=0,Mw(t.j),t.j.length=0),t.h.ya()}}function Bk(t,e,n){var r=n instanceof Vs?Qr(n):new Vs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Bh(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vs(null);r&&zh(s,r),e&&(s.g=e),i&&Bh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ce(r,n,e),Ce(r,"VER",t.ra),Cc(t,r),r}function qk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ze(new Np({ob:!0})):new Ze(t.va),e.Oa(t.J),e}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function Wk(){}F=Wk.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Wh(){if(xa&&!(10<=Number(UU)))throw Error("Environmental error: no available transport.")}Wh.prototype.g=function(t,e){return new Sn(t,e)};function Sn(t,e){wt.call(this),this.g=new Lk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ul(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ul(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new tu(this)}It(Sn,wt);Sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Yt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Bk(t,null,t.Y),$p(t)};Sn.prototype.close=function(){e0(this.g)};Sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qw(t),t=n);e.j.push(new g4(e.fb++,t)),e.H==3&&$p(e)};Sn.prototype.N=function(){this.g.h=null,delete this.j,e0(this.g),delete this.g,Sn.$.N.call(this)};function Hk(t){Qw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(Hk,Qw);function Gk(){Yw.call(this),this.status=1}It(Gk,Yw);function tu(t){this.g=t}It(tu,Wk);tu.prototype.Ba=function(){xt(this.g,"a")};tu.prototype.Aa=function(t){xt(this.g,new Hk(t))};tu.prototype.za=function(t){xt(this.g,new Gk)};tu.prototype.ya=function(){xt(this.g,"b")};function A4(){this.blockSize=-1}function nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(nr,A4);nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Eg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Eg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Eg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Eg(this,r),i=0;break}}this.h=i,this.i+=e};nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var k4={};function r0(t){return-128<=t&&128>t?MU(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function gr(t){if(isNaN(t)||!isFinite(t))return ra;if(0>t)return bt(gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_v;return new we(e,0)}function Kk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bt(Kk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gr(Math.pow(e,8)),r=ra,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=gr(Math.pow(e,s)),r=r.R(s).add(gr(o))):(r=r.R(n),r=r.add(gr(o)))}return r}var _v=4294967296,ra=r0(0),wv=r0(1),YT=r0(16777216);F=we.prototype;F.ea=function(){if(Dn(this))return-bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_v+r)*e,e*=_v}return t};F.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vr(this))return"0";if(Dn(this))return"-"+bt(this).toString(t);for(var e=gr(Math.pow(t,6)),n=this,r="";;){var i=Gh(n,e).g;n=Hh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Vr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dn(t){return t.h==-1}F.X=function(t){return t=Hh(this,t),Dn(t)?-1:Vr(t)?0:1};function bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(wv)}F.abs=function(){return Dn(this)?bt(this):this};F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new we(n,n[n.length-1]&-2147483648?-1:0)};function Hh(t,e){return t.add(bt(e))}F.R=function(t){if(Vr(this)||Vr(t))return ra;if(Dn(this))return Dn(t)?bt(this).R(bt(t)):bt(bt(this).R(t));if(Dn(t))return bt(this.R(bt(t)));if(0>this.X(YT)&&0>t.X(YT))return gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,wd(n,2*r+2*i),n[2*r+2*i+1]+=s*u,wd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,wd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,wd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function wd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ru(t,e){this.g=t,this.h=e}function Gh(t,e){if(Vr(e))throw Error("division by zero");if(Vr(t))return new Ru(ra,ra);if(Dn(t))return e=Gh(bt(t),e),new Ru(bt(e.g),bt(e.h));if(Dn(e))return e=Gh(t,bt(e)),new Ru(bt(e.g),e.h);if(30<t.g.length){if(Dn(t)||Dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wv,r=e;0>=r.X(t);)n=XT(n),r=XT(r);var i=So(n,1),s=So(r,1);for(r=So(r,2),n=So(n,2);!Vr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=So(r,1),n=So(n,1)}return e=Hh(t,i.R(e)),new Ru(i,e)}for(i=ra;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=gr(n),o=s.R(e);Dn(o)||0<o.X(t);)n-=r,s=gr(n),o=s.R(e);Vr(s)&&(s=wv),i=i.add(s),t=Hh(t,o)}return new Ru(i,t)}F.gb=function(t){return Gh(this,t).h};F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function XT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function So(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}Wh.prototype.createWebChannel=Wh.prototype.g;Sn.prototype.send=Sn.prototype.u;Sn.prototype.open=Sn.prototype.m;Sn.prototype.close=Sn.prototype.close;xp.NO_ERROR=0;xp.TIMEOUT=8;xp.HTTP_ERROR=6;hk.COMPLETE="complete";fk.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";wt.prototype.listen=wt.prototype.O;Ze.prototype.listenOnce=Ze.prototype.P;Ze.prototype.getLastError=Ze.prototype.Sa;Ze.prototype.getLastErrorCode=Ze.prototype.Ia;Ze.prototype.getStatus=Ze.prototype.da;Ze.prototype.getResponseJson=Ze.prototype.Wa;Ze.prototype.getResponseText=Ze.prototype.ja;Ze.prototype.send=Ze.prototype.ha;Ze.prototype.setWithCredentials=Ze.prototype.Oa;nr.prototype.digest=nr.prototype.l;nr.prototype.reset=nr.prototype.reset;nr.prototype.update=nr.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=gr;we.fromString=Kk;var x4=function(){return new Wh},C4=function(){return kp()},Ig=xp,O4=hk,D4=mo,JT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ed=fk,N4=Ze,L4=nr,ia=we;const ZT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Ip("@firebase/firestore");function Co(){return Bi.logLevel}function V4(t){Bi.setLogLevel(t)}function O(t,...e){if(Bi.logLevel<=se.DEBUG){const n=e.map(i0);Bi.debug(`Firestore (${nu}): ${t}`,...n)}}function rt(t,...e){if(Bi.logLevel<=se.ERROR){const n=e.map(i0);Bi.error(`Firestore (${nu}): ${t}`,...n)}}function rr(t,...e){if(Bi.logLevel<=se.WARN){const n=e.map(i0);Bi.warn(`Firestore (${nu}): ${t}`,...n)}}function i0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t="Unexpected state"){const e=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function Y(t,e){t||B()}function M4(t,e){t||B()}function $(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Ut{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class F4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U4{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _t,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _t)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y(typeof r.accessToken=="string"),new Qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string"),new yt(e)}}class j4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new j4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string"),this.R=n.token,new B4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=W4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function Ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Xk(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Ue(0,0))}static max(){return new Q(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Kl{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const H4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Kl{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return H4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new C(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new C(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(fe.fromString(e))}static fromName(e){return new M(fe.fromString(e).popFirst(5))}static empty(){return new M(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ev(t){return t.fields.find(e=>e.kind===2)}function gs(t){return t.fields.filter(e=>e.kind!==2)}Kh.UNKNOWN_ID=-1;class Yd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ql{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ql(0,Pn.min())}}function Jk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new Pn(i,M.empty(),e)}function Zk(t){return new Pn(t.readTime,t.key,-1)}class Pn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pn(Q.min(),M.empty(),-1)}static max(){return new Pn(Q.max(),M.empty(),-1)}}function s0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==ex)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new _t,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new ul(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=o0(r.target.error);this.m.reject(new ul(e,i))}}static open(e,n,r,i){try{return new Fp(n,e.transaction(i,r))}catch(s){throw new ul(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(O("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new K4(n)}}class Xn{constructor(e,n,r){this.name=e,this.version=n,this.S=r,Xn.D(Ge())===12.2&&rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return O("SimpleDb","Removing database:",e),vs(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Ml())return!1;if(Xn.v())return!0;const e=Ge(),n=Xn.D(e),r=0<n&&n<10,i=Xn.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(O("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new ul(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new C(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ul(e,o))},i.onupgradeneeded=s=>{O("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{O("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const a=Fp.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.p(),l)).catch(l=>(a.abort(l),P.reject(l))).toPromise();return u.catch(()=>{}),await a.g,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(O("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class G4{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return vs(this.q.delete())}}class ul extends C{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function os(t){return t.name==="IndexedDbTransactionError"}class K4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(O("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(O("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vs(r)}add(e){return O("SimpleDb","ADD",this.store.name,e,e),vs(this.store.add(e))}get(e){return vs(this.store.get(e)).next(n=>(n===void 0&&(n=null),O("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return O("SimpleDb","DELETE",this.store.name,e),vs(this.store.delete(e))}count(){return O("SimpleDb","COUNT",this.store.name),vs(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new P((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){O("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=s=>{const o=o0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}j(e,n){const r=[];return new P((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new G4(a),l=n(a.primaryKey,a.value,u);if(l instanceof P){const c=l.catch(d=>(u.done(),P.reject(d)));r.push(c)}u.isDone?i():u.U===null?a.continue():a.continue(u.U)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function vs(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=o0(r.target.error);n(i)}})}let eS=!1;function o0(t){const e=Xn.D(Ge());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eS||(eS=!0,setTimeout(()=>{throw r},0)),r}}return t}class Q4{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){O("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{O("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){os(n)?O("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await ss(n)}await this.te(6e4)})}}class Y4{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return P.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return O("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(a=>(O("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Zk(s);s0(o,r)>0&&(r=o)}),new Pn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}dn.ae=-1;function Oc(t){return t==null}function Yl(t){return t===0&&1/t==-1/0}function nx(t){return typeof t=="number"&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tS(e)),e=X4(t.get(n),e);return tS(e)}function X4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function tS(t){return t+""}function yr(t){const e=t.length;if(Y(e>=2),e===2)return Y(t.charAt(0)===""&&t.charAt(1)===""),fe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&B(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:B()}s=o+2}return new fe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e){return[t,Jt(e)]}function rx(t,e,n){return[t,Jt(e),n]}const J4={},Z4=["prefixPath","collectionGroup","readTime","documentId"],ej=["prefixPath","collectionGroup","documentId"],tj=["collectionGroup","readTime","prefixPath","documentId"],nj=["canonicalId","targetId"],rj=["targetId","path"],ij=["path","targetId"],sj=["collectionId","parent"],oj=["indexId","uid"],aj=["uid","sequenceNumber"],uj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lj=["indexId","uid","orderedDocumentKey"],cj=["userId","collectionPath","documentId"],dj=["userId","collectionPath","largestBatchId"],hj=["userId","collectionGroup","largestBatchId"],ix=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fj=[...ix,"documentOverlays"],sx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ox=sx,pj=[...ox,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends tx{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Tt(t,e){const n=$(t);return Xn.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ax(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iS(this.data.getIterator())}getIteratorFrom(e){return new iS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class iS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Po(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Pe(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ux("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const gj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(Y(!!t),typeof t=="string"){let e=0;const n=gj.exec(t);if(Y(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a0(t){const e=t.mapValue.fields.__previous_value__;return Up(e)?a0(e):e}function Xl(t){const e=qi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Hi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jd={nullValue:"NULL_VALUE"};function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Up(t)?4:lx(t)?9007199254740991:10:B()}function Rr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qi(i.timestampValue),a=qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Wi(i.bytesValue).isEqual(Wi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?Yl(o)===Yl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rS(o)!==rS(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Rr(o[u],a[u])))return!1;return!0}(t,e);default:return B()}}function Jl(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),u=Xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return sS(t.timestampValue,e.timestampValue);case 4:return sS(Xl(t),Xl(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Wi(s),u=Wi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=ee(a[l],u[l]);if(c!==0)return c}return ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ee(Xe(s.latitude),Xe(o.latitude));return a!==0?a:ee(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Gi(a[l],u[l]);if(c)return c}return ee(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Si.mapValue&&o===Si.mapValue)return 0;if(s===Si.mapValue)return 1;if(o===Si.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const h=ee(u[d],c[d]);if(h!==0)return h;const f=Gi(a[u[d]],l[c[d]]);if(f!==0)return f}return ee(u.length,c.length)}(t.mapValue,e.mapValue);default:throw B()}}function sS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=qi(t),r=qi(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function Oa(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Tv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tv(n.fields[o])}`;return i+"}"}(t.mapValue):B()}function Xs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sv(t){return!!t&&"integerValue"in t}function Zl(t){return!!t&&"arrayValue"in t}function oS(t){return!!t&&"nullValue"in t}function aS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zd(t){return!!t&&"mapValue"in t}function ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function vj(t){return"nullValue"in t?Jd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Xs(Hi.empty(),M.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:B()}function _j(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Xs(Hi.empty(),M.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Si:B()}function uS(t,e){const n=Gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function lS(t,e){const n=Gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(ll(this.value))}}function cx(t){const e=[];return go(t.fields,(n,r)=>{const i=new Je([n]);if(Zd(r)){const s=cx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Oe(e,0,Q.min(),Q.min(),Q.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,Q.min(),Q.min(),At.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,Q.min(),Q.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.position=e,this.inclusive=n}}function cS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Gi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function wj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{}class ce extends dx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ej(e,n,r):n==="array-contains"?new Sj(e,r):n==="in"?new yx(e,r):n==="not-in"?new Pj(e,r):n==="array-contains-any"?new Rj(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ij(e,r):new Tj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ve extends dx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ve(e,n)}matches(e){return Da(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Da(t){return t.op==="and"}function Pv(t){return t.op==="or"}function u0(t){return hx(t)&&Da(t)}function hx(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}function Rv(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(u0(t))return t.filters.map(e=>Rv(e)).join(",");{const e=t.filters.map(n=>Rv(n)).join(",");return`${t.op}(${e})`}}function fx(t,e){return t instanceof ce?function(r,i){return i instanceof ce&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(t,e):t instanceof ve?function(r,i){return i instanceof ve&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fx(o,i.filters[a]),!0):!1}(t,e):void B()}function px(t,e){const n=t.filters.concat(e);return ve.create(n,t.op)}function mx(t){return t instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Oa(n.value)}`}(t):t instanceof ve?function(n){return n.op.toString()+" {"+n.getFilters().map(mx).join(" ,")+"}"}(t):"Filter"}class Ej extends ce{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ij extends ce{constructor(e,n){super(e,"in",n),this.keys=gx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tj extends ce{constructor(e,n){super(e,"not-in",n),this.keys=gx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class Sj extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zl(n)&&Jl(n.arrayValue,this.value)}}class yx extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class Pj extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class Rj extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function bv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bj(t,e,n,r,i,s,o)}function Js(t){const e=$(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),e.he=n}return e.he}function Dc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dS(t.startAt,e.startAt)&&dS(t.endAt,e.endAt)}function Qh(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Yh(t,e){return t.filters.filter(n=>n instanceof ce&&n.field.isEqual(e))}function hS(t,e,n){let r=Jd,i=!0;for(const s of Yh(t,e)){let o=Jd,a=!0;switch(s.op){case"<":case"<=":o=vj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Jd}uS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];uS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function fS(t,e,n){let r=Si,i=!0;for(const s of Yh(t,e)){let o=Si,a=!0;switch(s.op){case">=":case">":o=_j(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Si}lS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];lS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function vx(t,e,n,r,i,s,o,a){return new ti(t,e,n,r,i,s,o,a)}function ru(t){return new ti(t)}function pS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function c0(t){return t.collectionGroup!==null}function oa(t){const e=$(t);if(e.Pe===null){e.Pe=[];const n=jp(e),r=l0(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new sa(n)),e.Pe.push(new sa(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new sa(Je.keyField(),s))}}}return e.Pe}function Zt(t){const e=$(t);return e.Ie||(e.Ie=Aj(e,oa(t))),e.Ie}function Aj(t,e){if(t.limitType==="F")return bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sa(i.field,s)});const n=t.endAt?new Ki(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ki(t.startAt.position,t.startAt.inclusive):null;return bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Av(t,e){e.getFirstInequalityField(),jp(t);const n=t.filters.concat([e]);return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xh(t,e,n){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nc(t,e){return Dc(Zt(t),Zt(e))&&t.limitType===e.limitType}function _x(t){return`${Js(Zt(t))}|lt:${t.limitType}`}function Oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mx(i)).join(", ")}]`),Oc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oa(i)).join(",")),`Target(${r})`}(Zt(t))}; limitType=${t.limitType})`}function Lc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=cS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,oa(r),i)||r.endAt&&!function(o,a,u){const l=cS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,oa(r),i))}(t,e)}function wx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ex(t){return(e,n)=>{let r=!1;for(const i of oa(t)){const s=kj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kj(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Gi(u,l):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ax(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new Re(M.comparator);function fn(){return xj}const Ix=new Re(M.comparator);function Wu(...t){let e=Ix;for(const n of t)e=e.insert(n.key,n);return e}function Tx(t){let e=Ix;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vr(){return cl()}function Sx(){return cl()}function cl(){return new as(t=>t.toString(),(t,e)=>t.isEqual(e))}const Cj=new Re(M.comparator),Oj=new Pe(M.comparator);function te(...t){let e=Oj;for(const n of t)e=e.add(n);return e}const Dj=new Pe(ee);function d0(){return Dj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function Rx(t){return{integerValue:""+t}}function bx(t,e){return nx(e)?Rx(e):Px(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this._=void 0}}function Nj(t,e,n){return t instanceof Na?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Up(s)&&(s=a0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zs?kx(t,e):t instanceof eo?xx(t,e):function(i,s){const o=Ax(i,s),a=mS(o)+mS(i.Te);return Sv(o)&&Sv(i.Te)?Rx(a):Px(i.serializer,a)}(t,e)}function Lj(t,e,n){return t instanceof Zs?kx(t,e):t instanceof eo?xx(t,e):n}function Ax(t,e){return t instanceof La?function(r){return Sv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Na extends zp{}class Zs extends zp{constructor(e){super(),this.elements=e}}function kx(t,e){const n=Cx(e);for(const r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class eo extends zp{constructor(e){super(),this.elements=e}}function xx(t,e){let n=Cx(e);for(const r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}class La extends zp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function mS(t){return Xe(t.integerValue||t.doubleValue)}function Cx(t){return Zl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.field=e,this.transform=n}}function Vj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zs&&i instanceof Zs||r instanceof eo&&i instanceof eo?Ca(r.elements,i.elements,Rr):r instanceof La&&i instanceof La?Rr(r.Te,i.Te):r instanceof Na&&i instanceof Na}(t.transform,e.transform)}class Mj{constructor(e,n){this.version=e,this.transformResults=n}}class Fe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bp{}function Ox(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new su(t.key,Fe.none()):new iu(t.key,t.data,Fe.none());{const n=t.data,r=At.empty();let i=new Pe(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ni(t.key,r,new hn(i.toArray()),Fe.none())}}function $j(t,e,n){t instanceof iu?function(i,s,o){const a=i.value.clone(),u=yS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ni?function(i,s,o){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Dx(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof iu?function(s,o,a,u){if(!eh(s.precondition,o))return a;const l=s.value.clone(),c=vS(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ni?function(s,o,a,u){if(!eh(s.precondition,o))return a;const l=vS(s.fieldTransforms,u,o),c=o.data;return c.setAll(Dx(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Fj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ax(r.transform,i||null);s!=null&&(n===null&&(n=At.empty()),n.set(r.field,s))}return n||null}function gS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,(s,o)=>Vj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends Bp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ni extends Bp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yS(t,e,n){const r=new Map;Y(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Lj(o,a,n[i]))}return r}function vS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Nj(s,o,e))}return r}class su extends Bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h0 extends Bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$j(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Sx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Ox(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>gS(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>gS(n,r))}}class p0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length);let i=function(){return Cj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new p0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,he;function Nx(t){switch(t){default:return B();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Lx(t){if(t===void 0)return rt("GRPC error has no .code"),R.UNKNOWN;switch(t){case ot.OK:return R.OK;case ot.CANCELLED:return R.CANCELLED;case ot.UNKNOWN:return R.UNKNOWN;case ot.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case ot.INTERNAL:return R.INTERNAL;case ot.UNAVAILABLE:return R.UNAVAILABLE;case ot.UNAUTHENTICATED:return R.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case ot.NOT_FOUND:return R.NOT_FOUND;case ot.ALREADY_EXISTS:return R.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return R.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case ot.ABORTED:return R.ABORTED;case ot.OUT_OF_RANGE:return R.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return R.UNIMPLEMENTED;case ot.DATA_LOSS:return R.DATA_LOSS;default:return B()}}(he=ot||(ot={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new ia([4294967295,4294967295],0);function _S(t){const e=Vx().encode(t),n=new L4;return n.update(e),new Uint8Array(n.digest())}function wS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ia([n,r],0),new ia([i,s],0)]}class g0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=ia.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(ia.fromNumber(r)));return i.compare(jj)===1&&(i=new ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=_S(e),[r,i]=wS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new g0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=_S(e),[r,i]=wS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mc(Q.min(),i,new Re(ee),fn(),te())}}class $c{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $c(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class Mx{constructor(e,n){this.targetId=e,this.ye=n}}class $x{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ES{constructor(){this.we=0,this.Se=TS(),this.be=ft.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=te(),n=te(),r=te();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new $c(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=TS()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class zj{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=fn(),this.Ue=IS(),this.We=new Re(ee)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Qh(s))if(r===0){const o=new M(s.path);this.je(n,o,Oe.newNoDocument(o,Q.min()))}else Y(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;if(u!==0){this.Ze(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Wi(r).toUint8Array()}catch(u){if(u instanceof ux)return rr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new g0(o,i,s)}catch(u){return rr(u instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Qh(a.target)){const u=new M(a.target.path);this.$e.get(u)!==null||this.ut(o,u)||this.je(o,u,Oe.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=te();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.et(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Mc(e,n,this.We,this.$e,r);return this.$e=fn(),this.Ue=IS(),this.We=new Re(ee),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new ES,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Pe(ee),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new ES),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function IS(){return new Re(M.comparator)}function TS(){return new Re(M.comparator)}const Bj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Wj=(()=>({and:"AND",or:"OR"}))();class Hj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kv(t,e){return t.useProto3Json||Oc(e)?e:{value:e}}function Va(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gj(t,e){return Va(t,e.toTimestamp())}function it(t){return Y(!!t),Q.fromTimestamp(function(n){const r=qi(n);return new Ue(r.seconds,r.nanos)}(t))}function y0(t,e){return function(r){return new fe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Ux(t){const e=fe.fromString(t);return Y(Qx(e)),e}function ec(t,e){return y0(t.databaseId,e.path)}function Ir(t,e){const n=Ux(e);if(n.get(1)!==t.databaseId.projectId)throw new C(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(zx(n))}function xv(t,e){return y0(t.databaseId,e)}function jx(t){const e=Ux(t);return e.length===4?fe.emptyPath():zx(e)}function tc(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zx(t){return Y(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SS(t,e,n){return{name:ec(t,e),fields:n.value.mapValue.fields}}function Bx(t,e,n){const r=Ir(t,e.name),i=it(e.updateTime),s=e.createTime?it(e.createTime):Q.min(),o=new At({mapValue:{fields:e.fields}}),a=Oe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Kj(t,e){return"found"in e?function(r,i){Y(!!i.found),i.found.name,i.found.updateTime;const s=Ir(r,i.found.name),o=it(i.found.updateTime),a=i.found.createTime?it(i.found.createTime):Q.min(),u=new At({mapValue:{fields:i.found.fields}});return Oe.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){Y(!!i.missing),Y(!!i.readTime);const s=Ir(r,i.missing),o=it(i.readTime);return Oe.newNoDocument(s,o)}(t,e):B()}function Qj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Y(c===void 0||typeof c=="string"),ft.fromBase64String(c||"")):(Y(c===void 0||c instanceof Uint8Array),ft.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?R.UNKNOWN:Lx(l.code);return new C(c,l.message||"")}(o);n=new $x(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ir(t,r.document.name),s=it(r.document.updateTime),o=r.document.createTime?it(r.document.createTime):Q.min(),a=new At({mapValue:{fields:r.document.fields}}),u=Oe.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new th(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ir(t,r.document),s=r.readTime?it(r.readTime):Q.min(),o=Oe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ir(t,r.document),s=r.removedTargetIds||[];n=new th([],s,i,null)}else{if(!("filter"in e))return B();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Uj(i,s),a=r.targetId;n=new Mx(a,o)}}return n}function nc(t,e){let n;if(e instanceof iu)n={update:SS(t,e.key,e.value)};else if(e instanceof su)n={delete:ec(t,e.key)};else if(e instanceof ni)n={update:SS(t,e.key,e.data),updateMask:tz(e.fieldMask)};else{if(!(e instanceof h0))return B();n={verify:ec(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Na)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof La)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Gj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:B()}(t,e.precondition)),n}function Cv(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Fe.updateTime(it(s.updateTime)):s.exists!==void 0?Fe.exists(s.exists):Fe.none()}(e.currentDocument):Fe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)Y(a.setToServerValue==="REQUEST_TIME"),u=new Na;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];u=new Zs(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];u=new eo(c)}else"increment"in a?u=new La(o,a.increment):B();const l=Je.fromServerFormat(a.fieldPath);return new Vc(l,u)}(t,i)):[];if(e.update){e.update.name;const i=Ir(t,e.update.name),s=new At({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const l=u.fieldPaths||[];return new hn(l.map(c=>Je.fromServerFormat(c)))}(e.updateMask);return new ni(i,s,o,n,r)}return new iu(i,s,n,r)}if(e.delete){const i=Ir(t,e.delete);return new su(i,n)}if(e.verify){const i=Ir(t,e.verify);return new h0(i,n)}return B()}function Yj(t,e){return t&&t.length>0?(Y(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?it(i.updateTime):it(s);return o.isEqual(Q.min())&&(o=it(s)),new Mj(o,i.transformResults||[])}(n,e))):[]}function qx(t,e){return{documents:[xv(t,e.path)]}}function Wx(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=xv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Kx(ve.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:Do(d.field),direction:Jj(d.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=kv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function Hx(t){let e=jx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=Gx(d);return h instanceof ve&&u0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new sa(No(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Oc(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){const h=!!d.before,f=d.values||[];return new Ki(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const h=!d.before,f=d.values||[];return new Ki(f,h)}(n.endAt)),vx(e,i,o,s,a,"F",u,l)}function Xj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=No(n.unaryFilter.field);return ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=No(n.unaryFilter.field);return ce.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(n.unaryFilter.field);return ce.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(n){return ce.create(No(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ve.create(n.compositeFilter.filters.map(r=>Gx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B()}function Jj(t){return Bj[t]}function Zj(t){return qj[t]}function ez(t){return Wj[t]}function Do(t){return{fieldPath:t.canonicalString()}}function No(t){return Je.fromServerFormat(t.fieldPath)}function Kx(t){return t instanceof ce?function(n){if(n.op==="=="){if(aS(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(oS(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aS(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(oS(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:Zj(n.op),value:n.value}}}(t):t instanceof ve?function(n){const r=n.getFilters().map(i=>Kx(i));return r.length===1?r[0]:{compositeFilter:{op:ez(n.op),filters:r}}}(t):B()}function tz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,i,s=Q.min(),o=Q.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.ht=e}}function nz(t,e){let n;if(e.document)n=Bx(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=M.fromSegments(e.noDocument.path),i=no(e.noDocument.readTime);n=Oe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return B();{const r=M.fromSegments(e.unknownDocument.path),i=no(e.unknownDocument.version);n=Oe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ue(i[0],i[1]);return Q.fromTimestamp(s)}(e.readTime)),n}function PS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:ec(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Va(s,o.version.toTimestamp()),createTime:Va(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:to(e.version)};else{if(!e.isUnknownDocument())return B();r.unknownDocument={path:n.path.toArray(),version:to(e.version)}}return r}function Jh(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function to(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function no(t){const e=new Ue(t.seconds,t.nanoseconds);return Q.fromTimestamp(e)}function _s(t,e){const n=(e.baseMutations||[]).map(s=>Cv(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Cv(t.ht,s)),i=Ue.fromMillis(e.localWriteTimeMs);return new f0(e.batchId,i,n,r)}function Gu(t){const e=no(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?no(t.lastLimboFreeSnapshotVersion):Q.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Y(s.documents.length===1),Zt(ru(jx(s.documents[0])))}(t.query):function(s){return Zt(Hx(s))}(t.query),new Mr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ft.fromBase64String(t.resumeToken))}function Xx(t,e){const n=to(e.snapshotVersion),r=to(e.lastLimboFreeSnapshotVersion);let i;i=Qh(e.target)?qx(t.ht,e.target):Wx(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Js(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function v0(t){const e=Hx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xh(e,e.limit,"L"):e}function Tg(t,e){return new m0(e.largestBatchId,Cv(t.ht,e.overlayMutation))}function RS(t,e){const n=e.path.lastSegment();return[t,Jt(e.path.popLast()),n]}function bS(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:to(r.readTime),documentKey:Jt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{getBundleMetadata(e,n){return AS(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:no(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return AS(e).put(function(i){return{bundleId:i.id,createTime:to(it(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return kS(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:v0(s.bundledQuery),readTime:no(s.readTime)}}(r)})}saveNamedQuery(e,n){return kS(e).put(function(i){return{name:i.name,readTime:to(it(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function AS(t){return Tt(t,"bundles")}function kS(t){return Tt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new qp(e,r)}getOverlay(e,n){return bu(e).get(RS(this.userId,n)).next(r=>r?Tg(this.serializer,r):null)}getOverlays(e,n){const r=vr();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new m0(n,o);i.push(this.It(e,a))}),P.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Jt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(bu(e).J("collectionPathOverlayIndex",a))}),P.waitFor(s)}getOverlaysForCollection(e,n,r){const i=vr(),s=Jt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return bu(e).G("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=Tg(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=vr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return bu(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,l,c)=>{const d=Tg(this.serializer,l);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}It(e,n){return bu(e).put(function(i,s,o){const[a,u,l]=RS(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:nc(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function bu(t){return Tt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Yl(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(Wi(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?lx(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):B()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),M.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}ws.Ct=new ws;function iz(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function xS(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=iz(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class sz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=xS(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=xS(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class oz{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class az{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Au{constructor(){this.jt=new sz,this.Ht=new oz(this.jt),this.Jt=new az(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Es(this.indexId,this.documentKey,this.arrayValue,r)}}function li(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=CS(t.arrayValue,e.arrayValue),n!==0?n:(n=CS(t.directionalValue,e.directionalValue),n!==0?n:M.comparator(t.documentKey,e.documentKey)))}function CS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){Y(e.collectionGroup===this.collectionId);const n=Ev(e);if(n!==void 0&&!this.rn(n))return!1;const r=gs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const a=r[s];if(!this.sn(this.tn,a)||!this.on(this.Xt[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],a))return!1}return!0}_n(){let e=new Pe(Je.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Yd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Yd(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Yd(r.field,r.dir==="asc"?0:1)));return new Kh(Kh.UNKNOWN_ID,this.collectionId,n,Ql.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){var e,n;if(Y(t instanceof ce||t instanceof ve),t instanceof ce){if(t instanceof yx){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ce.create(t.field,"==",s)))||[];return ve.create(i,"or")}return t}const r=t.filters.map(i=>Jx(i));return ve.create(r,t.op)}function uz(t){if(t.getFilters().length===0)return[];const e=Nv(Jx(t));return Y(Zx(e)),Ov(e)||Dv(e)?[e]:e.getFilters()}function Ov(t){return t instanceof ce}function Dv(t){return t instanceof ve&&u0(t)}function Zx(t){return Ov(t)||Dv(t)||function(n){if(n instanceof ve&&Pv(n)){for(const r of n.getFilters())if(!Ov(r)&&!Dv(r))return!1;return!0}return!1}(t)}function Nv(t){if(Y(t instanceof ce||t instanceof ve),t instanceof ce)return t;if(t.filters.length===1)return Nv(t.filters[0]);const e=t.filters.map(r=>Nv(r));let n=ve.create(e,t.op);return n=Zh(n),Zx(n)?n:(Y(n instanceof ve),Y(Da(n)),Y(n.filters.length>1),n.filters.reduce((r,i)=>_0(r,i)))}function _0(t,e){let n;return Y(t instanceof ce||t instanceof ve),Y(e instanceof ce||e instanceof ve),n=t instanceof ce?e instanceof ce?function(i,s){return ve.create([i,s],"and")}(t,e):DS(t,e):e instanceof ce?DS(e,t):function(i,s){if(Y(i.filters.length>0&&s.filters.length>0),Da(i)&&Da(s))return px(i,s.getFilters());const o=Pv(i)?i:s,a=Pv(i)?s:i,u=o.filters.map(l=>_0(l,a));return ve.create(u,"or")}(t,e),Zh(n)}function DS(t,e){if(Da(e))return px(e,t.getFilters());{const n=e.filters.map(r=>_0(t,r));return ve.create(n,"or")}}function Zh(t){if(Y(t instanceof ce||t instanceof ve),t instanceof ce)return t;const e=t.getFilters();if(e.length===1)return Zh(e[0]);if(hx(t))return t;const n=e.map(i=>Zh(i)),r=[];return n.forEach(i=>{i instanceof ce?r.push(i):i instanceof ve&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.an=new w0}addToCollectionParentIndex(e,n){return this.an.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Pn.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class w0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new Uint8Array(0);class cz{constructor(e,n){this.user=e,this.databaseId=n,this.un=new w0,this.cn=new as(r=>Js(r),(r,i)=>Dc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Jt(i)};return NS(e).put(s)}return P.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Xk(n),""],!1,!0);return NS(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(yr(o.parent))}return r})}addFieldIndex(e,n){const r=ku(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=bo(e);return s.next(a=>{o.put(bS(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=ku(e),i=bo(e),s=Ro(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ku(e),r=Ro(e),i=bo(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return P.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new OS(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=Ro(e);let i=!0;const s=new Map;return P.forEach(this.ln(n),o=>this.hn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=te();const a=[];return P.forEach(s,(u,l)=>{O("IndexedDbIndexManager",`Using index ${function(y){return`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(u)} to execute ${Js(n)}`);const c=function(y,w){const E=Ev(w);if(E===void 0)return null;for(const I of Yh(y,E.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(l,u),d=function(y,w){const E=new Map;for(const I of gs(w))for(const T of Yh(y,I.fieldPath))switch(T.op){case"==":case"in":E.set(I.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return E.set(I.fieldPath.canonicalString(),T.value),Array.from(E.values())}return null}(l,u),h=function(y,w){const E=[];let I=!0;for(const T of gs(w)){const S=T.kind===0?hS(y,T.fieldPath,y.startAt):fS(y,T.fieldPath,y.startAt);E.push(S.value),I&&(I=S.inclusive)}return new Ki(E,I)}(l,u),f=function(y,w){const E=[];let I=!0;for(const T of gs(w)){const S=T.kind===0?fS(y,T.fieldPath,y.endAt):hS(y,T.fieldPath,y.endAt);E.push(S.value),I&&(I=S.inclusive)}return new Ki(E,I)}(l,u),g=this.Pn(u,l,h),v=this.Pn(u,l,f),_=this.In(u,l,d),m=this.dn(u.indexId,c,g,h.inclusive,v,f.inclusive,_);return P.forEach(m,p=>r.H(p,n.limit).next(y=>{y.forEach(w=>{const E=M.fromSegments(w.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return P.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=uz(ve.create(e.filters,"and")).map(r=>bv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),c=[];for(let d=0;d<u;++d){const h=n?this.Tn(n[d/l]):Td,f=this.En(e,h,r[d%l],i),g=this.An(e,h,s[d%l],o),v=a.map(_=>this.En(e,h,_,!0));c.push(...this.createRange(f,g,v))}return c}En(e,n,r,i){const s=new Es(e,M.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new Es(e,M.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new OS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.nn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return P.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new Pe(Je.comparator),c=!1;for(const d of u.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:l=l.add(h.field));for(const d of u.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new Au;for(const i of gs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);ws.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new Au;return ws.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new Au;return ws.Ct.dt(Xs(this.databaseId,n),r.Yt(function(s){const o=gs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new Au);let s=0;for(const o of gs(e)){const a=r[s++];for(const u of i)if(this.mn(n,o.fieldPath)&&Zl(a))i=this.fn(i,o,a);else{const l=u.Yt(o.kind);ws.Ct.dt(a,l)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Au;u.seed(a.zt()),ws.Ct.dt(o,u.Yt(n.kind)),s.push(u)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ku(e),i=bo(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return P.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(c,d){const h=d?new Ql(d.sequenceNumber,new Pn(no(d.readTime),new M(yr(d.documentKey)),d.largestBatchId)):Ql.empty(),f=c.fields.map(([g,v])=>new Yd(Je.fromServerFormat(g),v));return new Kh(c.indexId,c.collectionGroup,f,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=ku(e),s=bo(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>P.forEach(a,u=>s.put(bS(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),P.forEach(a,u=>this.yn(e,i,u).next(l=>{const c=this.wn(s,u);return l.isEqual(c)?P.resolve():this.Sn(e,s,u,l,c)}))))})}bn(e,n,r,i){return Ro(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return Ro(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=Ro(e);let s=new Pe(li);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,a)=>{s=s.add(new Es(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new Pe(li);const i=this.Rn(n,e);if(i==null)return r;const s=Ev(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Zl(o))for(const a of o.arrayValue.values||[])r=r.add(new Es(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Es(n.indexId,e.key,Td,i));return r}Sn(e,n,r,i,s){O("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,c,d,h){const f=u.getIterator(),g=l.getIterator();let v=Po(f),_=Po(g);for(;v||_;){let m=!1,p=!1;if(v&&_){const y=c(v,_);y<0?p=!0:y>0&&(m=!0)}else v!=null?p=!0:m=!0;m?(d(_),_=Po(g)):p?(h(v),v=Po(f)):(v=Po(f),_=Po(g))}}(i,s,li,a=>{o.push(this.bn(e,n,r,a))},a=>{o.push(this.Dn(e,n,r,a))}),P.waitFor(o)}pn(e){let n=1;return bo(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>li(o,a)).filter((o,a,u)=>!a||li(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=li(o,e),u=li(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Td,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Td,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return li(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(LS)}getMinOffset(e,n){return P.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||B())).next(LS)}}function NS(t){return Tt(t,"collectionParents")}function Ro(t){return Tt(t,"indexEntries")}function ku(t){return Tt(t,"indexConfiguration")}function bo(t){return Tt(t,"indexState")}function LS(t){Y(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;s0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Pn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:o},(c,d,h)=>(a++,h.delete()));s.push(u.next(()=>{Y(a===1)}));const l=[];for(const c of n.mutations){const d=rx(e,c.key.path,n.batchId);s.push(i.delete(d)),l.push(c.key)}return P.waitFor(s).next(()=>l)}function ef(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw B();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Wp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){Y(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Wp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ci(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Lo(e),o=ci(e);return o.add({}).next(a=>{Y(typeof a=="number");const u=new f0(a,n,r,i),l=function(f,g,v){const _=v.baseMutations.map(p=>nc(f.ht,p)),m=v.mutations.map(p=>nc(f.ht,p));return{userId:g,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:_,mutations:m}}(this.serializer,this.userId,u),c=[];let d=new Pe((h,f)=>ee(h.canonicalString(),f.canonicalString()));for(const h of i){const f=rx(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(l)),c.push(s.put(f,J4))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.vn[a]=u.keys()}),P.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return ci(e).get(n).next(r=>r?(Y(r.userId===this.userId),_s(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?P.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ci(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Y(a.batchId>=r),s=_s(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ci(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ci(e).G("userMutationsIndex",n).next(r=>r.map(i=>_s(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Xd(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Lo(e).Z({range:i},(o,a,u)=>{const[l,c,d]=o,h=yr(c);if(l===this.userId&&n.path.isEqual(h))return ci(e).get(d).next(f=>{if(!f)throw B();Y(f.userId===this.userId),s.push(_s(this.serializer,f))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(ee);const i=[];return n.forEach(s=>{const o=Xd(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Lo(e).Z({range:a},(l,c,d)=>{const[h,f,g]=l,v=yr(f);h===this.userId&&s.path.isEqual(v)?r=r.add(g):d.done()});i.push(u)}),P.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Xd(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Pe(ee);return Lo(e).Z({range:o},(u,l,c)=>{const[d,h,f]=u,g=yr(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(f)):c.done()}).next(()=>this.Mn(e,a))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ci(e).get(s).next(o=>{if(o===null)throw B();Y(o.userId===this.userId),r.push(_s(this.serializer,o))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return eC(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Lo(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=yr(s[1]);i.push(u)}else a.done()}).next(()=>{Y(i.length===0)})})}containsKey(e,n){return tC(e,this.userId,n)}On(e){return nC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tC(t,e,n){const r=Xd(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Lo(t).Z({range:s,Y:!0},(a,u,l)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),l.done()}).next(()=>o)}function ci(t){return Tt(t,"mutations")}function Lo(t){return Tt(t,"documentMutations")}function nC(t){return Tt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new ro(0)}static Ln(){return new ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new ro(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Q.fromTimestamp(new Ue(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ao(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(Y(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ao(e).Z((o,a)=>{const u=Gu(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>P.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ao(e).Z((r,i)=>{const s=Gu(i);n(s)})}kn(e){return MS(e).get("targetGlobalKey").next(n=>(Y(n!==null),n))}qn(e,n){return MS(e).put("targetGlobalKey",n)}Qn(e,n){return Ao(e).put(Xx(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Js(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ao(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Gu(a);Dc(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=_i(e);return n.forEach(o=>{const a=Jt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),P.waitFor(i)}removeMatchingKeys(e,n,r){const i=_i(e);return P.forEach(n,s=>{const o=Jt(s.path);return P.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=_i(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_i(e);let s=te();return i.Z({range:r,Y:!0},(o,a,u)=>{const l=yr(o[1]),c=new M(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Jt(n.path),i=IDBKeyRange.bound([r],[Xk(r)],!1,!0);let s=0;return _i(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}lt(e,n){return Ao(e).get(n).next(r=>r?Gu(r):null)}}function Ao(t){return Tt(t,"targets")}function MS(t){return Tt(t,"targetGlobal")}function _i(t){return Tt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class hz{constructor(e){this.$n=e,this.buffer=new Pe($S),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$S(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){O("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){os(n)?O("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ss(n)}await this.jn(3e5)})}}class pz{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(dn.ae);const r=new hz(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(VS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VS):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),Co()<=se.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function mz(t,e){return new pz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.db=e,this.garbageCollector=mz(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return Sd(e,r)}removeReference(e,n,r){return Sd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Sd(e,n)}tr(e,n){return function(i,s){let o=!1;return nC(i).X(a=>tC(i,a,s).next(u=>(u&&(o=!0),P.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,a)=>{if(a<=n){const u=this.tr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Q.min()),_i(e).delete(function(d){return[0,Jt(d.path)]}(o))))});i.push(u)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Sd(e,n)}er(e,n){const r=_i(e);let i,s=dn.ae;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==dn.ae&&n(new M(yr(i)),s),s=l,i=u):s=dn.ae}).next(()=>{s!==dn.ae&&n(new M(yr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sd(t,e){return _i(t).put(function(r,i){return{targetId:0,path:Jt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.changes=new as(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return hs(e).put(r)}removeEntry(e,n,r){return hs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Jh(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Oe.newInvalidDocument(n);return hs(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xu(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:Oe.newInvalidDocument(n)};return hs(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xu(n))},(i,s)=>{r={document:this.rr(n,s),size:ef(s)}}).next(()=>r)}getEntries(e,n){let r=fn();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=fn(),i=new Re(M.comparator);return this.sr(e,n,(s,o)=>{const a=this.rr(s,o);r=r.insert(s,a),i=i.insert(s,ef(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return P.resolve();let i=new Pe(jS);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(xu(i.first()),xu(i.last())),o=i.getIterator();let a=o.getNext();return hs(e).Z({index:"documentKeyIndex",range:s},(u,l,c)=>{const d=M.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&jS(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.W(xu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Jh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hs(e).G(IDBKeyRange.bound(a,u,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let c=fn();for(const d of l){const h=this.rr(M.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Lc(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=fn();const o=US(n,r),a=US(n,Pn.max());return hs(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,c)=>{const d=this.rr(M.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new vz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return FS(e).get("remoteDocumentGlobalKey").next(n=>(Y(!!n),n))}nr(e,n){return FS(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=nz(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Q.min())))return r}return Oe.newInvalidDocument(e)}}function iC(t){return new yz(t)}class vz extends rC{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new as(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Pe((s,o)=>ee(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=PS(this.ur.serializer,o);i=i.add(s.path.popLast());const l=ef(u);r+=l-a.size,n.push(this.ur.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=PS(this.ur.serializer,o.convertToNoDocument(Q.min()));n.push(this.ur.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function FS(t){return Tt(t,"remoteDocumentGlobal")}function hs(t){return Tt(t,"remoteDocumentsV14")}function xu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function US(t,e){const n=e.documentKey.path.toArray();return[t,Jh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ee(n[s],r[s]),i)return i;return i=ee(n.length,r.length),i||(i=ee(n[n.length-2],r[r.length-2]),i||ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,hn.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fn();const o=cl(),a=function(){return cl()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ni)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),dl(c.mutation,l,c.mutation.getFieldMask(),Ue.now())):o.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new _z(c,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cl();let i=new Re((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||hn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=Sx();c.forEach(h=>{if(!s.has(h)){const f=Ox(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(vr());let a=-1,u=s;return o.next(l=>P.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,te())).next(c=>({batchId:a,changes:Tx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wu();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{const l=function(d,h){return new ti(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Oe.newInvalidDocument(c)))});let a=Wu();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&dl(c.mutation,l,hn.empty(),Ue.now()),Lc(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return P.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:it(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:v0(i.bundledQuery),readTime:it(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.overlays=new Re(M.comparator),this.Pr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vr();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=vr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=vr(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=vr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return P.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new m0(n,r));let s=this.Pr.get(n);s===void 0&&(s=te(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.Ir=new Pe(pt.dr),this.Tr=new Pe(pt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new pt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new M(new fe([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new M(new fe([])),r=new pt(n,e),i=new pt(n,e+1);let s=te();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return M.comparator(e.key,n.key)||ee(e.yr,n.yr)}static Er(e,n){return ee(e.yr,n.yr)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Pe(pt.dr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(ee);return n.forEach(i=>{const s=new pt(i,0),o=new pt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new pt(new M(s),0);let a=new Pe(ee);return this.Sr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.yr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Y(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return P.forEach(n.mutations,i=>{const s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new pt(n,0),i=this.Sr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.Fr=e,this.docs=function(){return new Re(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=fn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||s0(Zk(c),r)<=0||(i.has(c.key)||Lc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){B()}Mr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sz(this)}getSize(e){return P.resolve(this.size)}}class Sz extends rC{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.persistence=e,this.Or=new as(n=>Js(n),Dc),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Nr=0,this.Br=new E0,this.targetCount=0,this.Lr=ro.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),P.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Qn(n),P.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.kr={},this.overlays={},this.qr=new dn(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Pz(this),this.indexManager=new lz,this.remoteDocumentCache=function(i){return new Tz(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new Yx(n),this.Ur=new wz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ez,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Iz(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const i=new Rz(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return P.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Rz extends tx{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.jr=new E0,this.Hr=null}static Jr(e){return new Hp(e)}get Yr(){if(this.Hr)return this.Hr;throw B()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),P.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Yr,r=>{const i=M.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return P.or([()=>P.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.serializer=e}B(e,n,r,i){const s=new Fp("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nS,{unique:!0}),u.createObjectStore("documentMutations")}(e),zS(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=P.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),zS(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").G().next(c=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nS,{unique:!0});const d=l.store("mutations"),h=c.map(f=>d.put(f));return P.waitFor(h)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:cj});l.createIndex("collectionPathOverlayIndex",dj,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",hj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:Z4});l.createIndex("documentKeyIndex",ej),l.createIndex("collectionGroupIndex",tj)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:oj}).createIndex("sequenceNumberIndex",aj,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:uj}).createIndex("documentKeyIndex",lj,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=ef(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>P.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(a=>P.forEach(a,u=>{Y(u.userId===s.userId);const l=_s(this.serializer,u);return eC(e,s.userId,l).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new fe(o),l=function(d){return[0,Jt(d)]}(u);s.push(n.get(l).next(c=>c?P.resolve():(d=>n.put({targetId:0,path:Jt(d),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>P.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:sj});const r=n.store("collectionParents"),i=new w0,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Jt(u)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const u=new fe(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,u],l)=>{const c=yr(a);return s(c.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Gu(i),o=Xx(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),u=function(d){return d.document?new M(fe.fromString(d.document.name).popFirst(5)):d.noDocument?M.fromSegments(d.noDocument.path):d.unknownDocument?M.fromSegments(d.unknownDocument.path):B()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>P.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=iC(this.serializer),s=new oC(Hp.Jr,this.serializer.ht);return r.G().next(o=>{const a=new Map;return o.forEach(u=>{var l;let c=(l=a.get(u.userId))!==null&&l!==void 0?l:te();_s(this.serializer,u).keys().forEach(d=>c=c.add(d)),a.set(u.userId,c)}),P.forEach(a,(u,l)=>{const c=new yt(l),d=qp.Pt(this.serializer,c),h=s.getIndexManager(c),f=Wp.Pt(c,this.serializer,h,s.referenceDelegate);return new sC(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Iv(n,dn.ae),u).next()})})}}function zS(t){t.createObjectStore("targetDocuments",{keyPath:rj}).createIndex("documentTargetsIndex",ij,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nj,{unique:!0}),t.createObjectStore("targetGlobal")}const Sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class I0{constructor(e,n,r,i,s,o,a,u,l,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=a,this.ai=l,this.ui=c,this.ci=d,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!I0.C())throw new C(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gz(this,i),this.Ti=n+"main",this.serializer=new Yx(u),this.Ei=new Xn(this.Ti,this.ci,new bz(this.serializer)),this.Kr=new dz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iC(this.serializer),this.Ur=new rz,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,c===!1&&rt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(R.FAILED_PRECONDITION,Sg);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new dn(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(os(e))return O("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return O("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Cu(e).get("owner").next(n=>P.resolve(this.bi(n)))}Di(e){return Pd(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Tt(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return P.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?P.resolve(!0):Cu(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new C(R.FAILED_PRECONDITION,Sg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pd(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&O("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Iv(e,dn.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>Pd(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return Wp.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cz(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return qp.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){O("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===15?pj:u===14?ox:u===13?sx:u===12?fj:u===11?ix:void B()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new Iv(a,this.qr?this.qr.next():dn.ae),n==="readwrite-primary"?this.pi(o).next(u=>!!u||this.yi(o)).next(u=>{if(!u)throw rt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new C(R.FAILED_PRECONDITION,ex);return r(o)}).next(u=>this.Si(o).next(()=>u)):this.qi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}qi(e){return Cu(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new C(R.FAILED_PRECONDITION,Sg)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put("owner",n)}static C(){return Xn.C()}wi(e){const n=Cu(e);return n.get("owner").next(r=>this.bi(r)?(O("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(rt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;rF()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return O("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){rt("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(t){return Tt(t,"owner")}function Pd(t){return Tt(t,"clientMetadata")}function T0(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new S0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Az;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Co()<=se.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),P.resolve()):(Co()<=se.DEBUG&&O("QueryEngine","Query:",Oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Co()<=se.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(n))):P.resolve())}Hi(e,n){if(pS(n))return P.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xh(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Xi(n,a);return this.es(n,l,o,u.readTime)?this.Hi(e,Xh(n,null,"F")):this.ts(e,l,n,u)}))})))}Ji(e,n,r,i){return pS(n)||i.isEqual(Q.min())?P.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?P.resolve(null):(Co()<=se.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oo(n)),this.ts(e,o,n,Jk(i,-1)).next(a=>a))})}Xi(e,n){let r=new Pe(Ex(e));return n.forEach((i,s)=>{Lc(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Co()<=se.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.ji.getDocumentsMatchingQuery(e,n,Pn.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Re(ee),this.ss=new as(s=>Js(s),Dc),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sC(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function uC(t,e,n,r){return new kz(t,e,n,r)}async function lC(t,e){const n=$(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=te();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({cs:l,removedBatchIds:o,addedBatchIds:a}))})})}function xz(t,e){const n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,h=d.keys();let f=P.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(u,g)).next(v=>{const _=l.docVersions.get(g);Y(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=te();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cC(t){const e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function Cz(t,e){const n=$(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ft.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,_,m){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.Kr.updateTargetData(s,f))});let u=fn(),l=te();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(dC(s,o,e.documentUpdates).next(c=>{u=c.ls,l=c.hs})),!r.isEqual(Q.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.rs=i,s))}function dC(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fn();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ls:o,hs:i}})}function Oz(t,e){const n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ma(t,e){const n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function $a(t,e,n){const r=$(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!os(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function tf(t,e,n){const r=$(t);let i=Q.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const d=$(u),h=d.ss.get(c);return h!==void 0?P.resolve(d.rs.get(h)):d.Kr.getTargetData(l,c)}(r,o,Zt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:te())).next(a=>(pC(r,wx(e),a),{documents:a,Ps:s})))}function hC(t,e){const n=$(t),r=$(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function fC(t,e){const n=$(t),r=n.os.get(e)||Q.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,Jk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(pC(n,e,i),i))}function pC(t,e,n){let r=t.os.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function Dz(t,e,n,r){const i=$(t);let s=te(),o=fn();for(const l of n){const c=e.Is(l.metadata.name);l.document&&(s=s.add(c));const d=e.ds(l);d.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(c,d)}const a=i._s.newChangeBuffer({trackRemovals:!0}),u=await Ma(i,function(c){return Zt(ru(fe.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>dC(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.Kr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Kr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.ls,c.hs)).next(()=>c.ls)))}async function Nz(t,e,n=te()){const r=await Ma(t,Zt(v0(e.bundledQuery))),i=$(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=it(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const a=r.withResumeToken(ft.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(a.targetId,a),i.Kr.updateTargetData(s,a).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function BS(t,e){return`firestore_clients_${t}_${e}`}function qS(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Pg(t,e){return`firestore_targets_${t}_${e}`}class nf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new C(i.error.code,i.error.message))),o?new nf(e,n,i.state,s):(rt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new C(r.error.code,r.error.message))),s?new hl(e,r.state,i):(rt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=d0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=nx(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new rf(e,s):(rt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class P0{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new P0(n.clientId,n.onlineState):(rt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Lv{constructor(){this.activeTargetIds=d0()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rg{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Re(ee),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=BS(this.persistenceKey,this.fs),this.bs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new Lv),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Ms=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(BS(this.persistenceKey,r));if(i){const s=rf.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Pg(this.persistenceKey,e));if(r){const i=hl.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pg(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return O("SharedClientState","READ",e,n),n}setItem(e,n){O("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){O("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(O("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=dn.ae;if(s!=null)try{const a=JSON.parse(s);Y(typeof a=="number"),o=a}catch(a){rt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==dn.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new nf(this.currentUser,e,n,r),s=qS(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=qS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=Pg(this.persistenceKey,e),s=new hl(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return rf.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return nf.Es(new yt(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return hl.Es(i,n)}Os(e){return P0.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);O("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.no(o,a).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=d0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class mC{constructor(){this.ro=new Lv,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new Lv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function bg(){return Rd===null?Rd=function(){return 268435456+Math.round(2147483648*Math.random())}():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class $z extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=bg(),u=this.Do(n,r);O("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(l,s,o),this.vo(n,u,l,i).then(c=>(O("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw rr("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=Vz[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=bg();return new Promise((o,a)=>{const u=new N4;u.setWithCredentials(!0),u.listenOnce(O4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ig.NO_ERROR:const c=u.getResponseJson();O(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ig.TIMEOUT:O(Vt,`RPC '${e}' ${s} timed out`),a(new C(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ig.HTTP_ERROR:const d=u.getStatus();if(O(Vt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(m)>=0?m:R.UNKNOWN}(f.status);a(new C(g,f.message))}else a(new C(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(R.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{O(Vt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);O(Vt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Mo(e,n,r){const i=bg(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x4(),a=C4(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");O(Vt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,f=!1;const g=new Mz({ho:_=>{f?O(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(O(Vt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),O(Vt,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},Po:()=>d.close()}),v=(_,m,p)=>{_.listen(m,y=>{try{p(y)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,Ed.EventType.OPEN,()=>{f||O(Vt,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Ed.EventType.CLOSE,()=>{f||(f=!0,O(Vt,`RPC '${e}' stream ${i} transport closed`),g.mo())}),v(d,Ed.EventType.ERROR,_=>{f||(f=!0,rr(Vt,`RPC '${e}' stream ${i} transport errored:`,_),g.mo(new C(R.UNAVAILABLE,"The operation could not be completed")))}),v(d,Ed.EventType.MESSAGE,_=>{var m;if(!f){const p=_.data[0];Y(!!p);const y=p,w=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(w){O(Vt,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let I=function(k){const A=ot[k];if(A!==void 0)return Lx(A)}(E),T=w.message;I===void 0&&(I=R.INTERNAL,T="Unknown error status: "+E+" with message "+w.message),f=!0,g.mo(new C(I,T)),d.close()}else O(Vt,`RPC '${e}' stream ${i} received:`,p),g.fo(p)}}),v(a,D4.STAT_EVENT,_=>{_.stat===JT.PROXY?O(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===JT.NOPROXY&&O(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Vo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof window<"u"?window:null}function nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return new Hj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new R0(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new C(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fz extends yC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=Qj(this.serializer,e),r=function(s){if(!("targetChange"in s))return Q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?it(o.readTime):Q.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=tc(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Qh(u)?{documents:qx(s,u)}:{query:Wx(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Fx(s,o.resumeToken);const l=kv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=Va(s,o.snapshotVersion.toTimestamp());const l=kv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=Xj(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=tc(this.serializer),n.removeTarget=e,this.n_(n)}}class Uz extends yC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=Yj(e.writeResults,e.commitTime),r=it(e.commitTime);return this.listener.T_(r,n)}return Y(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=tc(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nc(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new C(R.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(R.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(R.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class zz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(rt(n),this.p_=!1):O("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{us(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=$(u);l.F_.add(4),await ou(l),l.O_.set("Unknown"),l.F_.delete(4),await Uc(l)}(this))})}),this.O_=new zz(r,i)}}async function Uc(t){if(us(t))for(const e of t.M_)await e(!0)}async function ou(t){for(const e of t.M_)await e(!1)}function Gp(t,e){const n=$(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),k0(n)?A0(n):uu(n).Yo()&&b0(n,e))}function rc(t,e){const n=$(t),r=uu(n);n.v_.delete(e),r.Yo()&&vC(n,e),n.v_.size===0&&(r.Yo()?r.e_():us(n)&&n.O_.set("Unknown"))}function b0(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).l_(e)}function vC(t,e){t.N_.Le(e),uu(t).h_(e)}function A0(t){t.N_=new zj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.O_.y_()}function k0(t){return us(t)&&!uu(t).Jo()&&t.v_.size>0}function us(t){return $(t).F_.size===0}function _C(t){t.N_=void 0}async function qz(t){t.v_.forEach((e,n)=>{b0(t,e)})}async function Wz(t,e){_C(t),k0(t)?(t.O_.b_(e),A0(t)):t.O_.set("Unknown")}async function Hz(t,e,n){if(t.O_.set("Online"),e instanceof $x&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(t,r)}else if(e instanceof th?t.N_.Ge(e):e instanceof Mx?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Q.min()))try{const r=await cC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.v_.get(l);c&&s.v_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.v_.get(u);if(!c)return;s.v_.set(u,c.withResumeToken(ft.EMPTY_BYTE_STRING,c.snapshotVersion)),vC(s,u);const d=new Mr(c.target,u,l,c.sequenceNumber);b0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await sf(t,r)}}async function sf(t,e,n){if(!os(e))throw e;t.F_.add(1),await ou(t),t.O_.set("Offline"),n||(n=()=>cC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Uc(t)})}function wC(t,e){return e().catch(n=>sf(t,n,e))}async function au(t){const e=$(t),n=Qi(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Gz(e);)try{const i=await Oz(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,Kz(e,i)}catch(i){await sf(e,i)}EC(e)&&IC(e)}function Gz(t){return us(t)&&t.C_.length<10}function Kz(t,e){t.C_.push(e);const n=Qi(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function EC(t){return us(t)&&!Qi(t).Jo()&&t.C_.length>0}function IC(t){Qi(t).start()}async function Qz(t){Qi(t).A_()}async function Yz(t){const e=Qi(t);for(const n of t.C_)e.d_(n.mutations)}async function Xz(t,e,n){const r=t.C_.shift(),i=p0.from(r,e,n);await wC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await au(t)}async function Jz(t,e){e&&Qi(t).I_&&await async function(r,i){if(function(o){return Nx(o)&&o!==R.ABORTED}(i.code)){const s=r.C_.shift();Qi(r).Xo(),await wC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await au(r)}}(t,e),EC(t)&&IC(t)}async function HS(t,e){const n=$(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=us(n);n.F_.add(3),await ou(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Uc(n)}async function Vv(t,e){const n=$(t);e?(n.F_.delete(2),await Uc(n)):e||(n.F_.add(2),await ou(n),n.O_.set("Unknown"))}function uu(t){return t.B_||(t.B_=function(n,r,i){const s=$(n);return s.V_(),new Fz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:qz.bind(null,t),Eo:Wz.bind(null,t),c_:Hz.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),k0(t)?A0(t):t.O_.set("Unknown")):(await t.B_.stop(),_C(t))})),t.B_}function Qi(t){return t.L_||(t.L_=function(n,r,i){const s=$(n);return s.V_(),new Uz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Qz.bind(null,t),Eo:Jz.bind(null,t),E_:Yz.bind(null,t),T_:Xz.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await au(t)):(await t.L_.stop(),t.C_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new x0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),os(t))return new C(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new aa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.k_=new Re(M.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):B():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fa{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fa(e,n,aa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.Q_=void 0,this.listeners=[]}}class eB{constructor(){this.queries=new as(e=>_x(e),Nc),this.onlineState="Unknown",this.K_=new Set}}async function C0(t,e){const n=$(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Zz),i)try{s.Q_=await n.onListen(r)}catch(o){const a=lu(o,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&D0(n)}async function O0(t,e){const n=$(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function tB(t,e){const n=$(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&D0(n)}function nB(t,e,n){const r=$(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function D0(t){t.K_.forEach(e=>{e.next()})}class N0{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.serializer=e}Is(e){return Ir(this.serializer,e)}ds(e){return e.metadata.exists?Bx(this.serializer,e.document,!1):Oe.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return it(e)}}class iB{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TC(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=fe.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new KS(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||te()).add(s);n.set(o,a)}}return n}async complete(){const e=await Dz(this.localStore,new KS(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await Nz(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function TC(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.key=e}}class PC{constructor(e){this.key=e}}class RC{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=te(),this.mutatedKeys=te(),this.ua=Ex(e),this.ca=new aa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new GS,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Lc(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.ua(f,u)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||l)&&(a=!0)),_&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((l,c)=>function(h,f){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return g(h)-g(f)}(l.type,c.type)||this.ua(l.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,u=a!==this._a;return this._a=a,s.length!==0||u?{snapshot:new Fa(this.query,e.ca,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new GS,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=te(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new PC(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new SC(r))}),n}Ra(e){this.oa=e.Ps,this.aa=te();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Fa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class sB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oB{constructor(e){this.key=e,this.ma=!1}}class aB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new as(a=>_x(a),Nc),this.pa=new Map,this.ya=new Set,this.wa=new Re(M.comparator),this.Sa=new Map,this.ba=new E0,this.Da={},this.Ca=new Map,this.va=ro.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function uB(t,e){const n=F0(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Ma(n.localStore,Zt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await L0(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Gp(n.remoteStore,o)}return i}async function L0(t,e,n,r,i){t.Ma=(d,h,f)=>async function(v,_,m,p){let y=_.view.ha(m);y.es&&(y=await tf(v.localStore,_.query,!1).then(({documents:I})=>_.view.ha(I,y)));const w=p&&p.targetChanges.get(_.targetId),E=_.view.applyChanges(y,v.isPrimaryClient,w);return Mv(v,_.targetId,E.Ea),E.snapshot}(t,d,h,f);const s=await tf(t.localStore,e,!0),o=new RC(e,s.Ps),a=o.ha(s.documents),u=$c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);Mv(t,n,l.Ea);const c=new sB(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot}async function lB(t,e){const n=$(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Nc(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $a(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rc(n.remoteStore,r.targetId),Ua(n,r.targetId)}).catch(ss)):(Ua(n,r.targetId),await $a(n.localStore,r.targetId,!0))}async function cB(t,e,n){const r=U0(t);try{const i=await function(o,a){const u=$(o),l=Ue.now(),c=a.reduce((f,g)=>f.add(g.key),te());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=fn(),v=te();return u._s.getEntries(f,c).next(_=>{g=_,g.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;const m=[];for(const p of a){const y=Fj(p,d.get(p.key).overlayedDocument);y!=null&&m.push(new ni(p.key,y,cx(y.value.mapValue),Fe.exists(!0)))}return u.mutationQueue.addMutationBatch(f,l,m,a)}).next(_=>{h=_;const m=_.applyToLocalDocumentSet(d,v);return u.documentOverlayCache.saveOverlays(f,_.batchId,m)})}).then(()=>({batchId:h.batchId,changes:Tx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new Re(ee)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await ri(r,i.changes),await au(r.remoteStore)}catch(i){const s=lu(i,"Failed to persist write");n.reject(s)}}async function bC(t,e){const n=$(t);try{const r=await Cz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Y(o.ma):i.removedDocuments.size>0&&(Y(o.ma),o.ma=!1))}),await ri(n,r,e)}catch(r){await ss(r)}}function QS(t,e,n){const r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=$(o);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const h of d.listeners)h.U_(a)&&(l=!0)}),l&&D0(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dB(t,e,n){const r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Re(M.comparator);o=o.insert(s,Oe.newNoDocument(s,Q.min()));const a=te().add(s),u=new Mc(Q.min(),new Map,new Re(ee),o,a);await bC(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),$0(r)}else await $a(r.localStore,e,!1).then(()=>Ua(r,e,n)).catch(ss)}async function hB(t,e){const n=$(t),r=e.batch.batchId;try{const i=await xz(n.localStore,e);M0(n,r,null),V0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ri(n,i)}catch(i){await ss(i)}}async function fB(t,e,n){const r=$(t);try{const i=await function(o,a){const u=$(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(Y(d!==null),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);M0(r,e,n),V0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ri(r,i)}catch(i){await ss(i)}}async function pB(t,e){const n=$(t);us(n.remoteStore)||O("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=$(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=lu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function V0(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function M0(t,e,n){const r=$(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ua(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||AC(t,r)})}function AC(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(rc(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),$0(t))}function Mv(t,e,n){for(const r of n)r instanceof SC?(t.ba.addReference(r.key,e),mB(t,r)):r instanceof PC?(O("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||AC(t,r.key)):B()}function mB(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(O("SyncEngine","New document in limbo: "+n),t.ya.add(r),$0(t))}function $0(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new M(fe.fromString(e)),r=t.va.next();t.Sa.set(r,new oB(n)),t.wa=t.wa.insert(n,r),Gp(t.remoteStore,new Mr(Zt(ru(n.path)),r,"TargetPurposeLimboResolution",dn.ae))}}async function ri(t,e,n){const r=$(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=S0.$i(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(u,l){const c=$(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(l,h=>P.forEach(h.Qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>P.forEach(h.Ki,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!os(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.rs.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);c.rs=c.rs.insert(h,v)}}}(r.localStore,s))}async function gB(t,e){const n=$(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await lC(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new C(R.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ri(n,r.cs)}}function yB(t,e){const n=$(t),r=n.Sa.get(e);if(r&&r.ma)return te().add(r.key);{let i=te();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}async function vB(t,e){const n=$(t),r=await tf(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&Mv(n,e.targetId,i.Ea),i}async function _B(t,e){const n=$(t);return fC(n.localStore,e).then(r=>ri(n,r))}async function wB(t,e,n,r){const i=$(t),s=await function(a,u){const l=$(a),c=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Fn(d,u).next(h=>h?l.localDocuments.getDocuments(d,h):P.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await au(i.remoteStore):n==="acknowledged"||n==="rejected"?(M0(i,e,r||null),V0(i,e),function(a,u){$($(a).mutationQueue).xn(u)}(i.localStore,e)):B(),await ri(i,s)):O("SyncEngine","Cannot apply mutation batch with id: "+e)}async function EB(t,e){const n=$(t);if(F0(n),U0(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await YS(n,r.toArray());n.Fa=!0,await Vv(n.remoteStore,!0);for(const s of i)Gp(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ua(n,o),$a(n.localStore,o,!0))),rc(n.remoteStore,o)}),await i,await YS(n,r),function(o){const a=$(o);a.Sa.forEach((u,l)=>{rc(a.remoteStore,l)}),a.ba.gr(),a.Sa=new Map,a.wa=new Re(M.comparator)}(n),n.Fa=!1,await Vv(n.remoteStore,!1)}}async function YS(t,e,n){const r=$(t),i=[],s=[];for(const o of e){let a;const u=r.pa.get(o);if(u&&u.length!==0){a=await Ma(r.localStore,Zt(u[0]));for(const l of u){const c=r.ga.get(l),d=await vB(r,c);d.snapshot&&s.push(d.snapshot)}}else{const l=await hC(r.localStore,o);a=await Ma(r.localStore,l),await L0(r,kC(l),o,!1,a.resumeToken)}i.push(a)}return r.fa.c_(s),i}function kC(t){return vx(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function IB(t){return function(n){return $($(n).persistence).ki()}($(t).localStore)}async function TB(t,e,n,r){const i=$(t);if(i.Fa)return void O("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await fC(i.localStore,wx(s[0])),a=Mc.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ft.EMPTY_BYTE_STRING);await ri(i,o,a);break}case"rejected":await $a(i.localStore,e,!0),Ua(i,e,r);break;default:B()}}async function SB(t,e,n){const r=F0(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){O("SyncEngine","Adding an already active target "+i);continue}const s=await hC(r.localStore,i),o=await Ma(r.localStore,s);await L0(r,kC(s),o.targetId,!1,o.resumeToken),Gp(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await $a(r.localStore,i,!1).then(()=>{rc(r.remoteStore,i),Ua(r,i)}).catch(ss)}}function F0(t){const e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dB.bind(null,e),e.fa.c_=tB.bind(null,e.eventManager),e.fa.xa=nB.bind(null,e.eventManager),e}function U0(t){const e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fB.bind(null,e),e}function PB(t,e,n){const r=$(t);(async function(s,o,a){try{const u=await o.getMetadata();if(await function(f,g){const v=$(f),_=it(g.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",m=>v.Ur.getBundleMetadata(m,g.id)).then(m=>!!m&&m.createTime.compareTo(_)>=0)}(s.localStore,u))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(TC(u));const l=new iB(u,s.localStore,o.serializer);let c=await o.Oa();for(;c;){const h=await l.na(c);h&&a._updateProgress(h),c=await o.Oa()}const d=await l.complete();return await ri(s,d.sa,void 0),await function(f,g){const v=$(f);return v.persistence.runTransaction("Save bundle","readwrite",_=>v.Ur.saveBundleMetadata(_,g))}(s.localStore,u),a._completeWith(d.progress),Promise.resolve(d.ia)}catch(u){return rr("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class $v{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}createPersistence(e){return new oC(Hp.Jr,this.serializer)}createSharedClientState(e){return new mC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xC extends $v{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await U0(this.Na.syncEngine),await au(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new fz(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Y4(n,this.persistence);return new Q4(e.asyncQueue,r)}createPersistence(e){const n=T0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new I0(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,gC(),nh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new mC}}class RB extends xC{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof Rg&&(this.sharedClientState.syncEngine={Xs:wB.bind(null,n),eo:TB.bind(null,n),no:SB.bind(null,n),ki:IB.bind(null,n),Zs:_B.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await EB(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=gC();if(!Rg.C(n))throw new C(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=T0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class j0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gB.bind(null,this.syncEngine),await Vv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eB}()}createDatastore(e){const n=Fc(e.databaseInfo.databaseId),r=function(s){return new $z(s)}(e.databaseInfo);return function(s,o,a,u){return new jz(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Bz(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QS(this.syncEngine,n,0),function(){return WS.C()?new WS:new Lz}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const d=new aB(i,s,o,a,u,l);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=$(n);O("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await ou(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new _t,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new rB(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=$(i),a=tc(o.serializer)+"/documents",u={documents:s.map(h=>ec(o.serializer,h))},l=await o.Fo("BatchGetDocuments",a,u,s.length),c=new Map;l.forEach(h=>{const f=Kj(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());Y(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new su(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=M.fromPath(r);this.mutations.push(new h0(i,this.precondition(i)))}),await async function(r,i){const s=$(r),o=tc(s.serializer)+"/documents",a={writes:i.map(u=>nc(s.serializer,u))};await s.bo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw B();n=Q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new C(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Q.min())?Fe.exists(!1):Fe.updateTime(n):Fe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Q.min()))throw new C(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fe.updateTime(n)}return Fe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new R0(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new AB(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Oc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Nx(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=Yk.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{O("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rh(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z0(t);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>HS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>HS(e.remoteStore,s)),t._onlineComponents=e}function CC(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function z0(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CC(n))throw n;rr("Error using user provided cache. Falling back to memory cache: "+n),await rh(t,new $v)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await rh(t,new $v);return t._offlineComponents}async function Qp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await Fv(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await Fv(t,new j0))),t._onlineComponents}function OC(t){return z0(t).then(e=>e.persistence)}function B0(t){return z0(t).then(e=>e.localStore)}function DC(t){return Qp(t).then(e=>e.remoteStore)}function q0(t){return Qp(t).then(e=>e.syncEngine)}function CB(t){return Qp(t).then(e=>e.datastore)}async function ja(t){const e=await Qp(t),n=e.eventManager;return n.onListen=uB.bind(null,e.syncEngine),n.onUnlisten=lB.bind(null,e.syncEngine),n}function OB(t){return t.asyncQueue.enqueue(async()=>{const e=await OC(t),n=await DC(t);return e.setNetworkEnabled(!0),function(i){const s=$(i);return s.F_.delete(0),Uc(s)}(n)})}function DB(t){return t.asyncQueue.enqueue(async()=>{const e=await OC(t),n=await DC(t);return e.setNetworkEnabled(!1),async function(i){const s=$(i);s.F_.add(0),await ou(s),s.O_.set("Offline")}(n)})}function NB(t,e){const n=new _t;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,c){const d=$(l);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new C(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=lu(a,`Failed to get document '${s} from cache`);o.reject(u)}}(await B0(t),e,n)),n.promise}function NC(t,e,n={}){const r=new _t;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Kp({next:h=>{o.enqueueAndForget(()=>O0(s,d));const f=h.docs.has(a);!f&&h.fromCache?l.reject(new C(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&u.source==="server"?l.reject(new C(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new N0(ru(a.path),c,{includeMetadataChanges:!0,Z_:!0});return C0(s,d)}(await ja(t),t.asyncQueue,e,n,r)),r.promise}function LB(t,e){const n=new _t;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await tf(i,s,!0),u=new RC(s,a.Ps),l=u.ha(a.documents),c=u.applyChanges(l,!1);o.resolve(c.snapshot)}catch(a){const u=lu(a,`Failed to execute query '${s} against cache`);o.reject(u)}}(await B0(t),e,n)),n.promise}function LC(t,e,n={}){const r=new _t;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Kp({next:h=>{o.enqueueAndForget(()=>O0(s,d)),h.fromCache&&u.source==="server"?l.reject(new C(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new N0(a,c,{includeMetadataChanges:!0,Z_:!0});return C0(s,d)}(await ja(t),t.asyncQueue,e,n,r)),r.promise}function VB(t,e){const n=new Kp(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){$(i).K_.add(s),s.next()}(await ja(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){$(i).K_.delete(s)}(await ja(t),n))}}function MB(t,e,n,r){const i=function(o,a){let u;return u=typeof o=="string"?Vx().encode(o):o,function(c,d){return new bB(c,d)}(function(c,d){if(c instanceof Uint8Array)return XS(c,d);if(c instanceof ArrayBuffer)return XS(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,Fc(e));t.asyncQueue.enqueueAndForget(async()=>{PB(await q0(t),i,r)})}function $B(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=$(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await B0(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e,n){if(!n)throw new C(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MC(t,e,n,r){if(e===!0&&r===!0)throw new C(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZS(t){if(!M.isDocumentKey(t))throw new C(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e1(t){if(M.isDocumentKey(t))throw new C(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(t);throw new C(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $C(t,e){if(e<=0)throw new C(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $4;switch(r.type){case"firstParty":return new z4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JS.get(n);r&&(O("ComponentProvider","Removing Datastore"),JS.delete(n),r.terminate())}(this),Promise.resolve()}}function FB(t,e,n,r={}){var i;const s=(t=ge(t,jc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=yt.MOCK_USER;else{a=OA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new C(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yt(l)}t._authCredentials=new F4(new Qk(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class FC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new FC(this.firestore,e,this._query)}},We=class UC{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new UC(this.firestore,e,this._key)}},Li=class jC extends tn{constructor(e,n,r){super(e,n,ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new M(e))}withConverter(e){return new jC(this.firestore,e,this._path)}};function zC(t,e,...n){if(t=K(t),W0("collection","path",e),t instanceof jc){const r=fe.fromString(e,...n);return e1(r),new Li(t,null,r)}{if(!(t instanceof We||t instanceof Li))throw new C(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return e1(r),new Li(t.firestore,null,r)}}function UB(t,e){if(t=ge(t,jc),W0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new C(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new tn(t,null,function(r){return new ti(fe.emptyPath(),r)}(e))}function of(t,e,...n){if(t=K(t),arguments.length===1&&(e=Yk.V()),W0("doc","path",e),t instanceof jc){const r=fe.fromString(e,...n);return ZS(r),new We(t,null,new M(r))}{if(!(t instanceof We||t instanceof Li))throw new C(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return ZS(r),new We(t.firestore,t instanceof Li?t.converter:null,new M(r))}}function BC(t,e){return t=K(t),e=K(e),(t instanceof We||t instanceof Li)&&(e instanceof We||e instanceof Li)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function qC(t,e){return t=K(t),e=K(e),t instanceof tn&&e instanceof tn&&t.firestore===e.firestore&&Nc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new R0(this,"async_queue_retry"),this.ou=()=>{const n=nh();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=nh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=nh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new _t;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!os(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw rt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=x0.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&B()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function Uv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class zB{constructor(){this._progressObserver={},this._taskCompletionResolver=new _t,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=-1;let et=class extends jc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WC(this),this._firestoreClient.terminate()}};function St(t){return t._firestoreClient||WC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new yj(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,VC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new xB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function qB(t,e){GC(t=ge(t,et));const n=St(t);if(n._uninitializedComponentsProvider)throw new C(R.FAILED_PRECONDITION,"SDK cache is already specified.");rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new j0;return HC(n,i,new xC(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function WB(t){GC(t=ge(t,et));const e=St(t);if(e._uninitializedComponentsProvider)throw new C(R.FAILED_PRECONDITION,"SDK cache is already specified.");rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new j0;return HC(e,r,new RB(r,n.cacheSizeBytes))}function HC(t,e,n){const r=new _t;return t.asyncQueue.enqueue(async()=>{try{await rh(t,n),await Fv(t,e),r.resolve()}catch(i){const s=i;if(!CC(s))throw s;rr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function HB(t){if(t._initialized&&!t._terminated)throw new C(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _t;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Xn.C())return Promise.resolve();const i=r+"main";await Xn.delete(i)}(T0(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function GB(t){return function(n){const r=new _t;return n.asyncQueue.enqueueAndForget(async()=>pB(await q0(n),r)),r.promise}(St(t=ge(t,et)))}function KB(t){return OB(St(t=ge(t,et)))}function QB(t){return DB(St(t=ge(t,et)))}function YB(t,e){const n=St(t=ge(t,et)),r=new zB;return MB(n,t._databaseId,e,r),r}function XB(t,e){return $B(St(t=ge(t,et)),e).then(n=>n?new tn(t,null,n.query):null)}function GC(t){if(t._initialized||t._terminated)throw new C(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(ft.fromBase64String(e))}catch(n){throw new C(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new br(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=/^__.*__$/;class ZB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class KC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Jp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return af(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(QC(this.Tu)&&JB.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class e3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fc(e)}wu(e,n,r,i=!1){return new Jp({Tu:e,methodName:n,yu:r,path:Je.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vo(t){const e=t._freezeSettings(),n=Fc(t._databaseId);return new e3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zp(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);Q0("Data must be an object, but it was:",o,r);const a=JC(r,o);let u,l;if(s.merge)u=new hn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=jv(e,d,n);if(!o.contains(h))throw new C(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eO(c,h)||c.push(h)}u=new hn(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new ZB(new At(a),u,l)}class zc extends yo{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function YC(t,e,n){return new Jp({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class H0 extends yo{_toFieldTransform(e){return new Vc(e.path,new Na)}isEqual(e){return e instanceof H0}}class t3 extends yo{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=YC(this,e,!0),r=this.Su.map(s=>_o(s,n)),i=new Zs(r);return new Vc(e.path,i)}isEqual(e){return this===e}}class n3 extends yo{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=YC(this,e,!0),r=this.Su.map(s=>_o(s,n)),i=new eo(r);return new Vc(e.path,i)}isEqual(e){return this===e}}class r3 extends yo{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new La(e.serializer,bx(e.serializer,this.bu));return new Vc(e.path,n)}isEqual(e){return this===e}}function G0(t,e,n,r){const i=t.wu(1,e,n);Q0("Data must be an object, but it was:",i,r);const s=[],o=At.empty();go(r,(u,l)=>{const c=Y0(e,u,n);l=K(l);const d=i.mu(c);if(l instanceof zc)s.push(c);else{const h=_o(l,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new hn(s);return new KC(o,a,i.fieldTransforms)}function K0(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[jv(e,r,n)],u=[i];if(s.length%2!=0)throw new C(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(jv(e,s[h])),u.push(s[h+1]);const l=[],c=At.empty();for(let h=a.length-1;h>=0;--h)if(!eO(l,a[h])){const f=a[h];let g=u[h];g=K(g);const v=o.mu(f);if(g instanceof zc)l.push(f);else{const _=_o(g,v);_!=null&&(l.push(f),c.set(f,_))}}const d=new hn(l);return new KC(c,d,o.fieldTransforms)}function XC(t,e,n,r=!1){return _o(n,t.wu(r?4:3,e))}function _o(t,e){if(ZC(t=K(t)))return Q0("Unsupported field value:",e,t),JC(t,e);if(t instanceof yo)return function(r,i){if(!QC(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=_o(a,i.fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=K(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:Va(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Va(i.serializer,s)}}if(r instanceof Xp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof br)return{bytesValue:Fx(i.serializer,r._byteString)};if(r instanceof We){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:y0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Yp(r)}`)}(t,e)}function JC(t,e){const n={};return ax(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,i)=>{const s=_o(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Xp||t instanceof br||t instanceof We||t instanceof yo)}function Q0(t,e,n){if(!ZC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yp(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function jv(t,e,n){if((e=K(e))instanceof Yi)return e._internalPath;if(typeof e=="string")return Y0(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}const i3=new RegExp("[~\\*/\\[\\]]");function Y0(t,e,n){if(e.search(i3)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yi(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(R.INVALID_ARGUMENT,a+t+u)}function eO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s3 extends ic{data(){return super.data()}}function em(t,e){return typeof e=="string"?Y0(t,e):e instanceof Yi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X0{}class Bc extends X0{}function di(t,e,...n){let r=[];e instanceof X0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof J0).length,a=s.filter(u=>u instanceof tm).length;if(o>1||o>0&&a>0)throw new C(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tm extends Bc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=this._parse(e);return rO(e._query,n),new tn(e.firestore,e.converter,Av(e._query,n))}_parse(e){const n=vo(e.firestore);return function(s,o,a,u,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new C(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){r1(d,c);const f=[];for(const g of d)f.push(n1(u,s,g));h={arrayValue:{values:f}}}else h=n1(u,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||r1(d,c),h=XC(a,o,d,c==="in"||c==="not-in");return ce.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function o3(t,e,n){const r=e,i=em("where",t);return tm._create(i,r,n)}class J0 extends X0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)rO(o,u),o=Av(o,u)}(e._query,n),new tn(e.firestore,e.converter,Av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z0 extends Bc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Z0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new C(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new C(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new sa(s,o);return function(l,c){if(l0(l)===null){const d=jp(l);d!==null&&iO(l,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new tn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ti(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function a3(t,e="asc"){const n=e,r=em("orderBy",t);return Z0._create(r,n)}class nm extends Bc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new nm(e,n,r)}_apply(e){return new tn(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function u3(t){return $C("limit",t),nm._create("limit",t,"F")}function l3(t){return $C("limitToLast",t),nm._create("limitToLast",t,"L")}class rm extends Bc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new rm(e,n,r)}_apply(e){const n=nO(e,this.type,this._docOrFields,this._inclusive);return new tn(e.firestore,e.converter,function(i,s){return new ti(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function c3(...t){return rm._create("startAt",t,!0)}function d3(...t){return rm._create("startAfter",t,!1)}class im extends Bc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new im(e,n,r)}_apply(e){const n=nO(e,this.type,this._docOrFields,this._inclusive);return new tn(e.firestore,e.converter,function(i,s){return new ti(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function h3(...t){return im._create("endBefore",t,!1)}function f3(...t){return im._create("endAt",t,!0)}function nO(t,e,n,r){if(n[0]=K(n[0]),n[0]instanceof ic)return function(s,o,a,u,l){if(!u)throw new C(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of oa(s))if(d.field.isKeyField())c.push(Xs(o,u.key));else{const h=u.data.field(d.field);if(Up(h))throw new C(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new C(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new Ki(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=vo(t.firestore);return function(o,a,u,l,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new C(R.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let g=0;g<c.length;g++){const v=c[g];if(h[g].field.isKeyField()){if(typeof v!="string")throw new C(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof v}`);if(!c0(o)&&v.indexOf("/")!==-1)throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${v}' contains a slash.`);const _=o.path.child(fe.fromString(v));if(!M.isDocumentKey(_))throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const m=new M(_);f.push(Xs(a,m))}else{const _=XC(u,l,v);f.push(_)}}return new Ki(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function n1(t,e,n){if(typeof(n=K(n))=="string"){if(n==="")throw new C(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c0(e)&&n.indexOf("/")!==-1)throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!M.isDocumentKey(r))throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xs(t,new M(r))}if(n instanceof We)return Xs(t,n._key);throw new C(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function r1(t,e){if(!Array.isArray(t)||t.length===0)throw new C(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rO(t,e){if(e.isInequality()){const r=jp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new C(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=l0(t);s!==null&&iO(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function iO(t,e,n){if(!n.isEqual(e))throw new C(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class eE{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Xp(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=qi(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);Y(Qx(r));const i=new Hi(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class p3 extends eE{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Yr=class extends ic{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},fl=class extends Yr{data(e={}){return super.data(e)}},Xi=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ks(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fl(this._firestore,this._userDataWriter,r.key,r,new ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new fl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ks(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new fl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ks(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:m3(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function m3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}function sO(t,e){return t instanceof Yr&&e instanceof Yr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Xi&&e instanceof Xi&&t._firestore===e._firestore&&qC(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){t=ge(t,We);const e=ge(t.firestore,et);return NC(St(e),t._key).then(n=>tE(e,t,n))}class wo extends eE{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function y3(t){t=ge(t,We);const e=ge(t.firestore,et),n=St(e),r=new wo(e);return NB(n,t._key).then(i=>new Yr(e,r,t._key,i,new ks(i!==null&&i.hasLocalMutations,!0),t.converter))}function v3(t){t=ge(t,We);const e=ge(t.firestore,et);return NC(St(e),t._key,{source:"server"}).then(n=>tE(e,t,n))}function _3(t){t=ge(t,tn);const e=ge(t.firestore,et),n=St(e),r=new wo(e);return tO(t._query),LC(n,t._query).then(i=>new Xi(e,r,t,i))}function w3(t){t=ge(t,tn);const e=ge(t.firestore,et),n=St(e),r=new wo(e);return LB(n,t._query).then(i=>new Xi(e,r,t,i))}function E3(t){t=ge(t,tn);const e=ge(t.firestore,et),n=St(e),r=new wo(e);return LC(n,t._query,{source:"server"}).then(i=>new Xi(e,r,t,i))}function i1(t,e,n){t=ge(t,We);const r=ge(t.firestore,et),i=sm(t.converter,e,n);return qc(r,[Zp(vo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fe.none())])}function s1(t,e,n,...r){t=ge(t,We);const i=ge(t.firestore,et),s=vo(i);let o;return o=typeof(e=K(e))=="string"||e instanceof Yi?K0(s,"updateDoc",t._key,e,n,r):G0(s,"updateDoc",t._key,e),qc(i,[o.toMutation(t._key,Fe.exists(!0))])}function I3(t){return qc(ge(t.firestore,et),[new su(t._key,Fe.none())])}function T3(t,e){const n=ge(t.firestore,et),r=of(t),i=sm(t.converter,e);return qc(n,[Zp(vo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fe.exists(!1))]).then(()=>r)}function oO(t,...e){var n,r,i;t=K(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Uv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Uv(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let u,l,c;if(t instanceof We)l=ge(t.firestore,et),c=ru(t._key.path),u={next:d=>{e[o]&&e[o](tE(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ge(t,tn);l=ge(d.firestore,et),c=d._query;const h=new wo(l);u={next:f=>{e[o]&&e[o](new Xi(l,h,d,f))},error:e[o+1],complete:e[o+2]},tO(t._query)}return function(h,f,g,v){const _=new Kp(v),m=new N0(f,_,g);return h.asyncQueue.enqueueAndForget(async()=>C0(await ja(h),m)),()=>{_.La(),h.asyncQueue.enqueueAndForget(async()=>O0(await ja(h),m))}}(St(l),c,a,u)}function S3(t,e){return VB(St(t=ge(t,et)),Uv(e)?e:{next:e})}function qc(t,e){return function(r,i){const s=new _t;return r.asyncQueue.enqueueAndForget(async()=>cB(await q0(r),i,s)),s.promise}(St(t),e)}function tE(t,e,n){const r=n.docs.get(e._key),i=new wo(t);return new Yr(t,i,e._key,r,new ks(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R3=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vo(e)}set(e,n,r){this._verifyNotCommitted();const i=wi(e,this._firestore),s=sm(i.converter,n,r),o=Zp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Fe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=wi(e,this._firestore);let o;return o=typeof(n=K(n))=="string"||n instanceof Yi?K0(this._dataReader,"WriteBatch.update",s._key,n,r,i):G0(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Fe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=wi(e,this._firestore);return this._mutations=this._mutations.concat(new su(n._key,Fe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function wi(t,e){if((t=K(t)).firestore!==e)throw new C(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b3=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=vo(n)}get(n){const r=wi(n,this._firestore),i=new p3(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return B();const o=s[0];if(o.isFoundDocument())return new ic(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new ic(this._firestore,i,r._key,null,r.converter);throw B()})}set(n,r,i){const s=wi(n,this._firestore),o=sm(s.converter,r,i),a=Zp(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=wi(n,this._firestore);let a;return a=typeof(r=K(r))=="string"||r instanceof Yi?K0(this._dataReader,"Transaction.update",o._key,r,i,s):G0(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=wi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=wi(e,this._firestore),r=new wo(this._firestore);return super.get(e).then(i=>new Yr(this._firestore,r,n._key,i._document,new ks(!1,!1),n.converter))}};function A3(t,e,n){t=ge(t,et);const r=Object.assign(Object.assign({},P3),n);return function(s){if(s.maxAttempts<1)throw new C(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new _t;return s.asyncQueue.enqueueAndForget(async()=>{const l=await CB(s);new kB(s.asyncQueue,l,a,o,u).run()}),u.promise}(St(t),i=>e(new b3(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(){return new zc("deleteField")}function x3(){return new H0("serverTimestamp")}function C3(...t){return new t3("arrayUnion",t)}function O3(...t){return new n3("arrayRemove",t)}function D3(t){return new r3("increment",t)}(function(e,n=!0){(function(i){nu=i})(ei),Kr(new zn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new et(new U4(r.getProvider("auth-internal")),new q4(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new C(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$n(ZT,"4.2.0",e),$n(ZT,"4.2.0","esm2017")})();const N3="@firebase/firestore-compat",L3="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new C("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){if(typeof Uint8Array>"u")throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function a1(){if(!mj())throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}let aO=class zv{constructor(e){this._delegate=e}static fromBase64String(e){return a1(),new zv(br.fromBase64String(e))}static fromUint8Array(e){return o1(),new zv(br.fromUint8Array(e))}toBase64(){return a1(),this._delegate.toBase64()}toUint8Array(){return o1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){return V3(t,["next","error","complete"])}function V3(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{enableIndexedDbPersistence(e,n){return qB(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return WB(e._delegate)}clearIndexedDbPersistence(e){return HB(e._delegate)}}class uO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){FB(this._delegate,e,n,r)}enableNetwork(){return KB(this._delegate)}disableNetwork(){return QB(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,MC("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return GB(this._delegate)}onSnapshotsInSync(e){return S3(this._delegate,e)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new za(this,zC(this._delegate,e))}catch(n){throw Kt(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ln(this,of(this._delegate,e))}catch(n){throw Kt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gt(this,UB(this._delegate,e))}catch(n){throw Kt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return A3(this._delegate,n=>e(new lO(this,n)))}batch(){return St(this._delegate),new cO(new R3(this._delegate,e=>qc(this._delegate,e)))}loadBundle(e){return YB(this._delegate,e)}namedQuery(e){return XB(this._delegate,e).then(n=>n?new Gt(this,n):null)}}class om extends eE{constructor(e){super(),this.firestore=e}convertBytes(e){return new aO(new br(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ln.forKey(n,this.firestore,null)}}function $3(t){V4(t)}class lO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new om(e)}get(e){const n=xs(e);return this._delegate.get(n).then(r=>new sc(this._firestore,new Yr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=xs(e);return r?(nE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=xs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=xs(e);return this._delegate.delete(n),this}}class cO{constructor(e){this._delegate=e}set(e,n,r){const i=xs(e);return r?(nE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=xs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=xs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class io{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new fl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=io.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new io(e,new om(e),n),i.set(n,s)),s}}io.INSTANCES=new WeakMap;class Ln{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new om(e)}static forPath(e,n,r){if(e.length%2!==0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ln(n,new We(n._delegate,r,new M(e)))}static forKey(e,n,r){return new Ln(n,new We(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new za(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new za(this.firestore,zC(this._delegate,e))}catch(n){throw Kt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=K(e),e instanceof We?BC(this._delegate,e):!1}set(e,n){n=nE("DocumentReference.set",n);try{return n?i1(this._delegate,e,n):i1(this._delegate,e)}catch(r){throw Kt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?s1(this._delegate,e):s1(this._delegate,e,n,...r)}catch(i){throw Kt(i,"updateDoc()","DocumentReference.update()")}}delete(){return I3(this._delegate)}onSnapshot(...e){const n=dO(e),r=hO(e,i=>new sc(this.firestore,new Yr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return oO(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=y3(this._delegate):(e==null?void 0:e.source)==="server"?n=v3(this._delegate):n=g3(this._delegate),n.then(r=>new sc(this.firestore,new Yr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ln(this.firestore,e?this._delegate.withConverter(io.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kt(t,e,n){return t.message=t.message.replace(e,n),t}function dO(t){for(const e of t)if(typeof e=="object"&&!Bv(e))return e;return{}}function hO(t,e){var n,r;let i;return Bv(t[0])?i=t[0]:Bv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class sc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ln(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return sO(this._delegate,e._delegate)}}class oc extends sc{data(e){const n=this._delegate.data(e);return M4(n!==void 0),n}}class Gt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new om(e)}where(e,n,r){try{return new Gt(this.firestore,di(this._delegate,o3(e,n,r)))}catch(i){throw Kt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Gt(this.firestore,di(this._delegate,a3(e,n)))}catch(r){throw Kt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gt(this.firestore,di(this._delegate,u3(e)))}catch(n){throw Kt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Gt(this.firestore,di(this._delegate,l3(e)))}catch(n){throw Kt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gt(this.firestore,di(this._delegate,c3(...e)))}catch(n){throw Kt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gt(this.firestore,di(this._delegate,d3(...e)))}catch(n){throw Kt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gt(this.firestore,di(this._delegate,h3(...e)))}catch(n){throw Kt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gt(this.firestore,di(this._delegate,f3(...e)))}catch(n){throw Kt(n,"endAt()","Query.endAt()")}}isEqual(e){return qC(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=w3(this._delegate):(e==null?void 0:e.source)==="server"?n=E3(this._delegate):n=_3(this._delegate),n.then(r=>new qv(this.firestore,new Xi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=dO(e),r=hO(e,i=>new qv(this.firestore,new Xi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return oO(this._delegate,n,r)}withConverter(e){return new Gt(this.firestore,e?this._delegate.withConverter(io.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class F3{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new oc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Gt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new oc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new F3(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new oc(this._firestore,r))})}isEqual(e){return sO(this._delegate,e._delegate)}}class za extends Gt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ln(this.firestore,e):null}doc(e){try{return e===void 0?new Ln(this.firestore,of(this._delegate)):new Ln(this.firestore,of(this._delegate,e))}catch(n){throw Kt(n,"doc()","CollectionReference.doc()")}}add(e){return T3(this._delegate,e).then(n=>new Ln(this.firestore,n))}isEqual(e){return BC(this._delegate,e._delegate)}withConverter(e){return new za(this.firestore,e?this._delegate.withConverter(io.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function xs(t){return ge(t,We)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(...e){this._delegate=new Yi(...e)}static documentId(){return new rE(Je.keyField().canonicalString())}isEqual(e){return e=K(e),e instanceof Yi?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._delegate=e}static serverTimestamp(){const e=x3();return e._methodName="FieldValue.serverTimestamp",new Is(e)}static delete(){const e=k3();return e._methodName="FieldValue.delete",new Is(e)}static arrayUnion(...e){const n=C3(...e);return n._methodName="FieldValue.arrayUnion",new Is(n)}static arrayRemove(...e){const n=O3(...e);return n._methodName="FieldValue.arrayRemove",new Is(n)}static increment(e){const n=D3(e);return n._methodName="FieldValue.increment",new Is(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={Firestore:uO,GeoPoint:Xp,Timestamp:Ue,Blob:aO,Transaction:lO,WriteBatch:cO,DocumentReference:Ln,DocumentSnapshot:sc,Query:Gt,QueryDocumentSnapshot:oc,QuerySnapshot:qv,CollectionReference:za,FieldPath:rE,FieldValue:Is,setLogLevel:$3,CACHE_SIZE_UNLIMITED:BB};function j3(t,e){t.INTERNAL.registerComponent(new zn("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},U3)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){j3(t,(e,n)=>new uO(e,n,new M3)),t.registerVersion(N3,L3)}z3(kr);const Ou={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ko={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){return t!==void 0&&t.getResponse!==void 0}function l1(t){return t!==void 0&&t.enterprise!==void 0}class B3{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function fO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W3=q3,H3=fO,pO=new po("auth","Firebase",fO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Ip("@firebase/auth");function G3(t,...e){uf.logLevel<=se.WARN&&uf.warn(`Auth (${ei}): ${t}`,...e)}function ih(t,...e){uf.logLevel<=se.ERROR&&uf.error(`Auth (${ei}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,...e){throw iE(t,...e)}function Ct(t,...e){return iE(t,...e)}function mO(t,e,n){const r=Object.assign(Object.assign({},H3()),{[e]:n});return new po("auth","Firebase",r).create(e,{appName:t.name})}function cu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dt(t,"argument-error"),mO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pO.create(t,...e)}function V(t,e,...n){if(!t)throw iE(e,...n)}function _r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function ir(t,e){t||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sE(){return c1()==="http:"||c1()==="https:"}function c1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sE()||DA()||"connection"in navigator)?navigator.onLine:!0}function Q3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=tF()||Ow()}get(){return K3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Wc(3e4,6e4);function st(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ct(t,e,n,r,i={}){return yO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Za(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),gO.fetch()(vO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function yO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y3),e);try{const i=new J3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ku(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ku(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mO(t,c,l);Dt(t,c)}}catch(i){if(i instanceof Ut)throw i;Dt(t,"network-request-failed",{message:String(i)})}}async function ii(t,e,n,r,i={}){const s=await ct(t,e,n,r,i);return"mfaPendingCredential"in s&&Dt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?oE(t.config,i):`${t.config.apiScheme}://${i}`}class J3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ct(this.auth,"network-request-failed")),X3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ct(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t){return(await ct(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function e6(t,e){return ct(t,"GET","/v2/recaptchaConfig",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e){return ct(t,"POST","/v1/accounts:delete",e)}async function n6(t,e){return ct(t,"POST","/v1/accounts:update",e)}async function r6(t,e){return ct(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i6(t,e=!1){const n=K(t),r=await n.getIdToken(e),i=am(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pl(Ag(i.auth_time)),issuedAtTime:pl(Ag(i.iat)),expirationTime:pl(Ag(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ag(t){return Number(t)*1e3}function am(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=xA(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s6(t){const e=am(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ut&&o6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function o6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xr(t,r6(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?c6(s.providerUserInfo):[],a=l6(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _O(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function u6(t){const e=K(t);await uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function c6(t){return t.map(e=>{var{providerId:n}=e,r=Pw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e){const n=await yO(t,{},async()=>{const r=Za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await d6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lc;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _O(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xr(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i6(this,e)}reload(){return u6(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xr(this,t6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:w,isAnonymous:E,providerData:I,stsTokenManager:T}=n;V(y&&T,e,"internal-error");const S=lc.fromJSON(this.name,T);V(typeof y=="string",e,"internal-error"),hi(d,e.name),hi(h,e.name),V(typeof w=="boolean",e,"internal-error"),V(typeof E=="boolean",e,"internal-error"),hi(f,e.name),hi(g,e.name),hi(v,e.name),hi(_,e.name),hi(m,e.name),hi(p,e.name);const k=new Ms({uid:y,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:p});return I&&Array.isArray(I)&&(k.providerData=I.map(A=>Object.assign({},A))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new lc;i.updateFromServerResponse(n);const s=new Ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;function En(t){ir(t instanceof Function,"Expected a class definition");let e=d1.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wO.type="NONE";const Ba=wO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$s(this.userKey,i.apiKey,s),this.fullPersistenceKey=$s("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(En(Ba),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||En(Ba);const o=$s(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const d=Ms._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ua(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new ua(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SO(e))return"Blackberry";if(PO(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||IO(e))&&!e.includes("edge/"))return"Chrome";if(Hc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EO(t=Ge()){return/firefox\//i.test(t)}function aE(t=Ge()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IO(t=Ge()){return/crios\//i.test(t)}function TO(t=Ge()){return/iemobile/i.test(t)}function Hc(t=Ge()){return/android/i.test(t)}function SO(t=Ge()){return/blackberry/i.test(t)}function PO(t=Ge()){return/webos/i.test(t)}function du(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h6(t=Ge()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function f6(t=Ge()){var e;return du(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p6(){return NA()&&document.documentMode===10}function RO(t=Ge()){return du(t)||Hc(t)||PO(t)||SO(t)||/windows phone/i.test(t)||TO(t)}function m6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e=[]){let n;switch(t){case"Browser":n=h1(Ge());break;case"Worker":n=`${h1(Ge())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ei}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e={}){return ct(t,"GET","/v2/passwordPolicy",st(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=6;class _6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:v6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new g6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?K(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(En(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y6(this),n=new _6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&En(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[En(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&G3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tt(t){return K(t)}class f1{constructor(e){this.auth=e,this.observer=null,this.addObserver=LA(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ct("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",E6().appendChild(r)})}function AO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const I6="https://www.google.com/recaptcha/enterprise.js?render=",T6="recaptcha-enterprise",S6="NO_RECAPTCHA";class P6{constructor(e){this.type=T6,this.auth=tt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{e6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new B3(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;l1(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(S6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&l1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}uE(I6+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Ji(t,e,n,r=!1){const i=new P6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}function R6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(En);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b6(t,e,n){const r=tt(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kO(e),{host:o,port:a}=A6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||k6()}function kO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A6(t){const e=kO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:p1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:p1(o)}}}function p1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){return ct(t,"POST","/v1/accounts:resetPassword",st(t,e))}async function CO(t,e){return ct(t,"POST","/v1/accounts:update",e)}async function x6(t,e){return ct(t,"POST","/v1/accounts:update",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t,e){return ii(t,"POST","/v1/accounts:signInWithPassword",st(t,e))}async function um(t,e){return ct(t,"POST","/v1/accounts:sendOobCode",st(t,e))}async function C6(t,e){return um(t,e)}async function xg(t,e){return um(t,e)}async function Cg(t,e){return um(t,e)}async function O6(t,e){return um(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e){return ii(t,"POST","/v1/accounts:signInWithEmailLink",st(t,e))}async function N6(t,e){return ii(t,"POST","/v1/accounts:signInWithEmailLink",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends hu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Ji(e,r,"signInWithPassword");return kg(e,i)}else return kg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Ji(e,r,"signInWithPassword");return kg(e,s)}else return Promise.reject(i)});case"emailLink":return D6(e,{email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CO(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return N6(e,{idToken:n,email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zr(t,e){return ii(t,"POST","/v1/accounts:signInWithIdp",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="http://localhost";class Ar extends hu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ar(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ar(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zr(e,n)}buildRequest(){const e={requestUri:L6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return ct(t,"POST","/v1/accounts:sendVerificationCode",st(t,e))}async function M6(t,e){return ii(t,"POST","/v1/accounts:signInWithPhoneNumber",st(t,e))}async function $6(t,e){const n=await ii(t,"POST","/v1/accounts:signInWithPhoneNumber",st(t,e));if(n.temporaryProof)throw Ku(t,"account-exists-with-different-credential",n);return n}const F6={USER_NOT_FOUND:"user-not-found"};async function U6(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ii(t,"POST","/v1/accounts:signInWithPhoneNumber",st(t,n),F6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends hu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Fs({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Fs({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return M6(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return $6(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return U6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Fs({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z6(t){const e=Qo(zu(t)).link,n=e?Qo(zu(e)).deep_link_id:null,r=Qo(zu(t)).deep_link_id;return(r?Qo(zu(r)).link:null)||r||n||e||t}class lm{constructor(e){var n,r,i,s,o,a;const u=Qo(zu(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,d=j6((i=u.mode)!==null&&i!==void 0?i:null);V(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=z6(e);try{return new lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.providerId=ls.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lm.parseLink(n);return V(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}ls.PROVIDER_ID="password";ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class la extends fu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return V("providerId"in n&&"signInMethod"in n,"argument-error"),Ar._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return V(e.idToken||e.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return la.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return la.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new la(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends fu{constructor(){super("facebook.com")}static credential(e){return Ar._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ar._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends fu{constructor(){super("github.com")}static credential(e){return Ar._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="http://localhost";class qa extends hu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return zr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new qa(r,s)}static _create(e,n){return new qa(e,n)}buildRequest(){return{requestUri:B6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="saml.";class lf extends si{constructor(e){V(e.startsWith(q6),"argument-error"),super(e)}static credentialFromResult(e){return lf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return lf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=qa.fromJSON(e);return V(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return qa._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends fu{constructor(){super("twitter.com")}static credential(e,n){return Ar._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e){return ii(t,"POST","/v1/accounts:signUp",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ms._fromIdTokenResponse(e,r,i),o=m1(r);return new Bn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=m1(r);return new Bn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function m1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t){var e;const n=tt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Bn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await sh(n,{returnSecureToken:!0}),i=await Bn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends Ut{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cf(e,n,r,i)}}function OO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){const n=K(t);await cm(!0,n,e);const{providerUserInfo:r}=await n6(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=DO(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function lE(t,e,n=!1){const r=await Xr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bn._forOperation(t,"link",r)}async function cm(t,e,n){await uc(e);const r=DO(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";V(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Xr(t,OO(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=am(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),Bn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e,n=!1){const r="signIn",i=await OO(t,r,e),s=await Bn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dm(t,e){return LO(tt(t),e)}async function VO(t,e){const n=K(t);return await cm(!1,n,e.providerId),lE(n,e)}async function MO(t,e){return NO(K(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e){return ii(t,"POST","/v1/accounts:signInWithCustomToken",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e){const n=tt(t),r=await G6(n,{token:e,returnSecureToken:!0}),i=await Bn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?cE._fromServerResponse(e,n):"totpInfo"in n?dE._fromServerResponse(e,n):Dt(e,"internal-error")}}class cE extends Gc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new cE(n)}}class dE extends Gc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new dE(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e,n){var r;V(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),V(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t){const e=tt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q6(t,e,n){var r;const i=tt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Ji(i,s,"getOobCode",!0);n&&ca(i,o,n),await xg(i,o)}else n&&ca(i,s,n),await xg(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Ji(i,s,"getOobCode",!0);n&&ca(i,a,n),await xg(i,a)}else return Promise.reject(o)})}async function Y6(t,e,n){await xO(K(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hE(t),r})}async function X6(t,e){await x6(K(t),{oobCode:e})}async function $O(t,e){const n=K(t),r=await xO(n,{oobCode:e}),i=r.requestType;switch(V(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(r.mfaInfo,n,"internal-error");default:V(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Gc._fromServerResponse(tt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function J6(t,e){const{data:n}=await $O(K(t),e);return n.email}async function Z6(t,e,n){var r;const i=tt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await Ji(i,s,"signUpPassword");o=sh(i,l)}else o=sh(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Ji(i,s,"signUpPassword");return sh(i,c)}throw l});const a=await o.catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hE(t),l}),u=await Bn._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function e5(t,e,n){return dm(K(t),ls.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e,n){var r;const i=tt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,u){V(u.handleCodeInApp,i,"argument-error"),u&&ca(i,a,u)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Ji(i,s,"getOobCode",!0);o(a,n),await Cg(i,a)}else o(s,n),await Cg(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await Ji(i,s,"getOobCode",!0);o(u,n),await Cg(i,u)}else return Promise.reject(a)})}function n5(t,e){const n=lm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function r5(t,e,n){const r=K(t),i=ls.credentialWithLink(e,n||ac());return V(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),dm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){return ct(t,"POST","/v1/accounts:createAuthUri",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e){const n=sE()?ac():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await i5(K(t),r);return i||[]}async function o5(t,e){const n=K(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ca(n.auth,i,e);const{email:s}=await C6(n.auth,i);s!==t.email&&await t.reload()}async function a5(t,e,n){const r=K(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&ca(r.auth,s,n);const{email:o}=await O6(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){return ct(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=K(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xr(r,u5(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function c5(t,e){return FO(K(t),e,null)}function d5(t,e){return FO(K(t),null,e)}async function FO(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Xr(t,CO(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=am(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new da(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new f5(s,i);case"github.com":return new p5(s,i);case"google.com":return new m5(s,i);case"twitter.com":return new g5(s,i,t.screenName||null);case"custom":case"anonymous":return new da(s,null);default:return new da(s,r,i)}}class da{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class UO extends da{constructor(e,n,r,i){super(e,n,r),this.username=i}}class f5 extends da{constructor(e,n){super(e,"facebook.com",n)}}class p5 extends UO{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class m5 extends da{constructor(e,n){super(e,"google.com",n)}}class g5 extends UO{constructor(e,n,r){super(e,"twitter.com",n,r)}}function y5(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:h5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Cs("enroll",e,n)}static _fromMfaPendingCredential(e){return new Cs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Cs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Cs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=tt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Gc._fromServerResponse(r,a));V(i.mfaPendingCredential,r,"internal-error");const o=Cs._fromMfaPendingCredential(i.mfaPendingCredential);return new fE(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const c=await Bn._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return V(n.user,r,"internal-error"),Bn._forOperation(n.user,n.operationType,l);default:Dt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function v5(t,e){var n;const r=K(t),i=e;return V(e.customData.operationType,r,"argument-error"),V((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),fE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:start",st(t,e))}function w5(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:finalize",st(t,e))}function E5(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:withdraw",st(t,e))}class pE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Gc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new pE(e)}async getSession(){return Cs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Xr(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Xr(this.user,E5(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Og=new WeakMap;function I5(t){const e=K(t);return Og.has(e)||Og.set(e,pE._fromUser(e)),Og.get(e)}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){const t=Ge();return aE(t)||du(t)}const S5=1e3,P5=10;class zO extends jO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=T5()&&m6(),this.fallbackToPolling=RO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);p6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zO.type="LOCAL";const mE=zO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO extends jO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BO.type="SESSION";const so=BO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await R5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Kc("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return window}function A5(t){at().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof at().WorkerGlobalScope<"u"&&typeof at().importScripts=="function"}async function k5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function C5(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="firebaseLocalStorageDb",O5=1,hf="firebaseLocalStorage",WO="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function D5(){const t=indexedDB.deleteDatabase(qO);return new Qc(t).toPromise()}function Wv(){const t=indexedDB.open(qO,O5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hf,{keyPath:WO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),await D5(),e(await Wv()))})})}async function g1(t,e,n){const r=fm(t,!0).put({[WO]:e,value:n});return new Qc(r).toPromise()}async function N5(t,e){const n=fm(t,!1).get(e),r=await new Qc(n).toPromise();return r===void 0?null:r.value}function y1(t,e){const n=fm(t,!0).delete(e);return new Qc(n).toPromise()}const L5=800,V5=3;class HO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(C5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await k5(),!this.activeServiceWorker)return;this.sender=new b5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await g1(e,df,"1"),await y1(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fm(i,!1).getAll();return new Qc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HO.type="LOCAL";const dc=HO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){return ct(t,"POST","/v2/accounts/mfaSignIn:start",st(t,e))}function $5(t,e){return ct(t,"POST","/v2/accounts/mfaSignIn:finalize",st(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=500,U5=6e4,bd=1e12;class j5{constructor(e){this.auth=e,this.counter=bd,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new z5(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||bd;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||bd;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||bd;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class z5{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;V(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=B5(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},U5)},F5))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function B5(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=AO("rcb"),q5=new Wc(3e4,6e4),W5="https://www.google.com/recaptcha/api.js?";class H5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=at().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return V(G5(n),e,"argument-error"),this.shouldResolveImmediately(n)&&u1(at().grecaptcha)?Promise.resolve(at().grecaptcha):new Promise((r,i)=>{const s=at().setTimeout(()=>{i(Ct(e,"network-request-failed"))},q5.get());at()[Dg]=()=>{at().clearTimeout(s),delete at()[Dg];const a=at().grecaptcha;if(!a||!u1(a)){i(Ct(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const d=u(l,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${W5}?${Za({onload:Dg,render:"explicit",hl:n})}`;uE(o).catch(()=>{clearTimeout(s),i(Ct(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=at().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function G5(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class K5{async load(e){return new j5(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="recaptcha",Q5={theme:"light",type:"image"};let Y5=class{constructor(e,n,r=Object.assign({},Q5)){this.parameters=r,this.type=GO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tt(e),this.isInvisible=this.parameters.size==="invisible",V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new K5:new H5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=at()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){V(sE()&&!gE(),this.auth,"internal-error"),await X5(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Z3(this.auth);V(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function X5(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Fs._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function J5(t,e,n){const r=tt(t),i=await pm(r,e,K(n));return new yE(i,s=>dm(r,s))}async function Z5(t,e,n){const r=K(t);await cm(!1,r,"phone");const i=await pm(r.auth,e,K(n));return new yE(i,s=>VO(r,s))}async function e9(t,e,n){const r=K(t),i=await pm(r.auth,e,K(n));return new yE(i,s=>MO(r,s))}async function pm(t,e,n){var r;const i=await n.verify();try{V(typeof i=="string",t,"argument-error"),V(n.type===GO,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return V(o.type==="enroll",t,"internal-error"),(await _5(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{V(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return V(a,t,"missing-multi-factor-info"),(await M5(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await V6(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function t9(t,e){await lE(K(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo=class oh{constructor(e){this.providerId=oh.PROVIDER_ID,this.auth=tt(e)}verifyPhoneNumber(e,n){return pm(this.auth,e,K(n))}static credential(e,n){return Fs._fromVerification(e,n)}static credentialFromResult(e){const n=e;return oh.credentialFromTaggedObject(n)}static credentialFromError(e){return oh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Fs._fromTokenResponse(n,r):null}};oo.PROVIDER_ID="phone";oo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){return e?En(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends hu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n9(t){return LO(t.auth,new vE(t),t.bypassAuthState)}function r9(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),NO(n,new vE(t),t.bypassAuthState)}async function i9(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),lE(n,new vE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n9;case"linkViaPopup":case"linkViaRedirect":return i9;case"reauthViaPopup":case"reauthViaRedirect":return r9;default:Dt(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=new Wc(2e3,1e4);async function o9(t,e,n){const r=tt(t);cu(t,e,si);const i=Eo(r,n);return new $r(r,"signInViaPopup",e,i).executeNotNull()}async function a9(t,e,n){const r=K(t);cu(r.auth,e,si);const i=Eo(r.auth,n);return new $r(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function u9(t,e,n){const r=K(t);cu(r.auth,e,si);const i=Eo(r.auth,n);return new $r(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class $r extends KO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Kc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ct(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ct(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s9.get())};e()}}$r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="pendingRedirect",ml=new Map;class c9 extends KO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ml.get(this.auth._key());if(!e){try{const r=await d9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ml.set(this.auth._key(),e)}return this.bypassAuthState||ml.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d9(t,e){const n=YO(e),r=QO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function _E(t,e){return QO(t)._set(YO(e),"true")}function h9(){ml.clear()}function wE(t,e){ml.set(t._key(),e)}function QO(t){return En(t._redirectPersistence)}function YO(t){return $s(l9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e,n){return p9(t,e,n)}async function p9(t,e,n){const r=tt(t);cu(t,e,si),await r._initializationPromise;const i=Eo(r,n);return await _E(i,r),i._openRedirect(r,e,"signInViaRedirect")}function m9(t,e,n){return g9(t,e,n)}async function g9(t,e,n){const r=K(t);cu(r.auth,e,si),await r.auth._initializationPromise;const i=Eo(r.auth,n);await _E(i,r.auth);const s=await XO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function y9(t,e,n){return v9(t,e,n)}async function v9(t,e,n){const r=K(t);cu(r.auth,e,si),await r.auth._initializationPromise;const i=Eo(r.auth,n);await cm(!1,r,e.providerId),await _E(i,r.auth);const s=await XO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function _9(t,e){return await tt(t)._initializationPromise,mm(t,e,!1)}async function mm(t,e,n=!1){const r=tt(t),i=Eo(r,e),o=await new c9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function XO(t){const e=Kc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=10*60*1e3;class JO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ct(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w9&&this.cachedEventUids.clear(),this.cachedEventUids.has(v1(e))}saveEventToCache(e){this.cachedEventUids.add(v1(e)),this.lastProcessedEventTime=Date.now()}}function v1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e={}){return ct(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T9=/^https?/;async function S9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eD(t);for(const n of e)try{if(P9(n))return}catch{}Dt(t,"unauthorized-domain")}function P9(t){const e=ac(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T9.test(n))return!1;if(I9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new Wc(3e4,6e4);function _1(){const t=at().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b9(t){return new Promise((e,n)=>{var r,i,s;function o(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),n(Ct(t,"network-request-failed"))},timeout:R9.get()})}if(!((i=(r=at().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=at().gapi)===null||s===void 0)&&s.load)o();else{const a=AO("iframefcb");return at()[a]=()=>{gapi.load?o():n(Ct(t,"network-request-failed"))},uE(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function A9(t){return ah=ah||b9(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new Wc(5e3,15e3),x9="__/auth/iframe",C9="emulator/auth/iframe",O9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N9(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oE(e,C9):`https://${t.config.authDomain}/${x9}`,r={apiKey:e.apiKey,appName:t.name,v:ei},i=D9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Za(r).slice(1)}`}async function L9(t){const e=await A9(t),n=at().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:N9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ct(t,"network-request-failed"),a=at().setTimeout(()=>{s(o)},k9.get());function u(){at().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M9=500,$9=600,F9="_blank",U9="http://localhost";class w1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j9(t,e,n,r=M9,i=$9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},V9),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();n&&(a=IO(l)?F9:n),EO(l)&&(e=e||U9,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(f6(l)&&a!=="_self")return z9(e||"",a),new w1(null);const d=window.open(e||"",a,c);V(d,t,"popup-blocked");try{d.focus()}catch{}return new w1(d)}function z9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="__/auth/handler",q9="emulator/auth/handler",W9=encodeURIComponent("fac");async function Hv(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ei,eventId:i};if(e instanceof si){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof fu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${W9}=${encodeURIComponent(u)}`:"";return`${H9(t)}?${Za(a).slice(1)}${l}`}function H9({config:t}){return t.emulator?oE(t,q9):`https://${t.authDomain}/${B9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class G9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=mm,this._overrideRedirectResult=wE}async _openPopup(e,n,r,i){var s;ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Hv(e,n,r,ac(),i);return j9(e,o,Kc())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Hv(e,n,r,ac(),i);return A5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L9(e),r=new JO(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ng];o!==void 0&&n(!!o),Dt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RO()||aE()||du()}}const K9=G9;class Q9{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return _r("unexpected MultiFactorSessionType")}}}class EE extends Q9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new EE(e)}_finalizeEnroll(e,n,r){return w5(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return $5(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class tD{constructor(){}static assertion(e){return EE._fromCredential(e)}}tD.FACTOR_ID="phone";var E1="@firebase/auth",I1="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function J9(t){Kr(new zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bO(t)},l=new w6(r,i,s,u);return R6(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new zn("auth-internal",e=>{const n=tt(e.getProvider("auth").getImmediate());return(r=>new Y9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(E1,I1,X9(t)),$n(E1,I1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=5*60;Z$("authIdTokenMaxAge");J9("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=2e3;async function tq(t,e,n){var r;const{BuildInfo:i}=ao();ir(e.sessionId,"AuthEvent did not contain a session ID");const s=await oq(e.sessionId),o={};return du()?o.ibi=i.packageName:Hc()?o.apn=i.packageName:Dt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Hv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function nq(t){const{BuildInfo:e}=ao(),n={};du()?n.iosBundleId=e.packageName:Hc()?n.androidPackageName=e.packageName:Dt(t,"operation-not-supported-in-this-environment"),await eD(t,n)}function rq(t){const{cordova:e}=ao();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,h6()?"_blank":"_system","location=yes"),n(i)})})}async function iq(t,e,n){const{cordova:r}=ao();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Ct(t,"redirect-cancelled-by-user"))},eq))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),Hc()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function sq(t){var e,n,r,i,s,o,a,u,l,c;const d=ao();V(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((u=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V(typeof((c=(l=d==null?void 0:d.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function oq(t){const e=aq(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function aq(t){if(ir(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=20;class lq extends JO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function cq(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:fq(),postBody:null,tenantId:t.tenantId,error:Ct(t,"no-auth-event")}}function dq(t,e){return Gv()._set(Kv(t),e)}async function T1(t){const e=await Gv()._get(Kv(t));return e&&await Gv()._remove(Kv(t)),e}function hq(t,e){var n,r;const i=mq(e);if(i.includes("/__/auth/callback")){const s=uh(i),o=s.firebaseError?pq(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Ct(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function fq(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<uq;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Gv(){return En(mE)}function Kv(t){return $s("authEvent",t.config.apiKey,t.name)}function pq(t){try{return JSON.parse(t)}catch{return null}}function mq(t){const e=uh(t),n=e.link?decodeURIComponent(e.link):void 0,r=uh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return uh(i).link||i||r||n||t}function uh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Qo(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=500;class yq{constructor(){this._redirectPersistence=so,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mm,this._overrideRedirectResult=wE}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new lq(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Dt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){sq(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),h9(),await this._originValidation(e);const o=cq(e,r,i);await dq(e,o);const a=await tq(e,o,n),u=await rq(a);return iq(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nq(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ao(),o=setTimeout(async()=>{await T1(e),n.onEvent(S1())},gq),a=async c=>{clearTimeout(o);const d=await T1(e);let h=null;d&&(c!=null&&c.url)&&(h=hq(d,c.url)),n.onEvent(h||S1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;ao().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof u=="function")try{u(c)}catch(d){console.error(d)}}}}const vq=yq;function S1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ct("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t,e){tt(t)._logFramework(e)}var wq="@firebase/auth-compat",Eq="0.4.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=1e3;function gl(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Tq(){return gl()==="http:"||gl()==="https:"}function nD(t=Ge()){return!!((gl()==="file:"||gl()==="ionic:"||gl()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sq(){return Ow()||Ep()}function Pq(){return NA()&&(document==null?void 0:document.documentMode)===11}function Rq(t=Ge()){return/Edge\/\d+/.test(t)}function bq(t=Ge()){return Pq()||Rq(t)}function rD(){try{const t=self.localStorage,e=Kc();if(t)return t.setItem(e,"1"),t.removeItem(e),bq()?Ml():!0}catch{return IE()&&Ml()}return!1}function IE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lg(){return(Tq()||DA()||nD())&&!Sq()&&rD()&&!IE()}function iD(){return nD()&&typeof document<"u"}async function Aq(){return iD()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Iq);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function kq(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={LOCAL:"local",NONE:"none",SESSION:"session"},Du=V,sD="persistence";function xq(t,e){if(Du(Object.values(vn).includes(e),t,"invalid-persistence-type"),Ow()){Du(e!==vn.SESSION,t,"unsupported-persistence-type");return}if(Ep()){Du(e===vn.NONE,t,"unsupported-persistence-type");return}if(IE()){Du(e===vn.NONE||e===vn.LOCAL&&Ml(),t,"unsupported-persistence-type");return}Du(e===vn.NONE||rD(),t,"unsupported-persistence-type")}async function Qv(t){await t._initializationPromise;const e=oD(),n=$s(sD,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Cq(t,e){const n=oD();if(!n)return[];const r=$s(sD,t,e);switch(n.getItem(r)){case vn.NONE:return[Ba];case vn.LOCAL:return[dc,so];case vn.SESSION:return[so];default:return[]}}function oD(){var t;try{return((t=kq())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=V;class Pi{constructor(){this.browserResolver=En(K9),this.cordovaResolver=En(vq),this.underlyingResolver=null,this._redirectPersistence=so,this._completeRedirectFn=mm,this._overrideRedirectResult=wE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return iD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oq(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Aq();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){return t.unwrap()}function Dq(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){return uD(t)}function Lq(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Vq(t,v5(t,e))}else if(r){const i=uD(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function uD(t){const{_tokenResponse:e}=t instanceof Ut?t.customData:t;if(!e)return null;if(!(t instanceof Ut)&&"temporaryProof"in e&&"phoneNumber"in e)return oo.credentialFromResult(t);const n=e.providerId;if(!n||n===Ou.PASSWORD)return null;let r;switch(n){case Ou.GOOGLE:r=dr;break;case Ou.FACEBOOK:r=cr;break;case Ou.GITHUB:r=hr;break;case Ou.TWITTER:r=fr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?qa._create(n,a):Ar._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new la(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof Ut?r.credentialFromError(t):r.credentialFromResult(t)}function an(t,e){return e.catch(n=>{throw n instanceof Ut&&Lq(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Nq(n),additionalUserInfo:y5(n),user:Fr.getOrCreate(i)}})}async function Yv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>an(t,n.confirm(r))}}class Vq{constructor(e,n){this.resolver=n,this.auth=Dq(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return an(aD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._delegate=e,this.multiFactor=I5(e)}static getOrCreate(e){return Fr.USER_MAP.has(e)||Fr.USER_MAP.set(e,new Fr(e)),Fr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return an(this.auth,VO(this._delegate,e))}async linkWithPhoneNumber(e,n){return Yv(this.auth,Z5(this._delegate,e,n))}async linkWithPopup(e){return an(this.auth,u9(this._delegate,e,Pi))}async linkWithRedirect(e){return await Qv(tt(this.auth)),y9(this._delegate,e,Pi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return an(this.auth,MO(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Yv(this.auth,e9(this._delegate,e,n))}reauthenticateWithPopup(e){return an(this.auth,a9(this._delegate,e,Pi))}async reauthenticateWithRedirect(e){return await Qv(tt(this.auth)),m9(this._delegate,e,Pi)}sendEmailVerification(e){return o5(this._delegate,e)}async unlink(e){return await H6(this._delegate,e),this}updateEmail(e){return c5(this._delegate,e)}updatePassword(e){return d5(this._delegate,e)}updatePhoneNumber(e){return t9(this._delegate,e)}updateProfile(e){return l5(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return a5(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=V;class Xv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Nu(r,"invalid-api-key",{appName:e.name}),Nu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Pi:void 0;this._delegate=n.initialize({options:{persistence:Mq(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(W3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){b6(this._delegate,e,n)}applyActionCode(e){return X6(this._delegate,e)}checkActionCode(e){return $O(this._delegate,e)}confirmPasswordReset(e,n){return Y6(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return an(this._delegate,Z6(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return s5(this._delegate,e)}isSignInWithEmailLink(e){return n5(this._delegate,e)}async getRedirectResult(){Nu(Lg(),this._delegate,"operation-not-supported-in-this-environment");const e=await _9(this._delegate,Pi);return e?an(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){_q(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=P1(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=P1(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return t5(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Q6(this._delegate,e,n||void 0)}async setPersistence(e){xq(this._delegate,e);let n;switch(e){case vn.SESSION:n=so;break;case vn.LOCAL:n=await En(dc)._isAvailable()?dc:mE;break;case vn.NONE:n=Ba;break;default:return Dt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return an(this._delegate,W6(this._delegate))}signInWithCredential(e){return an(this._delegate,dm(this._delegate,e))}signInWithCustomToken(e){return an(this._delegate,K6(this._delegate,e))}signInWithEmailAndPassword(e,n){return an(this._delegate,e5(this._delegate,e,n))}signInWithEmailLink(e,n){return an(this._delegate,r5(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Yv(this._delegate,J5(this._delegate,e,n))}async signInWithPopup(e){return Nu(Lg(),this._delegate,"operation-not-supported-in-this-environment"),an(this._delegate,o9(this._delegate,e,Pi))}async signInWithRedirect(e){return Nu(Lg(),this._delegate,"operation-not-supported-in-this-environment"),await Qv(this._delegate),f9(this._delegate,e,Pi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return J6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Xv.Persistence=vn;function P1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Fr.getOrCreate(o)),error:e,complete:n}}function Mq(t,e){const n=Cq(t,e);if(typeof self<"u"&&!n.includes(dc)&&n.push(dc),typeof window<"u")for(const r of[mE,so])n.includes(r)||n.push(r);return n.includes(Ba)||n.push(Ba),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.providerId="phone",this._delegate=new oo(aD(kr.auth()))}static credential(e,n){return oo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}TE.PHONE_SIGN_IN_METHOD=oo.PHONE_SIGN_IN_METHOD;TE.PROVIDER_ID=oo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=V;class Fq{constructor(e,n,r=kr.app()){var i;$q((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Y5(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq="auth-compat";function jq(t){t.INTERNAL.registerComponent(new zn(Uq,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Xv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ko.EMAIL_SIGNIN,PASSWORD_RESET:ko.PASSWORD_RESET,RECOVER_EMAIL:ko.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ko.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ko.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ko.VERIFY_EMAIL}},EmailAuthProvider:ls,FacebookAuthProvider:cr,GithubAuthProvider:hr,GoogleAuthProvider:dr,OAuthProvider:la,SAMLAuthProvider:lf,PhoneAuthProvider:TE,PhoneMultiFactorGenerator:tD,RecaptchaVerifier:Fq,TwitterAuthProvider:fr,Auth:Xv,AuthCredential:hu,Error:Ut}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(wq,Eq)}jq(kr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firebasestorage.googleapis.com",cD="storageBucket",zq=2*60*1e3,Bq=10*60*1e3,qq=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends Ut{constructor(e,n,r=0){super(Vg(e),`Firebase Storage: ${n} (${Vg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ne;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ne||(Ne={}));function Vg(t){return"storage/"+t}function SE(){const t="An unknown error occurred, please check the error payload for server response.";return new Ke(Ne.UNKNOWN,t)}function Wq(t){return new Ke(Ne.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Hq(t){return new Ke(Ne.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ke(Ne.UNAUTHENTICATED,t)}function Kq(){return new Ke(Ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qq(t){return new Ke(Ne.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dD(){return new Ke(Ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hD(){return new Ke(Ne.CANCELED,"User canceled the upload/download.")}function Yq(t){return new Ke(Ne.INVALID_URL,"Invalid URL '"+t+"'.")}function Xq(t){return new Ke(Ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Jq(){return new Ke(Ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cD+"' property when initializing the app?")}function fD(){return new Ke(Ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zq(){return new Ke(Ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function eW(){return new Ke(Ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tW(t){return new Ke(Ne.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ha(t){return new Ke(Ne.INVALID_ARGUMENT,t)}function pD(){return new Ke(Ne.APP_DELETED,"The Firebase app was deleted.")}function mD(t){return new Ke(Ne.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yl(t,e){return new Ke(Ne.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lu(t){throw new Ke(Ne.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ft.makeFromUrl(e,n)}catch{return new Ft(e,"")}if(r.path==="")return r;throw Xq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},v=n===lD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",m=new RegExp(`^https?://${v}/${i}/${_}`,"i"),y=[{regex:a,indices:u,postModify:s},{regex:f,indices:g,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<y.length;w++){const E=y[w],I=E.regex.exec(e);if(I){const T=I[E.indices.bucket];let S=I[E.indices.path];S||(S=""),r=new Ft(T,S),E.postModify(r);break}}if(r==null)throw Yq(e);return r}}class nW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(..._){l||(l=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,u())},_)}function h(){s&&clearTimeout(s)}function f(_,...m){if(l){h();return}if(_){h(),c.call(null,_,...m);return}if(u()||o){h(),c.call(null,_,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let g=!1;function v(_){g||(g=!0,h(),!l&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function iW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t){return t!==void 0}function oW(t){return typeof t=="function"}function aW(t){return typeof t=="object"&&!Array.isArray(t)}function gm(t){return typeof t=="string"||t instanceof String}function R1(t){return PE()&&t instanceof Blob}function PE(){return typeof Blob<"u"&&!Ep()}function Jv(t,e,n,r){if(r<e)throw ha(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ha(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n,r,i,s,o,a,u,l,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ad(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Us.NO_ERROR,u=s.getStatus();if(!a||yD(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Us.ABORT;r(!1,new Ad(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Ad(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());sW(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=SE();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?pD():hD();o(u)}else{const u=dD();o(u)}};this.canceled_?n(!1,new Ad(!1,null,!0)):this.backoffId_=rW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ad{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fW(t,e,n,r,i,s,o=!0){const a=gD(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return dW(l,e),lW(l,n),cW(l,s),hW(l,r),new uW(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mW(...t){const e=pW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(PE())return new Blob(t);throw new Ke(Ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){if(typeof atob>"u")throw tW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mg{constructor(e,n){this.data=e,this.contentType=n||null}}function vD(t,e){switch(t){case Vn.RAW:return new Mg(_D(e));case Vn.BASE64:case Vn.BASE64URL:return new Mg(wD(t,e));case Vn.DATA_URL:return new Mg(_W(e),wW(e))}throw SE()}function _D(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vW(t){let e;try{e=decodeURIComponent(t)}catch{throw yl(Vn.DATA_URL,"Malformed data URL.")}return _D(e)}function wD(t,e){switch(t){case Vn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yW(e)}catch(i){throw i.message.includes("polyfill")?i:yl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ED{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yl(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=EW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _W(t){const e=new ED(t);return e.base64?wD(Vn.BASE64,e.rest):vW(e.rest)}function wW(t){return new ED(t).contentType}function EW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){let r=0,i="";R1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(R1(this.data_)){const r=this.data_,i=gW(r,e,n);return i===null?null:new Dr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Dr(r,!0)}}static getBlob(...e){if(PE()){const n=e.map(r=>r instanceof Dr?r.data_:r);return new Dr(mW.apply(null,n))}else{const n=e.map(o=>gm(o)?vD(Vn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Dr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){let e;try{e=JSON.parse(t)}catch{return null}return aW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ID(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t,e){return e}class qt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||SW}}let kd=null;function PW(t){return!gm(t)||t.length<2?t:ID(t)}function ym(){if(kd)return kd;const t=[];t.push(new qt("bucket")),t.push(new qt("generation")),t.push(new qt("metageneration")),t.push(new qt("name","fullPath",!0));function e(s,o){return PW(o)}const n=new qt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new qt("size");return i.xform=r,t.push(i),t.push(new qt("timeCreated")),t.push(new qt("updated")),t.push(new qt("md5Hash",null,!0)),t.push(new qt("cacheControl",null,!0)),t.push(new qt("contentDisposition",null,!0)),t.push(new qt("contentEncoding",null,!0)),t.push(new qt("contentLanguage",null,!0)),t.push(new qt("contentType",null,!0)),t.push(new qt("metadata","customMetadata",!0)),kd=t,kd}function RW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ft(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function bW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return RW(r,t),r}function TD(t,e,n){const r=RE(e);return r===null?null:bW(t,r,n)}function AW(t,e,n,r){const i=RE(e);if(i===null||!gm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=cs(h,n,r),g=gD({alt:"media",token:l});return f+g})[0]}function bE(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="prefixes",A1="items";function kW(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[b1])for(const i of n[b1]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Ft(e,s));r.prefixes.push(o)}if(n[A1])for(const i of n[A1]){const s=t._makeStorageReference(new Ft(e,i.name));r.items.push(s)}return r}function xW(t,e,n){const r=RE(n);return r===null?null:kW(t,e,r)}class oi{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){if(!t)throw SE()}function vm(t,e){function n(r,i){const s=TD(t,i,e);return Tr(s!==null),s}return n}function CW(t,e){function n(r,i){const s=xW(t,e,i);return Tr(s!==null),s}return n}function OW(t,e){function n(r,i){const s=TD(t,i,e);return Tr(s!==null),AW(s,i,t.host,t._protocol)}return n}function pu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Kq():i=Gq():n.getStatus()===402?i=Hq(t.bucket):n.getStatus()===403?i=Qq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _m(t){const e=pu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Wq(t.path)),s.serverResponse=i.serverResponse,s}return n}function SD(t,e,n){const r=e.fullServerUrl(),i=cs(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new oi(i,s,vm(t,n),o);return a.errorHandler=_m(e),a}function DW(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=cs(o,t.host,t._protocol),u="GET",l=t.maxOperationRetryTime,c=new oi(a,u,CW(t,e.bucket),l);return c.urlParams=s,c.errorHandler=pu(e),c}function NW(t,e,n){const r=e.fullServerUrl(),i=cs(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new oi(i,s,OW(t,n),o);return a.errorHandler=_m(e),a}function LW(t,e,n,r){const i=e.fullServerUrl(),s=cs(i,t.host,t._protocol),o="PATCH",a=bE(n,r),u={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,c=new oi(s,o,vm(t,r),l);return c.headers=u,c.body=a,c.errorHandler=_m(e),c}function VW(t,e){const n=e.fullServerUrl(),r=cs(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(u,l){}const a=new oi(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=_m(e),a}function MW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=MW(null,e)),r}function $W(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=PD(e,r,i),c=bE(l,n),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",f=Dr.getBlob(d,r,h);if(f===null)throw fD();const g={name:l.fullPath},v=cs(s,t.host,t._protocol),_="POST",m=t.maxUploadRetryTime,p=new oi(v,_,vm(t,n),m);return p.urlParams=g,p.headers=o,p.body=f.uploadData(),p.errorHandler=pu(e),p}class ff{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function AE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Tr(!1)}return Tr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function FW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=PD(e,r,i),a={name:o.fullPath},u=cs(s,t.host,t._protocol),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=bE(o,n),h=t.maxUploadRetryTime;function f(v){AE(v);let _;try{_=v.getResponseHeader("X-Goog-Upload-URL")}catch{Tr(!1)}return Tr(gm(_)),_}const g=new oi(u,l,f,h);return g.urlParams=a,g.headers=c,g.body=d,g.errorHandler=pu(e),g}function UW(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(l){const c=AE(l,["active","final"]);let d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Tr(!1)}d||Tr(!1);const h=Number(d);return Tr(!isNaN(h)),new ff(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,u=new oi(n,o,s,a);return u.headers=i,u.errorHandler=pu(e),u}const k1=256*1024;function jW(t,e,n,r,i,s,o,a){const u=new ff(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Zq();const l=u.total-u.current;let c=l;i>0&&(c=Math.min(c,i));const d=u.current,h=d+c;let f="";c===0?f="finalize":l===c?f="upload, finalize":f="upload";const g={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${u.current}`},v=r.slice(d,h);if(v===null)throw fD();function _(w,E){const I=AE(w,["active","final"]),T=u.current+c,S=r.size();let k;return I==="final"?k=vm(e,s)(w,E):k=null,new ff(T,S,I==="final",k)}const m="POST",p=e.maxUploadRetryTime,y=new oi(n,m,_,p);return y.headers=g,y.body=v.uploadData(),y.progressCallback=a||null,y.errorHandler=pu(t),y}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW={STATE_CHANGED:"state_changed"},Qt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $g(t){switch(t){case"running":case"pausing":case"canceling":return Qt.RUNNING;case"paused":return Qt.PAUSED;case"success":return Qt.SUCCESS;case"canceled":return Qt.CANCELED;case"error":return Qt.ERROR;default:return Qt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n,r){if(oW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class qW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Lu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WW extends qW{initXhr(){this.xhr_.responseType="text"}}function pr(){return new WW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=ym(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(yD(i.status,[]))if(s)i=dD();else{this.sleepTime=Math.max(this.sleepTime*2,qq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ne.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=FW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,pr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=UW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,pr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=k1*this._chunkMultiplier,n=new ff(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=jW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(o,pr,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){k1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=SD(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,pr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=$W(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,pr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=hD(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=$g(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new BW(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch($g(this._state)){case Qt.SUCCESS:xo(this._resolve.bind(null,this.snapshot))();break;case Qt.CANCELED:case Qt.ERROR:const n=this._reject;xo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($g(this._state)){case Qt.RUNNING:case Qt.PAUSED:e.next&&xo(e.next.bind(e,this.snapshot))();break;case Qt.SUCCESS:e.complete&&xo(e.complete.bind(e))();break;case Qt.CANCELED:case Qt.ERROR:e.error&&xo(e.error.bind(e,this._error))();break;default:e.error&&xo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this._service=e,n instanceof Ft?this._location=n:this._location=Ft.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uo(e,n)}get root(){const e=new Ft(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ID(this._location.path)}get storage(){return this._service}get parent(){const e=IW(this._location.path);if(e===null)return null;const n=new Ft(this._location.bucket,e);return new uo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mD(e)}}function HW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new RD(t,new Dr(e),n)}function GW(t){const e={prefixes:[],items:[]};return bD(t,e).then(()=>e)}async function bD(t,e,n){const i=await AD(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await bD(t,e,i.nextPageToken)}function AD(t,e){e!=null&&typeof e.maxResults=="number"&&Jv("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=DW(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,pr)}function KW(t){t._throwIfRoot("getMetadata");const e=SD(t.storage,t._location,ym());return t.storage.makeRequestWithTokens(e,pr)}function QW(t,e){t._throwIfRoot("updateMetadata");const n=LW(t.storage,t._location,e,ym());return t.storage.makeRequestWithTokens(n,pr)}function YW(t){t._throwIfRoot("getDownloadURL");const e=NW(t.storage,t._location,ym());return t.storage.makeRequestWithTokens(e,pr).then(n=>{if(n===null)throw eW();return n})}function XW(t){t._throwIfRoot("deleteObject");const e=VW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,pr)}function kD(t,e){const n=TW(t._location.path,e),r=new Ft(t._location.bucket,n);return new uo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){return/^[A-Za-z]+:\/\//.test(t)}function ZW(t,e){return new uo(t,e)}function xD(t,e){if(t instanceof kE){const n=t;if(n._bucket==null)throw Jq();const r=new uo(n,n._bucket);return e!=null?xD(r,e):r}else return e!==void 0?kD(t,e):t}function eH(t,e){if(e&&JW(e)){if(t instanceof kE)return ZW(t,e);throw ha("To use ref(service, url), the first argument must be a Storage instance.")}else return xD(t,e)}function x1(t,e){const n=e==null?void 0:e[cD];return n==null?null:Ft.makeFromBucketSpec(n,t)}function tH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:OA(i,t.app.options.projectId))}class kE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=lD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zq,this._maxUploadRetryTime=Bq,this._requests=new Set,i!=null?this._bucket=Ft.makeFromBucketSpec(i,this._host):this._bucket=x1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ft.makeFromBucketSpec(this._url,e):this._bucket=x1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nW(pD());{const o=fW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const C1="@firebase/storage",O1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="storage";function rH(t,e,n){return t=K(t),HW(t,e,n)}function iH(t){return t=K(t),KW(t)}function sH(t,e){return t=K(t),QW(t,e)}function oH(t,e){return t=K(t),AD(t,e)}function aH(t){return t=K(t),GW(t)}function uH(t){return t=K(t),YW(t)}function lH(t){return t=K(t),XW(t)}function D1(t,e){return t=K(t),eH(t,e)}function cH(t,e){return kD(t,e)}function dH(t,e,n,r={}){tH(t,e,n,r)}function hH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kE(n,r,i,e,ei)}function fH(){Kr(new zn(nH,hH,"PUBLIC").setMultipleInstances(!0)),$n(C1,O1,""),$n(C1,O1,"esm2017")}fH();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xd(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new xd(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new xd(o,this,this._ref)):s={next:n.next?o=>n.next(new xd(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class L1{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Br(e,this._service))}get items(){return this._delegate.items.map(e=>new Br(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=cH(this._delegate,e);return new Br(n,this.storage)}get root(){return new Br(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Br(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new N1(rH(this._delegate,e,n),this)}putString(e,n=Vn.RAW,r){this._throwIfRoot("putString");const i=vD(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new N1(new RD(this._delegate,new Dr(i.data,!0),s),this)}listAll(){return aH(this._delegate).then(e=>new L1(e,this.storage))}list(e){return oH(this._delegate,e||void 0).then(n=>new L1(n,this.storage))}getMetadata(){return iH(this._delegate)}updateMetadata(e){return sH(this._delegate,e)}getDownloadURL(){return uH(this._delegate)}delete(){return this._throwIfRoot("delete"),lH(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw mD(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(V1(e))throw ha("ref() expected a child path but got a URL, use refFromURL instead.");return new Br(D1(this._delegate,e),this)}refFromURL(e){if(!V1(e))throw ha("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ft.makeFromUrl(e,this._delegate.host)}catch{throw ha("refFromUrl() expected a valid full URL but got an invalid one.")}return new Br(D1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){dH(this._delegate,e,n,r)}}function V1(t){return/^[A-Za-z]+:\/\//.test(t)}const pH="@firebase/storage-compat",mH="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH="storage-compat";function yH(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new CD(n,r)}function vH(t){const e={TaskState:Qt,TaskEvent:zW,StringFormat:Vn,Storage:CD,Reference:Br};t.INTERNAL.registerComponent(new zn(gH,yH,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(pH,mH)}vH(kr);const _H={apiKey:"AIzaSyB6Bb9s8VjuT6QomjdaBrL-oMCI3IooRZc",authDomain:"disney-plus-clone-e46f7.firebaseapp.com",projectId:"disney-plus-clone-e46f7",storageBucket:"disney-plus-clone-e46f7.appspot.com",messagingSenderId:"254095470358",appId:"1:254095470358:web:f707450a3db5a13d8eaa37",measurementId:"G-6X0LY1LM5N"},wH=kr.initializeApp(_H),OD=wH.firestore(),Fg=kr.auth(),EH=new kr.auth.GoogleAuthProvider;kr.storage();function Yn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Zi(t){return!!t&&!!t[Me]}function Jr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===xH}(t)||Array.isArray(t)||!!t[B1]||!!(!((e=t.constructor)===null||e===void 0)&&e[B1])||xE(t)||CE(t))}function lo(t,e,n){n===void 0&&(n=!1),mu(t)===0?(n?Object.keys:pa)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function mu(t){var e=t[Me];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xE(t)?2:CE(t)?3:0}function fa(t,e){return mu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function IH(t,e){return mu(t)===2?t.get(e):t[e]}function DD(t,e,n){var r=mu(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ND(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function xE(t){return AH&&t instanceof Map}function CE(t){return kH&&t instanceof Set}function ys(t){return t.o||t.t}function OE(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=VD(t);delete e[Me];for(var n=pa(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function DE(t,e){return e===void 0&&(e=!1),NE(t)||Zi(t)||!Jr(t)||(mu(t)>1&&(t.set=t.add=t.clear=t.delete=TH),Object.freeze(t),e&&lo(t,function(n,r){return DE(r,!0)},!0)),t}function TH(){Yn(2)}function NE(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Sr(t){var e=n_[t];return e||Yn(18,t),e}function SH(t,e){n_[t]||(n_[t]=e)}function Zv(){return hc}function Ug(t,e){e&&(Sr("Patches"),t.u=[],t.s=[],t.v=e)}function pf(t){e_(t),t.p.forEach(PH),t.p=null}function e_(t){t===hc&&(hc=t.l)}function M1(t){return hc={p:[],l:hc,h:t,m:!0,_:0}}function PH(t){var e=t[Me];e.i===0||e.i===1?e.j():e.g=!0}function jg(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Sr("ES5").S(e,t,r),r?(n[Me].P&&(pf(e),Yn(4)),Jr(t)&&(t=mf(e,t),e.l||gf(e,t)),e.u&&Sr("Patches").M(n[Me].t,t,e.u,e.s)):t=mf(e,n,[]),pf(e),e.u&&e.v(e.u,e.s),t!==LD?t:void 0}function mf(t,e,n){if(NE(e))return e;var r=e[Me];if(!r)return lo(e,function(a,u){return $1(t,r,e,a,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return gf(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=OE(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),lo(s,function(a,u){return $1(t,r,i,a,u,n,o)}),gf(t,i,!1),n&&t.u&&Sr("Patches").N(r,n,t.u,t.s)}return r.o}function $1(t,e,n,r,i,s,o){if(Zi(i)){var a=mf(t,i,s&&e&&e.i!==3&&!fa(e.R,r)?s.concat(r):void 0);if(DD(n,r,a),!Zi(a))return;t.m=!1}else o&&n.add(i);if(Jr(i)&&!NE(i)){if(!t.h.D&&t._<1)return;mf(t,i),e&&e.A.l||gf(t,i)}}function gf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&DE(e,n)}function zg(t,e){var n=t[Me];return(n?ys(n):t)[e]}function F1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ei(t){t.P||(t.P=!0,t.l&&Ei(t.l))}function Bg(t){t.o||(t.o=OE(t.t))}function t_(t,e,n){var r=xE(e)?Sr("MapSet").F(e,n):CE(e)?Sr("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Zv(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=fc;o&&(u=[a],l=Qu);var c=Proxy.revocable(u,l),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(e,n):Sr("ES5").J(e,n);return(n?n.A:Zv()).p.push(r),r}function RH(t){return Zi(t)||Yn(22,t),function e(n){if(!Jr(n))return n;var r,i=n[Me],s=mu(n);if(i){if(!i.P&&(i.i<4||!Sr("ES5").K(i)))return i.t;i.I=!0,r=U1(n,s),i.I=!1}else r=U1(n,s);return lo(r,function(o,a){i&&IH(i.t,o)===a||DD(r,o,e(a))}),s===3?new Set(r):r}(t)}function U1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return OE(t)}function bH(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[Me];return fc.get(u,s)},set:function(u){var l=this[Me];fc.set(l,s,u)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Me];if(!a.P)switch(a.i){case 5:r(a)&&Ei(a);break;case 4:n(a)&&Ei(a)}}}function n(s){for(var o=s.t,a=s.k,u=pa(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==Me){var d=o[c];if(d===void 0&&!fa(o,c))return!0;var h=a[c],f=h&&h[Me];if(f?f.t!==d:!ND(h,d))return!0}}var g=!!o[Me];return u.length!==pa(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};SH("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,d){if(c){for(var h=Array(d.length),f=0;f<d.length;f++)Object.defineProperty(h,""+f,t(f,!0));return h}var g=VD(d);delete g[Me];for(var v=pa(g),_=0;_<v.length;_++){var m=v[_];g[m]=t(m,c||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,s),l={i:a?5:4,A:o?o.A:Zv(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,Me,{value:l,writable:!0}),u},S:function(s,o,a){a?Zi(o)&&o[Me].A===s&&e(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[Me];if(c){var d=c.t,h=c.k,f=c.R,g=c.i;if(g===4)lo(h,function(y){y!==Me&&(d[y]!==void 0||fa(d,y)?f[y]||u(h[y]):(f[y]=!0,Ei(c)))}),lo(d,function(y){h[y]!==void 0||fa(h,y)||(f[y]=!1,Ei(c))});else if(g===5){if(r(c)&&(Ei(c),f.length=!0),h.length<d.length)for(var v=h.length;v<d.length;v++)f[v]=!1;else for(var _=d.length;_<h.length;_++)f[_]=!0;for(var m=Math.min(h.length,d.length),p=0;p<m;p++)h.hasOwnProperty(p)||(f[p]=!0),f[p]===void 0&&u(h[p])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var j1,hc,LE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",AH=typeof Map<"u",kH=typeof Set<"u",z1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",LD=LE?Symbol.for("immer-nothing"):((j1={})["immer-nothing"]=!0,j1),B1=LE?Symbol.for("immer-draftable"):"__$immer_draftable",Me=LE?Symbol.for("immer-state"):"__$immer_state",xH=""+Object.prototype.constructor,pa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,VD=Object.getOwnPropertyDescriptors||function(t){var e={};return pa(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},n_={},fc={get:function(t,e){if(e===Me)return t;var n=ys(t);if(!fa(n,e))return function(i,s,o){var a,u=F1(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Jr(r)?r:r===zg(t.t,e)?(Bg(t),t.o[e]=t_(t.A.h,r,t)):r},has:function(t,e){return e in ys(t)},ownKeys:function(t){return Reflect.ownKeys(ys(t))},set:function(t,e,n){var r=F1(ys(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=zg(ys(t),e),s=i==null?void 0:i[Me];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(ND(n,i)&&(n!==void 0||fa(t.t,e)))return!0;Bg(t),Ei(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return zg(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Bg(t),Ei(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ys(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Yn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yn(12)}},Qu={};lo(fc,function(t,e){Qu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Qu.deleteProperty=function(t,e){return Qu.set.call(this,t,e,void 0)},Qu.set=function(t,e,n){return fc.set.call(this,t[0],e,n,t[0])};var CH=function(){function t(n){var r=this;this.O=z1,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(v){var _=this;v===void 0&&(v=a);for(var m=arguments.length,p=Array(m>1?m-1:0),y=1;y<m;y++)p[y-1]=arguments[y];return u.produce(v,function(w){var E;return(E=s).call.apply(E,[_,w].concat(p))})}}var l;if(typeof s!="function"&&Yn(6),o!==void 0&&typeof o!="function"&&Yn(7),Jr(i)){var c=M1(r),d=t_(r,i,void 0),h=!0;try{l=s(d),h=!1}finally{h?pf(c):e_(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return Ug(c,o),jg(v,c)},function(v){throw pf(c),v}):(Ug(c,o),jg(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===LD&&(l=void 0),r.D&&DE(l,!0),o){var f=[],g=[];Sr("Patches").M(i,l,f,g),o(f,g)}return l}Yn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(l,function(f){return i.apply(void 0,[f].concat(d))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Jr(n)||Yn(8),Zi(n)&&(n=RH(n));var r=M1(this),i=t_(this,n,void 0);return i[Me].C=!0,e_(r),i},e.finishDraft=function(n,r){var i=n&&n[Me],s=i.A;return Ug(s,r),jg(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!z1&&Yn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Sr("Patches").$;return Zi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Rn=new CH,MD=Rn.produce;Rn.produceWithPatches.bind(Rn);Rn.setAutoFreeze.bind(Rn);Rn.setUseProxies.bind(Rn);Rn.applyPatches.bind(Rn);Rn.createDraft.bind(Rn);Rn.finishDraft.bind(Rn);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function OH(t,e){if(pc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DH(t){var e=OH(t,"string");return pc(e)==="symbol"?e:String(e)}function NH(t,e,n){return e=DH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var H1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),qg=function(){return Math.random().toString(36).substring(7).split("").join(".")},yf={INIT:"@@redux/INIT"+qg(),REPLACE:"@@redux/REPLACE"+qg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+qg()}};function LH(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function $D(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mt(1));return n($D)(t,e)}if(typeof t!="function")throw new Error(Mt(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Mt(3));return s}function d(v){if(typeof v!="function")throw new Error(Mt(4));if(u)throw new Error(Mt(5));var _=!0;return l(),a.push(v),function(){if(_){if(u)throw new Error(Mt(6));_=!1,l();var p=a.indexOf(v);a.splice(p,1),o=null}}}function h(v){if(!LH(v))throw new Error(Mt(7));if(typeof v.type>"u")throw new Error(Mt(8));if(u)throw new Error(Mt(9));try{u=!0,s=i(s,v)}finally{u=!1}for(var _=o=a,m=0;m<_.length;m++){var p=_[m];p()}return v}function f(v){if(typeof v!="function")throw new Error(Mt(10));i=v,h({type:yf.REPLACE})}function g(){var v,_=d;return v={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Mt(11));function y(){p.next&&p.next(c())}y();var w=_(y);return{unsubscribe:w}}},v[H1]=function(){return this},v}return h({type:yf.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:f},r[H1]=g,r}function VH(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:yf.INIT});if(typeof r>"u")throw new Error(Mt(12));if(typeof n(void 0,{type:yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function MH(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{VH(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var f=s[h],g=n[f],v=u[f],_=g(v,l);if(typeof _>"u")throw l&&l.type,new Error(Mt(14));d[f]=_,c=c||_!==v}return c=c||s.length!==Object.keys(u).length,c?d:u}}function vf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function $H(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Mt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=vf.apply(void 0,a)(i.dispatch),W1(W1({},i),{},{dispatch:s})}}}function FD(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var UD=FD();UD.withExtraArgument=FD;const G1=UD;var jD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FH=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Wa=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},UH=Object.defineProperty,jH=Object.defineProperties,zH=Object.getOwnPropertyDescriptors,K1=Object.getOwnPropertySymbols,BH=Object.prototype.hasOwnProperty,qH=Object.prototype.propertyIsEnumerable,Q1=function(t,e,n){return e in t?UH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Vi=function(t,e){for(var n in e||(e={}))BH.call(e,n)&&Q1(t,n,e[n]);if(K1)for(var r=0,i=K1(e);r<i.length;r++){var n=i[r];qH.call(e,n)&&Q1(t,n,e[n])}return t},Wg=function(t,e){return jH(t,zH(e))},WH=function(t,e,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(t,e)).next())})},HH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vf:vf.apply(null,arguments)};function GH(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var KH=function(t){jD(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Wa([void 0],n[0].concat(this)))):new(e.bind.apply(e,Wa([void 0],n.concat(this))))},e}(Array),QH=function(t){jD(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Wa([void 0],n[0].concat(this)))):new(e.bind.apply(e,Wa([void 0],n.concat(this))))},e}(Array);function r_(t){return Jr(t)?MD(t,function(){}):t}function YH(t){return typeof t=="boolean"}function XH(){return function(e){return zD(e)}}function zD(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new KH;return n&&(YH(n)?r.push(G1):r.push(G1.withExtraArgument(n.extraArgument))),r}var JH=!0;function ZH(t){var e=XH(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,d=n.enhancers,h=d===void 0?void 0:d,f;if(typeof i=="function")f=i;else if(GH(i))f=MH(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var v=$H.apply(void 0,g),_=vf;u&&(_=HH(Vi({trace:!JH},typeof u=="object"&&u)));var m=new QH(v),p=m;Array.isArray(h)?p=Wa([v],h):typeof h=="function"&&(p=h(m));var y=_.apply(void 0,p);return $D(f,c,y)}function Mi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Vi(Vi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function BD(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function eG(t){return typeof t=="function"}function tG(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?BD(e):[e,n,r],s=i[0],o=i[1],a=i[2],u;if(eG(t))u=function(){return r_(t())};else{var l=r_(t);u=function(){return l}}function c(d,h){d===void 0&&(d=u());var f=Wa([s[h.type]],o.filter(function(g){var v=g.matcher;return v(h)}).map(function(g){var v=g.reducer;return v}));return f.filter(function(g){return!!g}).length===0&&(f=[a]),f.reduce(function(g,v){if(v)if(Zi(g)){var _=g,m=v(_,h);return m===void 0?g:m}else{if(Jr(g))return MD(g,function(p){return v(p,h)});var m=v(g,h);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},d)}return c.getInitialState=u,c}function nG(t,e){return t+"/"+e}function qD(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:r_(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],h=nG(e,c),f,g;"reducer"in d?(f=d.reducer,g=d.prepare):f=d,s[c]=f,o[h]=f,a[c]=g?Mi(h,g):Mi(h)});function u(){var c=typeof t.extraReducers=="function"?BD(t.extraReducers):[t.extraReducers],d=c[0],h=d===void 0?{}:d,f=c[1],g=f===void 0?[]:f,v=c[2],_=v===void 0?void 0:v,m=Vi(Vi({},h),o);return tG(n,function(p){for(var y in m)p.addCase(y,m[y]);for(var w=0,E=g;w<E.length;w++){var I=E[w];p.addMatcher(I.matcher,I.reducer)}_&&p.addDefaultCase(_)})}var l;return{name:e,reducer:function(c,d){return l||(l=u()),l(c,d)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var rG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iG=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=rG[Math.random()*64|0];return e},sG=["name","message","stack","code"],Hg=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Y1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),oG=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=sG;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Mi(e+"/fulfilled",function(l,c,d,h){return{payload:l,meta:Wg(Vi({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Mi(e+"/pending",function(l,c,d){return{payload:void 0,meta:Wg(Vi({},d||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Mi(e+"/rejected",function(l,c,d,h,f){return{payload:h,error:(r&&r.serializeError||oG)(l||"Rejected"),meta:Wg(Vi({},f||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,d,h){var f=r!=null&&r.idGenerator?r.idGenerator(l):iG(),g=new a,v;function _(p){v=p,g.abort()}var m=function(){return WH(this,null,function(){var p,y,w,E,I,T,S;return FH(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),E=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,l,{getState:d,extra:h}),uG(E)?[4,E]:[3,2];case 1:E=k.sent(),k.label=2;case 2:if(E===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(A,U){return g.signal.addEventListener("abort",function(){return U({name:"AbortError",message:v||"Aborted"})})}),c(s(f,l,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:f,arg:l},{getState:d,extra:h}))),[4,Promise.race([I,Promise.resolve(n(l,{dispatch:c,getState:d,extra:h,requestId:f,signal:g.signal,abort:_,rejectWithValue:function(A,U){return new Hg(A,U)},fulfillWithValue:function(A,U){return new Y1(A,U)}})).then(function(A){if(A instanceof Hg)throw A;return A instanceof Y1?i(A.payload,f,l,A.meta):i(A,f,l)})])];case 3:return w=k.sent(),[3,5];case 4:return T=k.sent(),w=T instanceof Hg?o(null,f,l,T.payload,T.meta):o(T,f,l),[3,5];case 5:return S=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,S||c(w),[2,w]}})})}();return Object.assign(m,{abort:_,requestId:f,arg:l,unwrap:function(){return m.then(aG)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function aG(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function uG(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var VE="listenerMiddleware";Mi(VE+"/add");Mi(VE+"/removeAll");Mi(VE+"/remove");var X1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);bH();const lG={name:"",email:"",photo:""},WD=qD({name:"user",initialState:lG,reducers:{setUserLoginDetails:(t,e)=>{t.name=e.payload.name,t.email=e.payload.email,t.photo=e.payload.photo},setSignOutState:t=>{t.name=null,t.email=null,t.photo=null}}}),{setUserLoginDetails:cG,setSignOutState:dG}=WD.actions,HD=t=>t.user.name,hG=t=>t.user.photo,fG=WD.reducer,pG=t=>{const e=Wb(),n=bM(),r=Gs(HD),i=Gs(hG);me.useEffect(()=>{Fg.onAuthStateChanged(async a=>{a&&(o(a),n.push("/home"))})},[r]);const s=()=>{r?r&&Fg.signOut().then(()=>{e(dG()),n.push("/")}).catch(a=>alert(a.message)):Fg.signInWithPopup(EH).then(a=>{o(a.user)}).catch(a=>{alert(a.message)})},o=a=>{e(cG({name:a.displayName,email:a.email,photo:a.photoURL}))};return b.jsxs(mG,{children:[b.jsx(gG,{children:b.jsx("img",{src:"/images/logo.svg",alt:"Disney+ Logo"})}),r?b.jsxs(b.Fragment,{children:[b.jsxs(yG,{children:[b.jsxs("a",{href:"/home",children:[b.jsx("img",{src:"/images/home-icon.svg",alt:"HOME"}),b.jsx("span",{children:"HOME"})]}),b.jsxs("a",{href:"/home",children:[b.jsx("img",{src:"/images/search-icon.svg",alt:"SEARCH"}),b.jsx("span",{children:"SEARCH"})]}),b.jsxs("a",{href:"/home",children:[b.jsx("img",{src:"/images/watchlist-icon.svg",alt:"WATCHLIST"}),b.jsx("span",{children:"WATCHLIST"})]}),b.jsxs("a",{href:"/home",children:[b.jsx("img",{src:"/images/original-icon.svg",alt:"ORIGINALS"}),b.jsx("span",{children:"ORIGINALS"})]}),b.jsxs("a",{href:"/home",children:[b.jsx("img",{src:"/images/movie-icon.svg",alt:"MOVIES"}),b.jsx("span",{children:"MOVIES"})]}),b.jsxs("a",{href:"/home",children:[b.jsx("img",{src:"/images/series-icon.svg",alt:"SERIES"}),b.jsx("span",{children:"SERIES"})]})]}),b.jsxs(_G,{children:[b.jsx(GD,{src:i,alt:r}),b.jsx(KD,{children:b.jsx("span",{onClick:s,children:"Sign Out"})})]})]}):b.jsx(vG,{onClick:s,children:"Login"})]})},mG=Z.nav`
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	height: 70px;
	background-color: #090b13;
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 0 36px;
	letter-spacing: 16px;
	z-index: 3;
`,gG=Z.a`
	padding: 0;
	width: 80px;
	margin-top: 4px;
	max-height: 70px;
	font-size: 0;
	display: inline-block;

	img{
		display: block;
		width: 100%;
	}
`,yG=Z.div`
	align-items: center;
	display: flex;
	flex-flow: row nowrap;
	height: 100%;
	justify-content: flex-end;
	margin: 0px;
	padding: 0px;
	position: relative;
	margin-right: auto;
	margin-left: 25px;

	a {
		display: flex;
		align-items: center;
		padding: 0 12px;
		gap: .4rem;

		img {
			height: 20px;
			min-width: 20px;
			width: 20px;
			z-index: auto;
		}

		span {
			color: rgb(249, 249, 249);
			font-size: 13px;
			letter-spacing: 1.42px;
			line-height: 1.08;
			padding: 2px 0px;
			white-space: nowrap;
			position: relative;

			&:before {
				background-color: rgb(249, 249, 249);
				border-radius: 0px 0px 4px 4px;
				bottom: -6px;
				content: "";
				height: 2px;
				left: 0px;
				opacity: 0;
				position: absolute;
				right: 0px;
				transform-origin: left center;
				transform: scaleX(0);
				transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;
				visibility: hidden;
				width: auto;
			}
		}

		&:hover {
			span:before {
				transform: scaleX(1);
				visibility: visible;
				opacity: 1 !important;
			}
		}
 
	}

	

	@media (max-width: 768px){
		display: none;
	}
`,vG=Z.a`
	background-color: rgba(0, 0, 0, 0.6);
	padding: 8px 16px;
	text-transform: uppercase;
	letter-spacing: 1.5px;
	border: 1px solid #f9f9f9;
	border-radius: 4px;
	transition: all 0.2s ease 0s;
	cursor: pointer;

	&:hover{
		background-color: #f9f9f9;
		color: #000;
		border-color: transparent;
	}
`,GD=Z.img`
	height: 100%;
`,KD=Z.div`
	position: absolute;
	top: 48px;
	right: 0;
	background-color: rgb(19,19,19);
	border: 1px solid rgba(151, 151, 151, 0.34);
	border-radius: 4px;
	box-shadow: rgb(0 0 0 / 50%) 0px 0px 18px 0px;
	padding: 10px;
	font-size: 13px;
	letter-spacing: 3px;
	width: 100px;
	opacity: 0;
`,_G=Z.div`
	position: relative;
	height: 48px;
	width: 48px;
	display: flex;
	cursor: pointer;
	align-items: center;
	justify-content: center;

	${GD}{
		border-radius: 50%;
		width: 100%;
		height: 100%;
	}

	&:hover {
		${KD}{
			opacity: 1;
			transition-duration: 1s;
		}
	}
`;var QD={},YD={},wm={},XD={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(XD);var wG="Expected a function",J1=0/0,EG="[object Symbol]",IG=/^\s+|\s+$/g,TG=/^[-+]0x[0-9a-f]+$/i,SG=/^0b[01]+$/i,PG=/^0o[0-7]+$/i,RG=parseInt,bG=typeof Xc=="object"&&Xc&&Xc.Object===Object&&Xc,AG=typeof self=="object"&&self&&self.Object===Object&&self,kG=bG||AG||Function("return this")(),xG=Object.prototype,CG=xG.toString,OG=Math.max,DG=Math.min,Gg=function(){return kG.Date.now()};function NG(t,e,n){var r,i,s,o,a,u,l=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(wG);e=Z1(e)||0,i_(n)&&(c=!!n.leading,d="maxWait"in n,s=d?OG(Z1(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(I){var T=r,S=i;return r=i=void 0,l=I,o=t.apply(S,T),o}function g(I){return l=I,a=setTimeout(m,e),c?f(I):o}function v(I){var T=I-u,S=I-l,k=e-T;return d?DG(k,s-S):k}function _(I){var T=I-u,S=I-l;return u===void 0||T>=e||T<0||d&&S>=s}function m(){var I=Gg();if(_(I))return p(I);a=setTimeout(m,v(I))}function p(I){return a=void 0,h&&r?f(I):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function w(){return a===void 0?o:p(Gg())}function E(){var I=Gg(),T=_(I);if(r=arguments,i=this,u=I,T){if(a===void 0)return g(u);if(d)return a=setTimeout(m,e),f(u)}return a===void 0&&(a=setTimeout(m,e)),o}return E.cancel=y,E.flush=w,E}function i_(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function LG(t){return!!t&&typeof t=="object"}function VG(t){return typeof t=="symbol"||LG(t)&&CG.call(t)==EG}function Z1(t){if(typeof t=="number")return t;if(VG(t))return J1;if(i_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=i_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(IG,"");var n=SG.test(t);return n||PG.test(t)?RG(t.slice(2),n?2:8):TG.test(t)?J1:+t}var MG=NG,JD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(JD);var Em=JD.exports,j={};Object.defineProperty(j,"__esModule",{value:!0});j.checkSpecKeys=j.checkNavigable=j.changeSlide=j.canUseDOM=j.canGoNext=void 0;j.clamp=ZD;j.swipeStart=j.swipeMove=j.swipeEnd=j.slidesOnRight=j.slidesOnLeft=j.slideHandler=j.siblingDirection=j.safePreventDefault=j.lazyStartIndex=j.lazySlidesOnRight=j.lazySlidesOnLeft=j.lazyEndIndex=j.keyHandler=j.initializedState=j.getWidth=j.getTrackLeft=j.getTrackCSS=j.getTrackAnimateCSS=j.getTotalSlides=j.getSwipeDirection=j.getSlideCount=j.getRequiredLazySlides=j.getPreClones=j.getPostClones=j.getOnDemandLazySlides=j.getNavigableIndexes=j.getHeight=j.extractObject=void 0;var $G=FG(me);function FG(t){return t&&t.__esModule?t:{default:t}}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){UG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZD(t,e,n){return Math.max(e,Math.min(t,n))}var js=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};j.safePreventDefault=js;var ME=function(e){for(var n=[],r=$E(e),i=FE(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};j.getOnDemandLazySlides=ME;var jG=function(e){for(var n=[],r=$E(e),i=FE(e),s=r;s<i;s++)n.push(s);return n};j.getRequiredLazySlides=jG;var $E=function(e){return e.currentSlide-eN(e)};j.lazyStartIndex=$E;var FE=function(e){return e.currentSlide+tN(e)};j.lazyEndIndex=FE;var eN=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};j.lazySlidesOnLeft=eN;var tN=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};j.lazySlidesOnRight=tN;var _f=function(e){return e&&e.offsetWidth||0};j.getWidth=_f;var UE=function(e){return e&&e.offsetHeight||0};j.getHeight=UE;var jE=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};j.getSwipeDirection=jE;var zE=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};j.canGoNext=zE;var zG=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};j.extractObject=zG;var BG=function(e){var n=$G.default.Children.count(e.children),r=e.listRef,i=Math.ceil(_f(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(_f(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var l=r&&UE(r.querySelector('[data-index="0"]')),c=l*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],f=ME(Ve(Ve({},e),{},{currentSlide:d,lazyLoadedList:h}));h=h.concat(f);var g={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:l,listHeight:c,lazyLoadedList:h};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};j.initializedState=BG;var qG=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,l=e.currentSlide,c=e.centerMode,d=e.slidesToScroll,h=e.slidesToShow,f=e.useCSS,g=e.lazyLoadedList;if(n&&r)return{};var v=o,_,m,p,y={},w={},E=s?o:ZD(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?v=o+a:o>=a&&(v=o-a),u&&g.indexOf(v)<0&&(g=g.concat(v)),y={animating:!0,currentSlide:v,lazyLoadedList:g,targetSlide:v},w={animating:!1,targetSlide:v}}else _=v,v<0?(_=v+a,s?a%d!==0&&(_=a-a%d):_=0):!zE(e)&&v>l?v=_=l:c&&v>=a?(v=s?a:a-1,_=s?0:a-1):v>=a&&(_=v-a,s?a%d!==0&&(_=0):_=a-h),!s&&v+h>=a&&(_=a-h),m=gc(Ve(Ve({},e),{},{slideIndex:v})),p=gc(Ve(Ve({},e),{},{slideIndex:_})),s||(m===p&&(v=_),m=p),u&&(g=g.concat(ME(Ve(Ve({},e),{},{currentSlide:v})))),f?(y={animating:!0,currentSlide:_,trackStyle:BE(Ve(Ve({},e),{},{left:m})),lazyLoadedList:g,targetSlide:E},w={animating:!1,currentSlide:_,trackStyle:mc(Ve(Ve({},e),{},{left:p})),swipeLeft:null,targetSlide:E}):y={currentSlide:_,trackStyle:mc(Ve(Ve({},e),{},{left:p})),lazyLoadedList:g,targetSlide:E};return{state:y,nextState:w}};j.slideHandler=qG;var WG=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,l=e.slidesToShow,c=e.slideCount,d=e.currentSlide,h=e.targetSlide,f=e.lazyLoad,g=e.infinite;if(o=c%u!==0,r=o?0:(c-d)%u,n.message==="previous")s=r===0?u:l-r,a=d-s,f&&!g&&(i=d-s,a=i===-1?c-1:i),g||(a=h-u);else if(n.message==="next")s=r===0?u:r,a=d+s,f&&!g&&(a=(d+u)%c+r),g||(a=h+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,g){var v=sN(Ve(Ve({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-c:a<n.currentSlide&&v==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};j.changeSlide=WG;var HG=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};j.keyHandler=HG;var GG=function(e,n,r){return e.target.tagName==="IMG"&&js(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};j.swipeStart=GG;var KG=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,l=n.currentSlide,c=n.edgeFriction,d=n.edgeDragged,h=n.onEdge,f=n.swiped,g=n.swiping,v=n.slideCount,_=n.slidesToScroll,m=n.infinite,p=n.touchObject,y=n.swipeEvent,w=n.listHeight,E=n.listWidth;if(!r){if(i)return js(e);s&&o&&a&&js(e);var I,T={},S=gc(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var k=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!g&&k>10)return{scrolling:!0};a&&(p.swipeLength=k);var A=(u?-1:1)*(p.curX>p.startX?1:-1);a&&(A=p.curY>p.startY?1:-1);var U=Math.ceil(v/_),W=jE(n.touchObject,a),H=p.swipeLength;return m||(l===0&&(W==="right"||W==="down")||l+1>=U&&(W==="left"||W==="up")||!zE(n)&&(W==="left"||W==="up"))&&(H=p.swipeLength*c,d===!1&&h&&(h(W),T.edgeDragged=!0)),!f&&y&&(y(W),T.swiped=!0),s?I=S+H*(w/E)*A:u?I=S-H*A:I=S+H*A,a&&(I=S+H*A),T=Ve(Ve({},T),{},{touchObject:p,swipeLeft:I,trackStyle:mc(Ve(Ve({},n),{},{left:I}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(T.swiping=!0,js(e)),T}};j.swipeMove=KG;var QG=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,l=n.listHeight,c=n.swipeToSlide,d=n.scrolling,h=n.onSwipe,f=n.targetSlide,g=n.currentSlide,v=n.infinite;if(!r)return i&&js(e),{};var _=u?l/a:o/a,m=jE(s,u),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return p;if(s.swipeLength>_){js(e),h&&h(m);var y,w,E=v?g:f;switch(m){case"left":case"up":w=E+o_(n),y=c?s_(n,w):w,p.currentDirection=0;break;case"right":case"down":w=E-o_(n),y=c?s_(n,w):w,p.currentDirection=1;break;default:y=E}p.triggerSlideHandler=y}else{var I=gc(n);p.trackStyle=BE(Ve(Ve({},n),{},{left:I}))}return p};j.swipeEnd=QG;var nN=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};j.getNavigableIndexes=nN;var s_=function(e,n){var r=nN(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};j.checkNavigable=s_;var o_=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+UE(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+_f(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};j.getSlideCount=o_;var Im=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};j.checkSpecKeys=Im;var mc=function(e){Im(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=iN(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ve(Ve({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};j.getTrackCSS=mc;var BE=function(e){Im(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=mc(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};j.getTrackAnimateCSS=BE;var gc=function(e){if(e.unslick)return 0;Im(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,l=e.slideWidth,c=e.listWidth,d=e.variableWidth,h=e.slideHeight,f=e.fade,g=e.vertical,v=0,_,m,p=0;if(f||e.slideCount===1)return 0;var y=0;if(i?(y=-vl(e),o%u!==0&&n+u>o&&(y=-(n>o?a-(n-o):o%u)),s&&(y+=parseInt(a/2))):(o%u!==0&&n+u>o&&(y=a-o%u),s&&(y=parseInt(a/2))),v=y*l,p=y*h,g?_=n*h*-1+p:_=n*l*-1+v,d===!0){var w,E=r&&r.node;if(w=n+vl(e),m=E&&E.childNodes[w],_=m?m.offsetLeft*-1:0,s===!0){w=i?n+vl(e):n,m=E&&E.children[w],_=0;for(var I=0;I<w;I++)_-=E&&E.children[I]&&E.children[I].offsetWidth;_-=parseInt(e.centerPadding),_+=m&&(c-m.offsetWidth)/2}}return _};j.getTrackLeft=gc;var vl=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};j.getPreClones=vl;var rN=function(e){return e.unslick||!e.infinite?0:e.slideCount};j.getPostClones=rN;var iN=function(e){return e.slideCount===1?1:vl(e)+e.slideCount+rN(e)};j.getTotalSlides=iN;var sN=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+oN(e)?"left":"right":e.targetSlide<e.currentSlide-aN(e)?"right":"left"};j.siblingDirection=sN;var oN=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};j.slidesOnRight=oN;var aN=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};j.slidesOnLeft=aN;var YG=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};j.canUseDOM=YG;var Tm={};function a_(t){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(t)}Object.defineProperty(Tm,"__esModule",{value:!0});Tm.Track=void 0;var gi=uN(me),Kg=uN(Em),Qg=j;function uN(t){return t&&t.__esModule?t:{default:t}}function u_(){return u_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function XG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JG(t,e,n){return e&&tP(t.prototype,e),n&&tP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},l_(t,e)}function eK(t){var e=nK();return function(){var r=wf(t),i;if(e){var s=wf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return tK(this,i)}}function tK(t,e){if(e&&(a_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_(t)}function c_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){d_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},rK=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Xg=function(e,n){return e.key||n},iK=function(e){var n,r=[],i=[],s=[],o=gi.default.Children.count(e.children),a=(0,Qg.lazyStartIndex)(e),u=(0,Qg.lazyEndIndex)(e);return gi.default.Children.forEach(e.children,function(l,c){var d,h={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?d=l:d=gi.default.createElement("div",null);var f=rK(sn(sn({},e),{},{index:c})),g=d.props.className||"",v=Yg(sn(sn({},e),{},{index:c}));if(r.push(gi.default.cloneElement(d,{key:"original"+Xg(d,c),"data-index":c,className:(0,Kg.default)(v,g),tabIndex:"-1","aria-hidden":!v["slick-active"],style:sn(sn({outline:"none"},d.props.style||{}),f),onClick:function(p){d.props&&d.props.onClick&&d.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&e.fade===!1){var _=o-c;_<=(0,Qg.getPreClones)(e)&&o!==e.slidesToShow&&(n=-_,n>=a&&(d=l),v=Yg(sn(sn({},e),{},{index:n})),i.push(gi.default.cloneElement(d,{key:"precloned"+Xg(d,n),"data-index":n,tabIndex:"-1",className:(0,Kg.default)(v,g),"aria-hidden":!v["slick-active"],style:sn(sn({},d.props.style||{}),f),onClick:function(p){d.props&&d.props.onClick&&d.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}}))),o!==e.slidesToShow&&(n=o+c,n<u&&(d=l),v=Yg(sn(sn({},e),{},{index:n})),s.push(gi.default.cloneElement(d,{key:"postcloned"+Xg(d,n),"data-index":n,tabIndex:"-1",className:(0,Kg.default)(v,g),"aria-hidden":!v["slick-active"],style:sn(sn({},d.props.style||{}),f),onClick:function(p){d.props&&d.props.onClick&&d.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},sK=function(t){ZG(n,t);var e=eK(n);function n(){var r;XG(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),d_(c_(r),"node",null),d_(c_(r),"handleRef",function(a){r.node=a}),r}return JG(n,[{key:"render",value:function(){var i=iK(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,l={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return gi.default.createElement("div",u_({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},l),i)}}]),n}(gi.default.PureComponent);Tm.Track=sK;var Sm={};function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}Object.defineProperty(Sm,"__esModule",{value:!0});Sm.Dots=void 0;var Cd=lN(me),oK=lN(Em),rP=j;function lN(t){return t&&t.__esModule?t:{default:t}}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){uK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cK(t,e,n){return e&&sP(t.prototype,e),n&&sP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},f_(t,e)}function hK(t){var e=mK();return function(){var r=Ef(t),i;if(e){var s=Ef(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return fK(this,i)}}function fK(t,e){if(e&&(h_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pK(t)}function pK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(t)}var gK=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},yK=function(t){dK(n,t);var e=hK(n);function n(){return lK(this,n),e.apply(this,arguments)}return cK(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,l=i.slidesToScroll,c=i.slidesToShow,d=i.slideCount,h=i.currentSlide,f=gK({slideCount:d,slidesToScroll:l,slidesToShow:c,infinite:u}),g={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},v=[],_=0;_<f;_++){var m=(_+1)*l-1,p=u?m:(0,rP.clamp)(m,0,d-1),y=p-(l-1),w=u?y:(0,rP.clamp)(y,0,d-1),E=(0,oK.default)({"slick-active":u?h>=w&&h<=p:h===w}),I={message:"dots",index:_,slidesToScroll:l,currentSlide:h},T=this.clickHandler.bind(this,I);v=v.concat(Cd.default.createElement("li",{key:_,className:E},Cd.default.cloneElement(this.props.customPaging(_),{onClick:T})))}return Cd.default.cloneElement(this.props.appendDots(v),aK({className:this.props.dotsClass},g))}}]),n}(Cd.default.PureComponent);Sm.Dots=yK;var Ha={};function p_(t){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p_(t)}Object.defineProperty(Ha,"__esModule",{value:!0});Ha.PrevArrow=Ha.NextArrow=void 0;var ma=dN(me),cN=dN(Em),vK=j;function dN(t){return t&&t.__esModule?t:{default:t}}function If(){return If=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(this,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){_K(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fN(t,e,n){return e&&aP(t.prototype,e),n&&aP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},m_(t,e)}function mN(t){var e=IK();return function(){var r=Sf(t),i;if(e){var s=Sf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return wK(this,i)}}function wK(t,e){if(e&&(p_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EK(t)}function EK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}var TK=function(t){pN(n,t);var e=mN(n);function n(){return hN(this,n),e.apply(this,arguments)}return fN(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,cN.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=ma.default.cloneElement(this.props.prevArrow,Tf(Tf({},o),a)):u=ma.default.createElement("button",If({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(ma.default.PureComponent);Ha.PrevArrow=TK;var SK=function(t){pN(n,t);var e=mN(n);function n(){return hN(this,n),e.apply(this,arguments)}return fN(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,vK.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,cN.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=ma.default.cloneElement(this.props.nextArrow,Tf(Tf({},o),a)):u=ma.default.createElement("button",If({key:"1",type:"button"},o)," ","Next"),u}}]),n}(ma.default.PureComponent);Ha.NextArrow=SK;var gN=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),g_=typeof window<"u"&&typeof document<"u"&&window.document===document,Pf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),PK=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Pf):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),RK=2;function bK(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){PK(s)}function a(){var u=Date.now();if(n){if(u-i<RK)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var AK=20,kK=["top","right","bottom","left","width","height","size","weight"],xK=typeof MutationObserver<"u",CK=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=bK(this.refresh.bind(this),AK)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!g_||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xK?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!g_||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=kK.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),yN=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ga=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Pf},vN=Pm(0,0,0,0);function Rf(t){return parseFloat(t)||0}function uP(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Rf(s)},0)}function OK(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Rf(o)}return n}function DK(t){var e=t.getBBox();return Pm(0,0,e.width,e.height)}function NK(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return vN;var r=Ga(t).getComputedStyle(t),i=OK(r),s=i.left+i.right,o=i.top+i.bottom,a=Rf(r.width),u=Rf(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=uP(r,"left","right")+s),Math.round(u+o)!==n&&(u-=uP(r,"top","bottom")+o)),!VK(t)){var l=Math.round(a+s)-e,c=Math.round(u+o)-n;Math.abs(l)!==1&&(a-=l),Math.abs(c)!==1&&(u-=c)}return Pm(i.left,i.top,a,u)}var LK=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ga(t).SVGGraphicsElement}:function(t){return t instanceof Ga(t).SVGElement&&typeof t.getBBox=="function"}}();function VK(t){return t===Ga(t).document.documentElement}function MK(t){return g_?LK(t)?DK(t):NK(t):vN}function $K(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return yN(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Pm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var FK=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Pm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=MK(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),UK=function(){function t(e,n){var r=$K(n);yN(this,{target:e,contentRect:r})}return t}(),jK=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new gN,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ga(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new FK(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ga(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new UK(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_N=typeof WeakMap<"u"?new WeakMap:new gN,wN=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=CK.getInstance(),r=new jK(e,n,this);_N.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){wN.prototype[t]=function(){var e;return(e=_N.get(this))[t].apply(e,arguments)}});var zK=function(){return typeof Pf.ResizeObserver<"u"?Pf.ResizeObserver:wN}();const BK=Object.freeze(Object.defineProperty({__proto__:null,default:zK},Symbol.toStringTag,{value:"Module"})),qK=PN(BK);Object.defineProperty(wm,"__esModule",{value:!0});wm.InnerSlider=void 0;var Wt=Yc(me),WK=Yc(XD),HK=Yc(MG),GK=Yc(Em),ze=j,KK=Tm,QK=Sm,lP=Ha,YK=Yc(qK);function Yc(t){return t&&t.__esModule?t:{default:t}}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Af(){return Af=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}function XK(t,e){if(t==null)return{};var n=JK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e8(t,e,n){return e&&dP(t.prototype,e),n&&dP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},y_(t,e)}function n8(t){var e=i8();return function(){var r=kf(t),i;if(e){var s=kf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return r8(this,i)}}function r8(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(t)}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s8=function(t){t8(n,t);var e=n8(n);function n(r){var i;ZK(this,n),i=e.call(this,r),ie(re(i),"listRefHandler",function(o){return i.list=o}),ie(re(i),"trackRefHandler",function(o){return i.track=o}),ie(re(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,ze.getHeight)(o)+"px"}}),ie(re(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,ze.getOnDemandLazySlides)(X(X({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=X({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new YK.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ie(re(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ie(re(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,ze.getOnDemandLazySlides)(X(X({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=X(X({listRef:i.list,trackRef:i.track},i.props),i.state),l=i.didPropsChange(o);l&&i.updateState(u,l,function(){i.state.currentSlide>=Wt.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Wt.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ie(re(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,HK.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),ie(re(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=X(X({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ie(re(i),"updateState",function(o,a,u){var l=(0,ze.initializedState)(o);o=X(X(X({},o),l),{},{slideIndex:l.currentSlide});var c=(0,ze.getTrackLeft)(o);o=X(X({},o),{},{left:c});var d=(0,ze.getTrackCSS)(o);(a||Wt.default.Children.count(i.props.children)!==Wt.default.Children.count(o.children))&&(l.trackStyle=d),i.setState(l,u)}),ie(re(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],l=(0,ze.getPreClones)(X(X(X({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,ze.getPostClones)(X(X(X({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(T){u.push(T.props.style.width),o+=T.props.style.width});for(var d=0;d<l;d++)a+=u[u.length-1-d],o+=u[u.length-1-d];for(var h=0;h<c;h++)o+=u[h];for(var f=0;f<i.state.currentSlide;f++)a+=u[f];var g={width:o+"px",left:-a+"px"};if(i.props.centerMode){var v="".concat(u[i.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:g}}var _=Wt.default.Children.count(i.props.children),m=X(X(X({},i.props),i.state),{},{slideCount:_}),p=(0,ze.getPreClones)(m)+(0,ze.getPostClones)(m)+_,y=100/i.props.slidesToShow*p,w=100/p,E=-w*((0,ze.getPreClones)(m)+i.state.currentSlide)*y/100;i.props.centerMode&&(E+=(100-w*y/100)/2);var I={width:y+"%",left:E+"%"};return{slideWidth:w+"%",trackStyle:I}}),ie(re(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(l){var c=function(){return++u&&u>=a&&i.onWindowResized()};if(!l.onclick)l.onclick=function(){return l.parentNode.focus()};else{var d=l.onclick;l.onclick=function(){d(),l.parentNode.focus()}}l.onload||(i.props.lazyLoad?l.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(l.onload=c,l.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ie(re(i),"progressiveLazyLoad",function(){for(var o=[],a=X(X({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,ze.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var l=i.state.currentSlide-1;l>=-(0,ze.getPreClones)(a);l--)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ie(re(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,l=u.asNavFor,c=u.beforeChange,d=u.onLazyLoad,h=u.speed,f=u.afterChange,g=i.state.currentSlide,v=(0,ze.slideHandler)(X(X(X({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=v.state,m=v.nextState;if(_){c&&c(g,_.currentSlide);var p=_.lazyLoadedList.filter(function(y){return i.state.lazyLoadedList.indexOf(y)<0});d&&p.length>0&&d(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),f&&f(g),delete i.animationEndCallback),i.setState(_,function(){l&&i.asNavForIndex!==o&&(i.asNavForIndex=o,l.innerSlider.slideHandler(o)),m&&(i.animationEndCallback=setTimeout(function(){var y=m.animating,w=XK(m,["animating"]);i.setState(w,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:y})},10)),f&&f(_.currentSlide),delete i.animationEndCallback})},h))})}}),ie(re(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=X(X({},i.props),i.state),l=(0,ze.changeSlide)(u,o);if(!(l!==0&&!l)&&(a===!0?i.slideHandler(l,a):i.slideHandler(l),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),ie(re(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),ie(re(i),"keyHandler",function(o){var a=(0,ze.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),ie(re(i),"selectHandler",function(o){i.changeSlide(o)}),ie(re(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),ie(re(i),"enableBodyScroll",function(){window.ontouchmove=null}),ie(re(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,ze.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),ie(re(i),"swipeMove",function(o){var a=(0,ze.swipeMove)(o,X(X(X({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),ie(re(i),"swipeEnd",function(o){var a=(0,ze.swipeEnd)(o,X(X(X({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),ie(re(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),ie(re(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ie(re(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ie(re(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),ie(re(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,ze.canGoNext)(X(X({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),ie(re(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ie(re(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),ie(re(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ie(re(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ie(re(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ie(re(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ie(re(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ie(re(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ie(re(i),"render",function(){var o=(0,GK.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=X(X({},i.props),i.state),u=(0,ze.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),l=i.props.pauseOnHover;u=X(X({},u),{},{onMouseEnter:l?i.onTrackOver:null,onMouseLeave:l?i.onTrackLeave:null,onMouseOver:l?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,ze.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=i.props.pauseOnDotsHover;d=X(X({},d),{},{clickHandler:i.changeSlide,onMouseEnter:h?i.onDotsLeave:null,onMouseOver:h?i.onDotsOver:null,onMouseLeave:h?i.onDotsLeave:null}),c=Wt.default.createElement(QK.Dots,d)}var f,g,v=(0,ze.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=i.changeSlide,i.props.arrows&&(f=Wt.default.createElement(lP.PrevArrow,v),g=Wt.default.createElement(lP.NextArrow,v));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var m=null;i.props.vertical===!1?i.props.centerMode===!0&&(m={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(m={padding:i.props.centerPadding+" 0px"});var p=X(X({},_),m),y=i.props.touchMove,w={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:y?i.swipeStart:null,onMouseMove:i.state.dragging&&y?i.swipeMove:null,onMouseUp:y?i.swipeEnd:null,onMouseLeave:i.state.dragging&&y?i.swipeEnd:null,onTouchStart:y?i.swipeStart:null,onTouchMove:i.state.dragging&&y?i.swipeMove:null,onTouchEnd:y?i.touchEnd:null,onTouchCancel:i.state.dragging&&y?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},E={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(w={className:"slick-list"},E={className:o}),Wt.default.createElement("div",E,i.props.unslick?"":f,Wt.default.createElement("div",Af({ref:i.listRefHandler},w),Wt.default.createElement(KK.Track,Af({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":g,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=X(X({},WK.default),{},{currentSlide:i.props.initialSlide,slideCount:Wt.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=X(X({},i.state),s),i}return e8(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(bf(i[u])==="object"||typeof i[u]=="function")&&i[u]!==this.props[u]){s=!0;break}}return s||Wt.default.Children.count(this.props.children)!==Wt.default.Children.count(i.children)}}]),n}(Wt.default.Component);wm.InnerSlider=s8;var o8=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},a8=o8,u8=a8,l8=function(t){var e=/[height|width]$/;return e.test(t)},hP=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=u8(r),l8(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},c8=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=hP(n),r<t.length-1&&(e+=", ")}),e):hP(t)},d8=c8,EN={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(me);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(EN);var Jg,fP;function h8(){if(fP)return Jg;fP=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Jg=t,Jg}var Zg,pP;function IN(){if(pP)return Zg;pP=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Zg={isFunction:n,isArray:e,each:t},Zg}var ey,mP;function f8(){if(mP)return ey;mP=1;var t=h8(),e=IN().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},ey=n,ey}var ty,gP;function p8(){if(gP)return ty;gP=1;var t=f8(),e=IN(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,u){var l=this.queries,c=u&&this.browserIsIncapable;return l[o]||(l[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(d){r(d)&&(d={match:d}),l[o].addHandler(d)}),this},unregister:function(o,a){var u=this.queries[o];return u&&(a?u.removeHandler(a):(u.clear(),delete this.queries[o])),this}},ty=s,ty}var ny,yP;function m8(){if(yP)return ny;yP=1;var t=p8();return ny=new t,ny}(function(t){function e(S){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},e(S)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(me),r=wm,i=a(d8),s=a(EN),o=j;function a(S){return S&&S.__esModule?S:{default:S}}function u(){return u=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var A=arguments[k];for(var U in A)Object.prototype.hasOwnProperty.call(A,U)&&(S[U]=A[U])}return S},u.apply(this,arguments)}function l(S,k){var A=Object.keys(S);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(S);k&&(U=U.filter(function(W){return Object.getOwnPropertyDescriptor(S,W).enumerable})),A.push.apply(A,U)}return A}function c(S){for(var k=1;k<arguments.length;k++){var A=arguments[k]!=null?arguments[k]:{};k%2?l(Object(A),!0).forEach(function(U){E(S,U,A[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(A)):l(Object(A)).forEach(function(U){Object.defineProperty(S,U,Object.getOwnPropertyDescriptor(A,U))})}return S}function d(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function h(S,k){for(var A=0;A<k.length;A++){var U=k[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(S,U.key,U)}}function f(S,k,A){return k&&h(S.prototype,k),A&&h(S,A),Object.defineProperty(S,"prototype",{writable:!1}),S}function g(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),k&&v(S,k)}function v(S,k){return v=Object.setPrototypeOf||function(U,W){return U.__proto__=W,U},v(S,k)}function _(S){var k=y();return function(){var U=w(S),W;if(k){var H=w(this).constructor;W=Reflect.construct(U,arguments,H)}else W=U.apply(this,arguments);return m(this,W)}}function m(S,k){if(k&&(e(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(S)}function p(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(S){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},w(S)}function E(S,k,A){return k in S?Object.defineProperty(S,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[k]=A,S}var I=(0,o.canUseDOM)()&&m8(),T=function(S){g(A,S);var k=_(A);function A(U){var W;return d(this,A),W=k.call(this,U),E(p(W),"innerSliderRefHandler",function(H){return W.innerSlider=H}),E(p(W),"slickPrev",function(){return W.innerSlider.slickPrev()}),E(p(W),"slickNext",function(){return W.innerSlider.slickNext()}),E(p(W),"slickGoTo",function(H){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return W.innerSlider.slickGoTo(H,Te)}),E(p(W),"slickPause",function(){return W.innerSlider.pause("paused")}),E(p(W),"slickPlay",function(){return W.innerSlider.autoPlay("play")}),W.state={breakpoint:null},W._responsiveMediaHandlers=[],W}return f(A,[{key:"media",value:function(W,H){I.register(W,H),this._responsiveMediaHandlers.push({query:W,handler:H})}},{key:"componentDidMount",value:function(){var W=this;if(this.props.responsive){var H=this.props.responsive.map(function(oe){return oe.breakpoint});H.sort(function(oe,Le){return oe-Le}),H.forEach(function(oe,Le){var je;Le===0?je=(0,i.default)({minWidth:0,maxWidth:oe}):je=(0,i.default)({minWidth:H[Le-1]+1,maxWidth:oe}),(0,o.canUseDOM)()&&W.media(je,function(){W.setState({breakpoint:oe})})});var Te=(0,i.default)({minWidth:H.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Te,function(){W.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(W){I.unregister(W.query,W.handler)})}},{key:"render",value:function(){var W=this,H,Te;this.state.breakpoint?(Te=this.props.responsive.filter(function(ue){return ue.breakpoint===W.state.breakpoint}),H=Te[0].settings==="unslick"?"unslick":c(c(c({},s.default),this.props),Te[0].settings)):H=c(c({},s.default),this.props),H.centerMode&&(H.slidesToScroll>1,H.slidesToScroll=1),H.fade&&(H.slidesToShow>1,H.slidesToScroll>1,H.slidesToShow=1,H.slidesToScroll=1);var oe=n.default.Children.toArray(this.props.children);oe=oe.filter(function(ue){return typeof ue=="string"?!!ue.trim():!!ue}),H.variableWidth&&(H.rows>1||H.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),H.variableWidth=!1);for(var Le=[],je=null,L=0;L<oe.length;L+=H.rows*H.slidesPerRow){for(var D=[],x=L;x<L+H.rows*H.slidesPerRow;x+=H.slidesPerRow){for(var G=[],z=x;z<x+H.slidesPerRow&&(H.variableWidth&&oe[z].props.style&&(je=oe[z].props.style.width),!(z>=oe.length));z+=1)G.push(n.default.cloneElement(oe[z],{key:100*L+10*x+z,tabIndex:-1,style:{width:"".concat(100/H.slidesPerRow,"%"),display:"inline-block"}}));D.push(n.default.createElement("div",{key:10*L+x},G))}H.variableWidth?Le.push(n.default.createElement("div",{key:L,style:{width:je}},D)):Le.push(n.default.createElement("div",{key:L},D))}if(H==="unslick"){var ae="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:ae},oe)}else Le.length<=H.slidesToShow&&(H.unslick=!0);return n.default.createElement(r.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},H),Le)}}]),A}(n.default.Component);t.default=T})(YD);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(YD);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(QD);const g8=xf(QD),y8=t=>{let e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoPlay:!0};return b.jsxs(v8,{...e,children:[b.jsx(Od,{children:b.jsx("a",{children:b.jsx("img",{src:"/images/slider-badging.jpg",alt:""})})}),b.jsx(Od,{children:b.jsx("a",{children:b.jsx("img",{src:"/images/slider-scale.jpg",alt:""})})}),b.jsx(Od,{children:b.jsx("a",{children:b.jsx("img",{src:"/images/slider-badag.jpg",alt:""})})}),b.jsx(Od,{children:b.jsx("a",{children:b.jsx("img",{src:"/images/slider-scales.jpg",alt:""})})})]})},v8=Z(g8)`
	margin-top: 20px;

	& > button{
		opacity: 0;
		height: 100%;
		width: 5vw;
		z-index: 1;

		&:hover{
			opacity: 1;
			transition: opacity 0.2s ease 0s;
		}
	}

	ul li button{
		&:before{
			font-size: 10px;
			color: rgb(150, 158, 171);
		}
	}

	li.slick-active button:before{
		color: #fff;
	}

	.slick-list{
		overflow: initial;
	}

	.slick-prev{
		left: -75px;
	}

	.slick-next{
		right: -75px;
	}
`,Od=Z.div`
	border-radius: 4px;
	cursor: pointer;
	position: relative;

	a {
		border-radius: 4px;
		box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
		cursor: pointer;
		display: block;
		position: relative;
		padding: 4px;

		img {
			height: 100%;
			width: 100%;
		}

		&:hover{
			padding: 0;
			border: 4px solid rgba(249, 249, 249, 0.8);
			transition-duration: 300ms;
		}
	}
`,_8=t=>b.jsxs(w8,{children:[b.jsxs(Vu,{children:[b.jsx("img",{src:"/images/viewers-disney.png",alt:""}),b.jsx("video",{autoPlay:!0,loop:!0,playsInline:!0,children:b.jsx("source",{src:"/videos/1564674844-disney.mp4",type:"video/mp4"})})]}),b.jsxs(Vu,{children:[b.jsx("img",{src:"/images/viewers-pixar.png",alt:""}),b.jsx("video",{autoPlay:!0,loop:!0,playsInline:!0,children:b.jsx("source",{src:"/videos/1564676714-pixar.mp4",type:"video/mp4"})})]}),b.jsxs(Vu,{children:[b.jsx("img",{src:"/images/viewers-marvel.png",alt:""}),b.jsx("video",{autoPlay:!0,loop:!0,playsInline:!0,children:b.jsx("source",{src:"/videos/1564676115-marvel.mp4",type:"video/mp4"})})]}),b.jsxs(Vu,{children:[b.jsx("img",{src:"/images/viewers-starwars.png",alt:""}),b.jsx("video",{autoPlay:!0,loop:!0,playsInline:!0,children:b.jsx("source",{src:"/videos/1608229455-star-wars.mp4",type:"video/mp4"})})]}),b.jsxs(Vu,{children:[b.jsx("img",{src:"/images/viewers-national.png",alt:""}),b.jsx("video",{autoPlay:!0,loop:!0,playsInline:!0,children:b.jsx("source",{src:"/videos/1564676296-national-geographic.mp4",type:"video/mp4"})})]})]}),w8=Z.div`
	margin-top: 30px;
	padding: 30px 0px 26px;
	display: grid;
	grid-gap: 25px;
	grid-template-columns: repeat(5, minmax(0, 1fr));

	@media (max-width: 768px){
		grid-template-columns: repeat(1, minmax(0, 1fr));
	}
`,Vu=Z.div`
	padding-top: 56.25%;
	border-radius: 10px;
	box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
	cursor: pointer;
	overflow: hidden;
	position: relative;
	transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;
	border: 3px solid rgba(249, 249, 249, 0.1);

	img {
		inset: 0px;
		display: block;
		height: 100%;
		object-fit: cover;
		opacity: 1;
		position: absolute;
		transition: opacity 500ms ease-in-out 0s;
		width: 100%;
		z-index:1;
		top: 0;
	}

	video{
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0px;
		opacity: 0;
		z-index: 0;
	}

	&:hover {
		box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
		transform: scale(1.05);
		border-color: rgba(249, 249, 249, 0.8);

		video{
			opacity: 1;
		}
	}
`,E8={recommend:null,newDisney:null,originals:null,trending:null},TN=qD({name:"movie",initialState:E8,reducers:{setMovies:(t,e)=>{t.recommend=e.payload.recommend,t.newDisney=e.payload.newDisney,t.originals=e.payload.originals,t.trending=e.payload.trending}}}),{setMovies:I8}=TN.actions,T8=t=>t.movie.recommend,S8=t=>t.movie.newDisney,P8=t=>t.movie.originals,R8=t=>t.movie.trending,b8=TN.reducer,A8=t=>{const e=Gs(T8);return b.jsxs(k8,{children:[b.jsx("h4",{children:"Recommended for You"}),b.jsx(x8,{children:e&&e.map((n,r)=>b.jsx(C8,{children:b.jsx(Ic,{to:"/detail/"+n.id,children:b.jsx("img",{src:n.cardImg,alt:n.title})})},r))})]})},k8=Z.div`
	padding: 0 0 26px;
`,x8=Z.div`
	display: grid;
	grid-gap: 25px;
	gap: 25px;
	grid-template-columns: repeat(4, minmax(0, 1fr));

	@media (max-width: 768px){
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}
`,C8=Z.div`
	// padding-top: 56.25%;
	border-radius: 10px;
	box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
	cursor: pointer;
	overflow: hidden;
	position: relative;
	transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;
	border: 3px solid rgba(249, 249, 249, 0.1);

	img{
		inset: 0px;
		display: block;
		height: 100%;
		width: 100%;
		object-fit: cover;
		opacity: 1;
		transition: opacity 500ms ease-in-out 0s;
		top: 0;
	}

	&:hover{
		box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
		transform: scale(1.05);
		border-color: rgba(249, 249, 249, 0.8);
	}

`,O8=t=>{const e=Gs(S8);return b.jsxs(D8,{children:[b.jsx("h4",{children:"New to Disney+"}),b.jsx(N8,{children:e&&e.map((n,r)=>b.jsx(L8,{children:b.jsx(Ic,{to:"/detail/"+n.id,children:b.jsx("img",{src:n.cardImg,alt:n.title})})},r))})]})},D8=Z.div`
	padding: 0 0 26px;
`,N8=Z.div`
	display: grid;
	grid-gap: 25px;
	gap: 25px;
	grid-template-columns: repeat(4, minmax(0, 1fr));

	@media (max-width: 768px){
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}
`,L8=Z.div`
	// padding-top: 56.25%;
	border-radius: 10px;
	box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
	cursor: pointer;
	overflow: hidden;
	position: relative;
	transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;
	border: 3px solid rgba(249, 249, 249, 0.1);

	img{
		inset: 0px;
		display: block;
		height: 100%;
		width: 100%;
		object-fit: cover;
		opacity: 1;
		transition: opacity 500ms ease-in-out 0s;
		top: 0;
	}

	&:hover{
		box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
		transform: scale(1.05);
		border-color: rgba(249, 249, 249, 0.8);
	}

`,V8=t=>{const e=Gs(P8);return b.jsxs(M8,{children:[b.jsx("h4",{children:"Originals"}),b.jsx($8,{children:e&&e.map((n,r)=>b.jsx(F8,{children:b.jsx(Ic,{to:"/detail/"+n.id,children:b.jsx("img",{src:n.cardImg,alt:n.title})})},r))})]})},M8=Z.div`
	padding: 0 0 26px;
`,$8=Z.div`
	display: grid;
	grid-gap: 25px;
	gap: 25px;
	grid-template-columns: repeat(4, minmax(0, 1fr));

	@media (max-width: 768px){
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}
`,F8=Z.div`
	// padding-top: 56.25%;
	border-radius: 10px;
	box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
	cursor: pointer;
	overflow: hidden;
	position: relative;
	transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;
	border: 3px solid rgba(249, 249, 249, 0.1);

	img{
		inset: 0px;
		display: block;
		height: 100%;
		width: 100%;
		object-fit: cover;
		opacity: 1;
		transition: opacity 500ms ease-in-out 0s;
		top: 0;
	}

	&:hover{
		box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
		transform: scale(1.05);
		border-color: rgba(249, 249, 249, 0.8);
	}

`,U8=t=>{const e=Gs(R8);return b.jsxs(j8,{children:[b.jsx("h4",{children:"Trending"}),b.jsx(z8,{children:e&&e.map((n,r)=>b.jsx(B8,{children:b.jsx(Ic,{to:"/detail/"+n.id,children:b.jsx("img",{src:n.cardImg,alt:n.title})})},r))})]})},j8=Z.div`
	padding: 0 0 26px;
`,z8=Z.div`
	display: grid;
	grid-gap: 25px;
	gap: 25px;
	grid-template-columns: repeat(4, minmax(0, 1fr));

	@media (max-width: 768px){
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}
`,B8=Z.div`
	// padding-top: 56.25%;
	border-radius: 10px;
	box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
	cursor: pointer;
	overflow: hidden;
	position: relative;
	transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;
	border: 3px solid rgba(249, 249, 249, 0.1);

	img{
		inset: 0px;
		display: block;
		height: 100%;
		width: 100%;
		object-fit: cover;
		opacity: 1;
		transition: opacity 500ms ease-in-out 0s;
		top: 0;
	}

	&:hover{
		box-shadow: rgb( 0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px;
		transform: scale(1.05);
		border-color: rgba(249, 249, 249, 0.8);
	}

`,q8=t=>{const e=Wb(),n=Gs(HD);let r=[],i=[],s=[],o=[];return me.useEffect(()=>{OD.collection("movies").onSnapshot(a=>{a.docs.map(u=>{switch(u.data().type){case"recommend":r=[...r,{id:u.id,...u.data()}];break;case"new":i=[...i,{id:u.id,...u.data()}];break;case"original":o=[...o,{id:u.id,...u.data()}];break;case"trending":s=[...s,{id:u.id,...u.data()}];break}}),e(I8({recommend:r,newDisney:i,originals:o,trending:s}))})},[n]),b.jsxs(W8,{children:[b.jsx(y8,{}),b.jsx(_8,{}),b.jsx(A8,{}),b.jsx(O8,{}),b.jsx(V8,{}),b.jsx(U8,{})]})},W8=Z.main`
	position: relative;
    min-height: calc(100vh - 250px);
    overflow-x: hidden;
    display: block;
    top: 70px;
    padding: 0.5rem calc(4.5vw + 5px) 0rem calc(4.5vw + 5px);

	&:after{
		background: url("/images/home-background.png") center center / cover no-repeat fixed;
		content: '';
		position: absolute;
		inset: 0px;
		opacity: 1;
		z-index: -1;
	}
`,H8=t=>{const{id:e}=AM(),[n,r]=me.useState({});return me.useEffect(()=>{OD.collection("movies").doc(e).get().then(i=>{i.exists?r(i.data()):console.log("No such document in firebase")}).catch(i=>{console.log("Error getting documents:",i)})},[e]),b.jsxs(G8,{children:[b.jsx(K8,{children:b.jsx("img",{src:n.backgroundImg,alt:n.title})}),b.jsx(Q8,{children:b.jsx("img",{src:n.titleImg,alt:n.title})}),b.jsxs(Y8,{children:[b.jsxs(X8,{children:[b.jsxs(SN,{children:[b.jsx("img",{src:"/images/play-icon-black.png",alt:"play-black"}),b.jsx("span",{children:"Play"})]}),b.jsxs(J8,{children:[b.jsx("img",{src:"/images/play-icon-white.png",alt:"play-white"}),b.jsx("span",{children:"Trailer"})]}),b.jsxs(Z8,{children:[b.jsx("span",{}),b.jsx("span",{})]}),b.jsx(e7,{children:b.jsx("div",{children:b.jsx("img",{src:"/images/group-icon.png",alt:"group-watch"})})})]}),b.jsx(t7,{children:n.subTitle}),b.jsx(n7,{children:n.description})]})]})},G8=Z.div`
	position: relative;
	min-height: calc(100%-250px);
	overflow-x: hidden;
	display: block;
	top: 72px;
	padding: calc(3.5vw + 5px);
`,K8=Z.div`
	left: 0px;
	opacity: 0.8;
	position: fixed;
	right: 0px;
	top: 0px;
	z-index: -1;

	img{
		width: 100vw;
		height: 100vh;

		@media (max-width:768px){
			width: initial;
		}
	}
`,Q8=Z.div`
	align-items: flex-end;
	display: flex;
	-webkit-box-pack: start;
	justify-content: flex-start;
	margin: 0px auto;
	height: 30vw;
	min-height: 170px;
	padding-bottom:24px;
	width: 100%;

	img{
		max-width: 600px;
		min-width: 200px;
		width: 35vw;
	}
`,Y8=Z.div`
	max-width: 874px;
`,X8=Z.div`
	align-items: center;
	display: flex;
	flex-flow: row nowrap;
	margin: 24px 0;
	min-height: 56px;
`,SN=Z.button`
	font-size: 15px;
	margin: 0px 22px 0px 0px;
	padding: 0px 24px;
	height: 56px;
	border-radius: 4px;
	align-items: center;
	display: flex;
	cursor: pointer;
	justify-content: center;
	letter-spacing: 1.8px;
	text-align: center;
	text-transform: uppercase;
	background: rgb(249, 249, 249);
	border: none;
	color: rgb(0, 0, 0);

	img{
		width: 32px;
	}

	&:hover{
		background: rgb(198, 198, 198);
	}

	@media (max-width: 768px){
		height: 45px;
		padding: 0px 22px;
		font-size: 12px;
		margin: 0px 10px 0px 0px;

		img{
			width: 25px;
		}
	}
`,J8=Z(SN)`
	background: rgba(0, 0, 0, 0.3);
	border: 1px solid rgb(249, 249, 249);
	color: rgb(249, 249, 249);
`,Z8=Z.div`
	margin-right: 16px;
	height: 44px;
	width: 44px;
	display: flex;
	justify-content: center;
	align-items: center;
	background-color: rgba(0, 0, 0, 0.6);
	border-radius: 50%;
	border: 2px solid #fff;
	cursor: pointer;

	span {
		background-color: rgb(249, 249, 249);
		display: inline-block;

		&:first-child{
			height: 2px;
			transform: translate(1px, 0px) rotate(0deg);
			width: 16px;
		}

		&:nth-child(2){
			height: 16px;
			transform: translateX(-8px) rotate(0deg);
			width: 2px;
		}
	}
`,e7=Z.div`
	height: 44px;
	width: 44px;
	border-radius: 50%;
	display: flex;
	justify-content: center;
	align-items: center;
	cursor: pointer;
	background: #fff;

	div{
		height: 40px;
		width: 40px;
		background: rgb(0, 0, 0);
		border-radius: 50%;

		img{
			width: 100%;
		}
	}
`,t7=Z.div`
	color: rgb(249, 249, 249);
	font-size: 15px;
	min-height: 20px;

	@media (max-width: 768px){
		font-size: 12px;
	}
`,n7=Z.div`
	line-height: 1.4;
	font-size: 20px;
	padding: 16px 0px;
	color: rgb(249, 249, 249);

	@media (max-width: 768px){
		font-size: 14px;
	}
`;function r7(){return b.jsx("div",{className:"App",children:b.jsxs(kM,{children:[b.jsx(pG,{}),b.jsxs(RM,{children:[b.jsx(rg,{exact:!0,path:"/",children:b.jsx(V$,{})}),b.jsx(rg,{path:"/home",children:b.jsx(q8,{})}),b.jsx(rg,{path:"/detail/:id",children:b.jsx(H8,{})})]})]})})}const i7=ZH({reducer:{user:fG,movie:b8},middleware:zD({serializableCheck:!1})});ry.createRoot(document.getElementById("root")).render(b.jsx(le.StrictMode,{children:b.jsx(M2,{store:i7,children:b.jsx(r7,{})})}));
